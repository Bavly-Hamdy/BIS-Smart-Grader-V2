function d3(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var g2={exports:{}},Rg={},y2={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gd=Symbol.for("react.element"),h3=Symbol.for("react.portal"),p3=Symbol.for("react.fragment"),m3=Symbol.for("react.strict_mode"),g3=Symbol.for("react.profiler"),y3=Symbol.for("react.provider"),v3=Symbol.for("react.context"),x3=Symbol.for("react.forward_ref"),_3=Symbol.for("react.suspense"),b3=Symbol.for("react.memo"),w3=Symbol.for("react.lazy"),y1=Symbol.iterator;function T3(t){return t===null||typeof t!="object"?null:(t=y1&&t[y1]||t["@@iterator"],typeof t=="function"?t:null)}var v2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x2=Object.assign,_2={};function au(t,e,n){this.props=t,this.context=e,this.refs=_2,this.updater=n||v2}au.prototype.isReactComponent={};au.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};au.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function b2(){}b2.prototype=au.prototype;function Lw(t,e,n){this.props=t,this.context=e,this.refs=_2,this.updater=n||v2}var jw=Lw.prototype=new b2;jw.constructor=Lw;x2(jw,au.prototype);jw.isPureReactComponent=!0;var v1=Array.isArray,w2=Object.prototype.hasOwnProperty,$w={current:null},T2={key:!0,ref:!0,__self:!0,__source:!0};function E2(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)w2.call(e,r)&&!T2.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:gd,type:t,key:o,ref:s,props:i,_owner:$w.current}}function E3(t,e){return{$$typeof:gd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vw(t){return typeof t=="object"&&t!==null&&t.$$typeof===gd}function S3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var x1=/\/+/g;function qv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?S3(""+t.key):e.toString(36)}function sp(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case gd:case h3:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+qv(s,0):r,v1(i)?(n="",t!=null&&(n=t.replace(x1,"$&/")+"/"),sp(i,e,n,"",function(u){return u})):i!=null&&(Vw(i)&&(i=E3(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(x1,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",v1(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+qv(o,a);s+=sp(o,e,n,l,i)}else if(l=T3(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+qv(o,a++),s+=sp(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function gh(t,e,n){if(t==null)return t;var r=[],i=0;return sp(t,r,"","",function(o){return e.call(n,o,i++)}),r}function A3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pn={current:null},ap={transition:null},P3={ReactCurrentDispatcher:Pn,ReactCurrentBatchConfig:ap,ReactCurrentOwner:$w};function S2(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:gh,forEach:function(t,e,n){gh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gh(t,function(){e++}),e},toArray:function(t){return gh(t,function(e){return e})||[]},only:function(t){if(!Vw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=au;Ae.Fragment=p3;Ae.Profiler=g3;Ae.PureComponent=Lw;Ae.StrictMode=m3;Ae.Suspense=_3;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P3;Ae.act=S2;Ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=x2({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=$w.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)w2.call(e,l)&&!T2.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:gd,type:t.type,key:i,ref:o,props:r,_owner:s}};Ae.createContext=function(t){return t={$$typeof:v3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:y3,_context:t},t.Consumer=t};Ae.createElement=E2;Ae.createFactory=function(t){var e=E2.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:x3,render:t}};Ae.isValidElement=Vw;Ae.lazy=function(t){return{$$typeof:w3,_payload:{_status:-1,_result:t},_init:A3}};Ae.memo=function(t,e){return{$$typeof:b3,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=ap.transition;ap.transition={};try{t()}finally{ap.transition=e}};Ae.unstable_act=S2;Ae.useCallback=function(t,e){return Pn.current.useCallback(t,e)};Ae.useContext=function(t){return Pn.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return Pn.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return Pn.current.useEffect(t,e)};Ae.useId=function(){return Pn.current.useId()};Ae.useImperativeHandle=function(t,e,n){return Pn.current.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return Pn.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return Pn.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return Pn.current.useMemo(t,e)};Ae.useReducer=function(t,e,n){return Pn.current.useReducer(t,e,n)};Ae.useRef=function(t){return Pn.current.useRef(t)};Ae.useState=function(t){return Pn.current.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return Pn.current.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return Pn.current.useTransition()};Ae.version="18.3.1";y2.exports=Ae;var j=y2.exports;const $=Fe(j),C3=d3({__proto__:null,default:$},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I3=j,k3=Symbol.for("react.element"),O3=Symbol.for("react.fragment"),N3=Object.prototype.hasOwnProperty,R3=I3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M3={key:!0,ref:!0,__self:!0,__source:!0};function A2(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)N3.call(e,r)&&!M3.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:k3,type:t,key:o,ref:s,props:i,_owner:R3.current}}Rg.Fragment=O3;Rg.jsx=A2;Rg.jsxs=A2;g2.exports=Rg;var g=g2.exports,gx={},P2={exports:{}},Zn={},C2={exports:{}},I2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,q){var Y=V.length;V.push(q);e:for(;0<Y;){var re=Y-1>>>1,J=V[re];if(0<i(J,q))V[re]=q,V[Y]=J,Y=re;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var q=V[0],Y=V.pop();if(Y!==q){V[0]=Y;e:for(var re=0,J=V.length,oe=J>>>1;re<oe;){var Ce=2*(re+1)-1,De=V[Ce],ot=Ce+1,Bt=V[ot];if(0>i(De,Y))ot<J&&0>i(Bt,De)?(V[re]=Bt,V[ot]=Y,re=ot):(V[re]=De,V[Ce]=Y,re=Ce);else if(ot<J&&0>i(Bt,Y))V[re]=Bt,V[ot]=Y,re=ot;else break e}}return q}function i(V,q){var Y=V.sortIndex-q.sortIndex;return Y!==0?Y:V.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,p=!1,v=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(V){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=V)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(u)}}function C(V){if(x=!1,T(V),!v)if(n(l)!==null)v=!0,K(S);else{var q=n(u);q!==null&&W(C,q.startTime-V)}}function S(V,q){v=!1,x&&(x=!1,b(A),A=-1),p=!0;var Y=d;try{for(T(q),f=n(l);f!==null&&(!(f.expirationTime>q)||V&&!R());){var re=f.callback;if(typeof re=="function"){f.callback=null,d=f.priorityLevel;var J=re(f.expirationTime<=q);q=t.unstable_now(),typeof J=="function"?f.callback=J:f===n(l)&&r(l),T(q)}else r(l);f=n(l)}if(f!==null)var oe=!0;else{var Ce=n(u);Ce!==null&&W(C,Ce.startTime-q),oe=!1}return oe}finally{f=null,d=Y,p=!1}}var I=!1,P=null,A=-1,O=5,N=-1;function R(){return!(t.unstable_now()-N<O)}function D(){if(P!==null){var V=t.unstable_now();N=V;var q=!0;try{q=P(!0,V)}finally{q?M():(I=!1,P=null)}}else I=!1}var M;if(typeof w=="function")M=function(){w(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,z=U.port2;U.port1.onmessage=D,M=function(){z.postMessage(null)}}else M=function(){_(D,0)};function K(V){P=V,I||(I=!0,M())}function W(V,q){A=_(function(){V(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,K(S))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(d){case 1:case 2:case 3:var q=3;break;default:q=d}var Y=d;d=q;try{return V()}finally{d=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Y=d;d=V;try{return q()}finally{d=Y}},t.unstable_scheduleCallback=function(V,q,Y){var re=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?re+Y:re):Y=re,V){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Y+J,V={id:c++,callback:q,priorityLevel:V,startTime:Y,expirationTime:J,sortIndex:-1},Y>re?(V.sortIndex=Y,e(u,V),n(l)===null&&V===n(u)&&(x?(b(A),A=-1):x=!0,W(C,Y-re))):(V.sortIndex=J,e(l,V),v||p||(v=!0,K(S))),V},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(V){var q=d;return function(){var Y=d;d=q;try{return V.apply(this,arguments)}finally{d=Y}}}})(I2);C2.exports=I2;var D3=C2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L3=j,Qn=D3;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k2=new Set,Jc={};function sa(t,e){gl(t,e),gl(t+"Capture",e)}function gl(t,e){for(Jc[t]=e,t=0;t<e.length;t++)k2.add(e[t])}var ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yx=Object.prototype.hasOwnProperty,j3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_1={},b1={};function $3(t){return yx.call(b1,t)?!0:yx.call(_1,t)?!1:j3.test(t)?b1[t]=!0:(_1[t]=!0,!1)}function V3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function F3(t,e,n,r){if(e===null||typeof e>"u"||V3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Cn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qt[t]=new Cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qt[e]=new Cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qt[t]=new Cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qt[t]=new Cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qt[t]=new Cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qt[t]=new Cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qt[t]=new Cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qt[t]=new Cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qt[t]=new Cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Fw=/[\-:]([a-z])/g;function Uw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Fw,Uw);Qt[e]=new Cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Fw,Uw);Qt[e]=new Cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Fw,Uw);Qt[e]=new Cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qt[t]=new Cn(t,1,!1,t.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qt[t]=new Cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bw(t,e,n,r){var i=Qt.hasOwnProperty(e)?Qt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(F3(e,n,i,r)&&(n=null),r||i===null?$3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zi=L3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yh=Symbol.for("react.element"),Ia=Symbol.for("react.portal"),ka=Symbol.for("react.fragment"),zw=Symbol.for("react.strict_mode"),vx=Symbol.for("react.profiler"),O2=Symbol.for("react.provider"),N2=Symbol.for("react.context"),qw=Symbol.for("react.forward_ref"),xx=Symbol.for("react.suspense"),_x=Symbol.for("react.suspense_list"),Gw=Symbol.for("react.memo"),io=Symbol.for("react.lazy"),R2=Symbol.for("react.offscreen"),w1=Symbol.iterator;function Hu(t){return t===null||typeof t!="object"?null:(t=w1&&t[w1]||t["@@iterator"],typeof t=="function"?t:null)}var ft=Object.assign,Gv;function pc(t){if(Gv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gv=e&&e[1]||""}return`
`+Gv+t}var Wv=!1;function Hv(t,e){if(!t||Wv)return"";Wv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Wv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pc(t):""}function U3(t){switch(t.tag){case 5:return pc(t.type);case 16:return pc("Lazy");case 13:return pc("Suspense");case 19:return pc("SuspenseList");case 0:case 2:case 15:return t=Hv(t.type,!1),t;case 11:return t=Hv(t.type.render,!1),t;case 1:return t=Hv(t.type,!0),t;default:return""}}function bx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ka:return"Fragment";case Ia:return"Portal";case vx:return"Profiler";case zw:return"StrictMode";case xx:return"Suspense";case _x:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N2:return(t.displayName||"Context")+".Consumer";case O2:return(t._context.displayName||"Context")+".Provider";case qw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gw:return e=t.displayName||null,e!==null?e:bx(t.type)||"Memo";case io:e=t._payload,t=t._init;try{return bx(t(e))}catch{}}return null}function B3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bx(e);case 8:return e===zw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function M2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function z3(t){var e=M2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vh(t){t._valueTracker||(t._valueTracker=z3(t))}function D2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=M2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wx(t,e){var n=e.checked;return ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function T1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=jo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function L2(t,e){e=e.checked,e!=null&&Bw(t,"checked",e,!1)}function Tx(t,e){L2(t,e);var n=jo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ex(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ex(t,e.type,jo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function E1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ex(t,e,n){(e!=="number"||Rp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mc=Array.isArray;function el(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+jo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Sx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function S1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(mc(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:jo(n)}}function j2(t,e){var n=jo(e.value),r=jo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function A1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ax(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xh,V2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xh=xh||document.createElement("div"),xh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ic={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},q3=["Webkit","ms","Moz","O"];Object.keys(Ic).forEach(function(t){q3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ic[e]=Ic[t]})});function F2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ic.hasOwnProperty(t)&&Ic[t]?(""+e).trim():e+"px"}function U2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=F2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var G3=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Px(t,e){if(e){if(G3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function Cx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ix=null;function Ww(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kx=null,tl=null,nl=null;function P1(t){if(t=xd(t)){if(typeof kx!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=$g(e),kx(t.stateNode,t.type,e))}}function B2(t){tl?nl?nl.push(t):nl=[t]:tl=t}function z2(){if(tl){var t=tl,e=nl;if(nl=tl=null,P1(t),e)for(t=0;t<e.length;t++)P1(e[t])}}function q2(t,e){return t(e)}function G2(){}var Kv=!1;function W2(t,e,n){if(Kv)return t(e,n);Kv=!0;try{return q2(t,e,n)}finally{Kv=!1,(tl!==null||nl!==null)&&(G2(),z2())}}function ef(t,e){var n=t.stateNode;if(n===null)return null;var r=$g(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var Ox=!1;if(ki)try{var Ku={};Object.defineProperty(Ku,"passive",{get:function(){Ox=!0}}),window.addEventListener("test",Ku,Ku),window.removeEventListener("test",Ku,Ku)}catch{Ox=!1}function W3(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var kc=!1,Mp=null,Dp=!1,Nx=null,H3={onError:function(t){kc=!0,Mp=t}};function K3(t,e,n,r,i,o,s,a,l){kc=!1,Mp=null,W3.apply(H3,arguments)}function Y3(t,e,n,r,i,o,s,a,l){if(K3.apply(this,arguments),kc){if(kc){var u=Mp;kc=!1,Mp=null}else throw Error(Z(198));Dp||(Dp=!0,Nx=u)}}function aa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function H2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function C1(t){if(aa(t)!==t)throw Error(Z(188))}function X3(t){var e=t.alternate;if(!e){if(e=aa(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return C1(i),t;if(o===r)return C1(i),e;o=o.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function K2(t){return t=X3(t),t!==null?Y2(t):null}function Y2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Y2(t);if(e!==null)return e;t=t.sibling}return null}var X2=Qn.unstable_scheduleCallback,I1=Qn.unstable_cancelCallback,Q3=Qn.unstable_shouldYield,J3=Qn.unstable_requestPaint,bt=Qn.unstable_now,Z3=Qn.unstable_getCurrentPriorityLevel,Hw=Qn.unstable_ImmediatePriority,Q2=Qn.unstable_UserBlockingPriority,Lp=Qn.unstable_NormalPriority,e6=Qn.unstable_LowPriority,J2=Qn.unstable_IdlePriority,Mg=null,Wr=null;function t6(t){if(Wr&&typeof Wr.onCommitFiberRoot=="function")try{Wr.onCommitFiberRoot(Mg,t,void 0,(t.current.flags&128)===128)}catch{}}var Ir=Math.clz32?Math.clz32:i6,n6=Math.log,r6=Math.LN2;function i6(t){return t>>>=0,t===0?32:31-(n6(t)/r6|0)|0}var _h=64,bh=4194304;function gc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=gc(a):(o&=s,o!==0&&(r=gc(o)))}else s=n&~i,s!==0?r=gc(s):o!==0&&(r=gc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ir(e),i=1<<n,r|=t[n],e&=~i;return r}function o6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Ir(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=o6(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Rx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Z2(){var t=_h;return _h<<=1,!(_h&4194240)&&(_h=64),t}function Yv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ir(e),t[e]=n}function a6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ir(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Kw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ir(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $e=0;function eD(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tD,Yw,nD,rD,iD,Mx=!1,wh=[],bo=null,wo=null,To=null,tf=new Map,nf=new Map,lo=[],l6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function k1(t,e){switch(t){case"focusin":case"focusout":bo=null;break;case"dragenter":case"dragleave":wo=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":tf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nf.delete(e.pointerId)}}function Yu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=xd(e),e!==null&&Yw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function u6(t,e,n,r,i){switch(e){case"focusin":return bo=Yu(bo,t,e,n,r,i),!0;case"dragenter":return wo=Yu(wo,t,e,n,r,i),!0;case"mouseover":return To=Yu(To,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return tf.set(o,Yu(tf.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,nf.set(o,Yu(nf.get(o)||null,t,e,n,r,i)),!0}return!1}function oD(t){var e=Cs(t.target);if(e!==null){var n=aa(e);if(n!==null){if(e=n.tag,e===13){if(e=H2(n),e!==null){t.blockedOn=e,iD(t.priority,function(){nD(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ix=r,n.target.dispatchEvent(r),Ix=null}else return e=xd(n),e!==null&&Yw(e),t.blockedOn=n,!1;e.shift()}return!0}function O1(t,e,n){lp(t)&&n.delete(e)}function c6(){Mx=!1,bo!==null&&lp(bo)&&(bo=null),wo!==null&&lp(wo)&&(wo=null),To!==null&&lp(To)&&(To=null),tf.forEach(O1),nf.forEach(O1)}function Xu(t,e){t.blockedOn===e&&(t.blockedOn=null,Mx||(Mx=!0,Qn.unstable_scheduleCallback(Qn.unstable_NormalPriority,c6)))}function rf(t){function e(i){return Xu(i,t)}if(0<wh.length){Xu(wh[0],t);for(var n=1;n<wh.length;n++){var r=wh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bo!==null&&Xu(bo,t),wo!==null&&Xu(wo,t),To!==null&&Xu(To,t),tf.forEach(e),nf.forEach(e),n=0;n<lo.length;n++)r=lo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<lo.length&&(n=lo[0],n.blockedOn===null);)oD(n),n.blockedOn===null&&lo.shift()}var rl=zi.ReactCurrentBatchConfig,$p=!0;function f6(t,e,n,r){var i=$e,o=rl.transition;rl.transition=null;try{$e=1,Xw(t,e,n,r)}finally{$e=i,rl.transition=o}}function d6(t,e,n,r){var i=$e,o=rl.transition;rl.transition=null;try{$e=4,Xw(t,e,n,r)}finally{$e=i,rl.transition=o}}function Xw(t,e,n,r){if($p){var i=Dx(t,e,n,r);if(i===null)o0(t,e,r,Vp,n),k1(t,r);else if(u6(i,t,e,n,r))r.stopPropagation();else if(k1(t,r),e&4&&-1<l6.indexOf(t)){for(;i!==null;){var o=xd(i);if(o!==null&&tD(o),o=Dx(t,e,n,r),o===null&&o0(t,e,r,Vp,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else o0(t,e,r,null,n)}}var Vp=null;function Dx(t,e,n,r){if(Vp=null,t=Ww(r),t=Cs(t),t!==null)if(e=aa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=H2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vp=t,null}function sD(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Z3()){case Hw:return 1;case Q2:return 4;case Lp:case e6:return 16;case J2:return 536870912;default:return 16}default:return 16}}var go=null,Qw=null,up=null;function aD(){if(up)return up;var t,e=Qw,n=e.length,r,i="value"in go?go.value:go.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return up=i.slice(t,1<r?1-r:void 0)}function cp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Th(){return!0}function N1(){return!1}function er(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Th:N1,this.isPropagationStopped=N1,this}return ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Th)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Th)},persist:function(){},isPersistent:Th}),e}var lu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jw=er(lu),vd=ft({},lu,{view:0,detail:0}),h6=er(vd),Xv,Qv,Qu,Dg=ft({},vd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qu&&(Qu&&t.type==="mousemove"?(Xv=t.screenX-Qu.screenX,Qv=t.screenY-Qu.screenY):Qv=Xv=0,Qu=t),Xv)},movementY:function(t){return"movementY"in t?t.movementY:Qv}}),R1=er(Dg),p6=ft({},Dg,{dataTransfer:0}),m6=er(p6),g6=ft({},vd,{relatedTarget:0}),Jv=er(g6),y6=ft({},lu,{animationName:0,elapsedTime:0,pseudoElement:0}),v6=er(y6),x6=ft({},lu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_6=er(x6),b6=ft({},lu,{data:0}),M1=er(b6),w6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=E6[t])?!!e[t]:!1}function Zw(){return S6}var A6=ft({},vd,{key:function(t){if(t.key){var e=w6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?T6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zw,charCode:function(t){return t.type==="keypress"?cp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),P6=er(A6),C6=ft({},Dg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D1=er(C6),I6=ft({},vd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zw}),k6=er(I6),O6=ft({},lu,{propertyName:0,elapsedTime:0,pseudoElement:0}),N6=er(O6),R6=ft({},Dg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),M6=er(R6),D6=[9,13,27,32],eT=ki&&"CompositionEvent"in window,Oc=null;ki&&"documentMode"in document&&(Oc=document.documentMode);var L6=ki&&"TextEvent"in window&&!Oc,lD=ki&&(!eT||Oc&&8<Oc&&11>=Oc),L1=" ",j1=!1;function uD(t,e){switch(t){case"keyup":return D6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oa=!1;function j6(t,e){switch(t){case"compositionend":return cD(e);case"keypress":return e.which!==32?null:(j1=!0,L1);case"textInput":return t=e.data,t===L1&&j1?null:t;default:return null}}function $6(t,e){if(Oa)return t==="compositionend"||!eT&&uD(t,e)?(t=aD(),up=Qw=go=null,Oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lD&&e.locale!=="ko"?null:e.data;default:return null}}var V6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!V6[t.type]:e==="textarea"}function fD(t,e,n,r){B2(r),e=Fp(e,"onChange"),0<e.length&&(n=new Jw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Nc=null,of=null;function F6(t){wD(t,0)}function Lg(t){var e=Ma(t);if(D2(e))return t}function U6(t,e){if(t==="change")return e}var dD=!1;if(ki){var Zv;if(ki){var e0="oninput"in document;if(!e0){var V1=document.createElement("div");V1.setAttribute("oninput","return;"),e0=typeof V1.oninput=="function"}Zv=e0}else Zv=!1;dD=Zv&&(!document.documentMode||9<document.documentMode)}function F1(){Nc&&(Nc.detachEvent("onpropertychange",hD),of=Nc=null)}function hD(t){if(t.propertyName==="value"&&Lg(of)){var e=[];fD(e,of,t,Ww(t)),W2(F6,e)}}function B6(t,e,n){t==="focusin"?(F1(),Nc=e,of=n,Nc.attachEvent("onpropertychange",hD)):t==="focusout"&&F1()}function z6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lg(of)}function q6(t,e){if(t==="click")return Lg(e)}function G6(t,e){if(t==="input"||t==="change")return Lg(e)}function W6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rr=typeof Object.is=="function"?Object.is:W6;function sf(t,e){if(Rr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!yx.call(e,i)||!Rr(t[i],e[i]))return!1}return!0}function U1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function B1(t,e){var n=U1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=U1(n)}}function pD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mD(){for(var t=window,e=Rp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rp(t.document)}return e}function tT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function H6(t){var e=mD(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pD(n.ownerDocument.documentElement,n)){if(r!==null&&tT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=B1(n,o);var s=B1(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var K6=ki&&"documentMode"in document&&11>=document.documentMode,Na=null,Lx=null,Rc=null,jx=!1;function z1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jx||Na==null||Na!==Rp(r)||(r=Na,"selectionStart"in r&&tT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rc&&sf(Rc,r)||(Rc=r,r=Fp(Lx,"onSelect"),0<r.length&&(e=new Jw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Na)))}function Eh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ra={animationend:Eh("Animation","AnimationEnd"),animationiteration:Eh("Animation","AnimationIteration"),animationstart:Eh("Animation","AnimationStart"),transitionend:Eh("Transition","TransitionEnd")},t0={},gD={};ki&&(gD=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function jg(t){if(t0[t])return t0[t];if(!Ra[t])return t;var e=Ra[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gD)return t0[t]=e[n];return t}var yD=jg("animationend"),vD=jg("animationiteration"),xD=jg("animationstart"),_D=jg("transitionend"),bD=new Map,q1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ho(t,e){bD.set(t,e),sa(e,[t])}for(var n0=0;n0<q1.length;n0++){var r0=q1[n0],Y6=r0.toLowerCase(),X6=r0[0].toUpperCase()+r0.slice(1);Ho(Y6,"on"+X6)}Ho(yD,"onAnimationEnd");Ho(vD,"onAnimationIteration");Ho(xD,"onAnimationStart");Ho("dblclick","onDoubleClick");Ho("focusin","onFocus");Ho("focusout","onBlur");Ho(_D,"onTransitionEnd");gl("onMouseEnter",["mouseout","mouseover"]);gl("onMouseLeave",["mouseout","mouseover"]);gl("onPointerEnter",["pointerout","pointerover"]);gl("onPointerLeave",["pointerout","pointerover"]);sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sa("onBeforeInput",["compositionend","keypress","textInput","paste"]);sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q6=new Set("cancel close invalid load scroll toggle".split(" ").concat(yc));function G1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Y3(r,e,void 0,t),t.currentTarget=null}function wD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;G1(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;G1(i,a,u),o=l}}}if(Dp)throw t=Nx,Dp=!1,Nx=null,t}function Je(t,e){var n=e[Bx];n===void 0&&(n=e[Bx]=new Set);var r=t+"__bubble";n.has(r)||(TD(e,t,2,!1),n.add(r))}function i0(t,e,n){var r=0;e&&(r|=4),TD(n,t,r,e)}var Sh="_reactListening"+Math.random().toString(36).slice(2);function af(t){if(!t[Sh]){t[Sh]=!0,k2.forEach(function(n){n!=="selectionchange"&&(Q6.has(n)||i0(n,!1,t),i0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sh]||(e[Sh]=!0,i0("selectionchange",!1,e))}}function TD(t,e,n,r){switch(sD(e)){case 1:var i=f6;break;case 4:i=d6;break;default:i=Xw}n=i.bind(null,e,n,t),i=void 0,!Ox||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function o0(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Cs(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}W2(function(){var u=o,c=Ww(n),f=[];e:{var d=bD.get(t);if(d!==void 0){var p=Jw,v=t;switch(t){case"keypress":if(cp(n)===0)break e;case"keydown":case"keyup":p=P6;break;case"focusin":v="focus",p=Jv;break;case"focusout":v="blur",p=Jv;break;case"beforeblur":case"afterblur":p=Jv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=R1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=m6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=k6;break;case yD:case vD:case xD:p=v6;break;case _D:p=N6;break;case"scroll":p=h6;break;case"wheel":p=M6;break;case"copy":case"cut":case"paste":p=_6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=D1}var x=(e&4)!==0,_=!x&&t==="scroll",b=x?d!==null?d+"Capture":null:d;x=[];for(var w=u,T;w!==null;){T=w;var C=T.stateNode;if(T.tag===5&&C!==null&&(T=C,b!==null&&(C=ef(w,b),C!=null&&x.push(lf(w,C,T)))),_)break;w=w.return}0<x.length&&(d=new p(d,v,null,n,c),f.push({event:d,listeners:x}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Ix&&(v=n.relatedTarget||n.fromElement)&&(Cs(v)||v[Oi]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?Cs(v):null,v!==null&&(_=aa(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(x=R1,C="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(x=D1,C="onPointerLeave",b="onPointerEnter",w="pointer"),_=p==null?d:Ma(p),T=v==null?d:Ma(v),d=new x(C,w+"leave",p,n,c),d.target=_,d.relatedTarget=T,C=null,Cs(c)===u&&(x=new x(b,w+"enter",v,n,c),x.target=T,x.relatedTarget=_,C=x),_=C,p&&v)t:{for(x=p,b=v,w=0,T=x;T;T=wa(T))w++;for(T=0,C=b;C;C=wa(C))T++;for(;0<w-T;)x=wa(x),w--;for(;0<T-w;)b=wa(b),T--;for(;w--;){if(x===b||b!==null&&x===b.alternate)break t;x=wa(x),b=wa(b)}x=null}else x=null;p!==null&&W1(f,d,p,x,!1),v!==null&&_!==null&&W1(f,_,v,x,!0)}}e:{if(d=u?Ma(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var S=U6;else if($1(d))if(dD)S=G6;else{S=z6;var I=B6}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=q6);if(S&&(S=S(t,u))){fD(f,S,n,c);break e}I&&I(t,d,u),t==="focusout"&&(I=d._wrapperState)&&I.controlled&&d.type==="number"&&Ex(d,"number",d.value)}switch(I=u?Ma(u):window,t){case"focusin":($1(I)||I.contentEditable==="true")&&(Na=I,Lx=u,Rc=null);break;case"focusout":Rc=Lx=Na=null;break;case"mousedown":jx=!0;break;case"contextmenu":case"mouseup":case"dragend":jx=!1,z1(f,n,c);break;case"selectionchange":if(K6)break;case"keydown":case"keyup":z1(f,n,c)}var P;if(eT)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Oa?uD(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(lD&&n.locale!=="ko"&&(Oa||A!=="onCompositionStart"?A==="onCompositionEnd"&&Oa&&(P=aD()):(go=c,Qw="value"in go?go.value:go.textContent,Oa=!0)),I=Fp(u,A),0<I.length&&(A=new M1(A,t,null,n,c),f.push({event:A,listeners:I}),P?A.data=P:(P=cD(n),P!==null&&(A.data=P)))),(P=L6?j6(t,n):$6(t,n))&&(u=Fp(u,"onBeforeInput"),0<u.length&&(c=new M1("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=P))}wD(f,e)})}function lf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ef(t,n),o!=null&&r.unshift(lf(t,o,i)),o=ef(t,e),o!=null&&r.push(lf(t,o,i))),t=t.return}return r}function wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function W1(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ef(n,o),l!=null&&s.unshift(lf(n,l,a))):i||(l=ef(n,o),l!=null&&s.push(lf(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var J6=/\r\n?/g,Z6=/\u0000|\uFFFD/g;function H1(t){return(typeof t=="string"?t:""+t).replace(J6,`
`).replace(Z6,"")}function Ah(t,e,n){if(e=H1(e),H1(t)!==e&&n)throw Error(Z(425))}function Up(){}var $x=null,Vx=null;function Fx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ux=typeof setTimeout=="function"?setTimeout:void 0,e9=typeof clearTimeout=="function"?clearTimeout:void 0,K1=typeof Promise=="function"?Promise:void 0,t9=typeof queueMicrotask=="function"?queueMicrotask:typeof K1<"u"?function(t){return K1.resolve(null).then(t).catch(n9)}:Ux;function n9(t){setTimeout(function(){throw t})}function s0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),rf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);rf(e)}function Eo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Y1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var uu=Math.random().toString(36).slice(2),zr="__reactFiber$"+uu,uf="__reactProps$"+uu,Oi="__reactContainer$"+uu,Bx="__reactEvents$"+uu,r9="__reactListeners$"+uu,i9="__reactHandles$"+uu;function Cs(t){var e=t[zr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Oi]||n[zr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Y1(t);t!==null;){if(n=t[zr])return n;t=Y1(t)}return e}t=n,n=t.parentNode}return null}function xd(t){return t=t[zr]||t[Oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ma(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function $g(t){return t[uf]||null}var zx=[],Da=-1;function Ko(t){return{current:t}}function tt(t){0>Da||(t.current=zx[Da],zx[Da]=null,Da--)}function Ye(t,e){Da++,zx[Da]=t.current,t.current=e}var $o={},vn=Ko($o),Dn=Ko(!1),zs=$o;function yl(t,e){var n=t.type.contextTypes;if(!n)return $o;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ln(t){return t=t.childContextTypes,t!=null}function Bp(){tt(Dn),tt(vn)}function X1(t,e,n){if(vn.current!==$o)throw Error(Z(168));Ye(vn,e),Ye(Dn,n)}function ED(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,B3(t)||"Unknown",i));return ft({},n,r)}function zp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$o,zs=vn.current,Ye(vn,t),Ye(Dn,Dn.current),!0}function Q1(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=ED(t,e,zs),r.__reactInternalMemoizedMergedChildContext=t,tt(Dn),tt(vn),Ye(vn,t)):tt(Dn),Ye(Dn,n)}var pi=null,Vg=!1,a0=!1;function SD(t){pi===null?pi=[t]:pi.push(t)}function o9(t){Vg=!0,SD(t)}function Yo(){if(!a0&&pi!==null){a0=!0;var t=0,e=$e;try{var n=pi;for($e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pi=null,Vg=!1}catch(i){throw pi!==null&&(pi=pi.slice(t+1)),X2(Hw,Yo),i}finally{$e=e,a0=!1}}return null}var La=[],ja=0,qp=null,Gp=0,ar=[],lr=0,qs=null,mi=1,gi="";function xs(t,e){La[ja++]=Gp,La[ja++]=qp,qp=t,Gp=e}function AD(t,e,n){ar[lr++]=mi,ar[lr++]=gi,ar[lr++]=qs,qs=t;var r=mi;t=gi;var i=32-Ir(r)-1;r&=~(1<<i),n+=1;var o=32-Ir(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,mi=1<<32-Ir(e)+i|n<<i|r,gi=o+t}else mi=1<<o|n<<i|r,gi=t}function nT(t){t.return!==null&&(xs(t,1),AD(t,1,0))}function rT(t){for(;t===qp;)qp=La[--ja],La[ja]=null,Gp=La[--ja],La[ja]=null;for(;t===qs;)qs=ar[--lr],ar[lr]=null,gi=ar[--lr],ar[lr]=null,mi=ar[--lr],ar[lr]=null}var Hn=null,Gn=null,rt=!1,Pr=null;function PD(t,e){var n=cr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function J1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Hn=t,Gn=Eo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Hn=t,Gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qs!==null?{id:mi,overflow:gi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Hn=t,Gn=null,!0):!1;default:return!1}}function qx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gx(t){if(rt){var e=Gn;if(e){var n=e;if(!J1(t,e)){if(qx(t))throw Error(Z(418));e=Eo(n.nextSibling);var r=Hn;e&&J1(t,e)?PD(r,n):(t.flags=t.flags&-4097|2,rt=!1,Hn=t)}}else{if(qx(t))throw Error(Z(418));t.flags=t.flags&-4097|2,rt=!1,Hn=t}}}function Z1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Hn=t}function Ph(t){if(t!==Hn)return!1;if(!rt)return Z1(t),rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fx(t.type,t.memoizedProps)),e&&(e=Gn)){if(qx(t))throw CD(),Error(Z(418));for(;e;)PD(t,e),e=Eo(e.nextSibling)}if(Z1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gn=Eo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gn=null}}else Gn=Hn?Eo(t.stateNode.nextSibling):null;return!0}function CD(){for(var t=Gn;t;)t=Eo(t.nextSibling)}function vl(){Gn=Hn=null,rt=!1}function iT(t){Pr===null?Pr=[t]:Pr.push(t)}var s9=zi.ReactCurrentBatchConfig;function Ju(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function Ch(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function eP(t){var e=t._init;return e(t._payload)}function ID(t){function e(b,w){if(t){var T=b.deletions;T===null?(b.deletions=[w],b.flags|=16):T.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=Co(b,w),b.index=0,b.sibling=null,b}function o(b,w,T){return b.index=T,t?(T=b.alternate,T!==null?(T=T.index,T<w?(b.flags|=2,w):T):(b.flags|=2,w)):(b.flags|=1048576,w)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,w,T,C){return w===null||w.tag!==6?(w=p0(T,b.mode,C),w.return=b,w):(w=i(w,T),w.return=b,w)}function l(b,w,T,C){var S=T.type;return S===ka?c(b,w,T.props.children,C,T.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===io&&eP(S)===w.type)?(C=i(w,T.props),C.ref=Ju(b,w,T),C.return=b,C):(C=yp(T.type,T.key,T.props,null,b.mode,C),C.ref=Ju(b,w,T),C.return=b,C)}function u(b,w,T,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=m0(T,b.mode,C),w.return=b,w):(w=i(w,T.children||[]),w.return=b,w)}function c(b,w,T,C,S){return w===null||w.tag!==7?(w=$s(T,b.mode,C,S),w.return=b,w):(w=i(w,T),w.return=b,w)}function f(b,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=p0(""+w,b.mode,T),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yh:return T=yp(w.type,w.key,w.props,null,b.mode,T),T.ref=Ju(b,null,w),T.return=b,T;case Ia:return w=m0(w,b.mode,T),w.return=b,w;case io:var C=w._init;return f(b,C(w._payload),T)}if(mc(w)||Hu(w))return w=$s(w,b.mode,T,null),w.return=b,w;Ch(b,w)}return null}function d(b,w,T,C){var S=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return S!==null?null:a(b,w,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case yh:return T.key===S?l(b,w,T,C):null;case Ia:return T.key===S?u(b,w,T,C):null;case io:return S=T._init,d(b,w,S(T._payload),C)}if(mc(T)||Hu(T))return S!==null?null:c(b,w,T,C,null);Ch(b,T)}return null}function p(b,w,T,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(T)||null,a(w,b,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case yh:return b=b.get(C.key===null?T:C.key)||null,l(w,b,C,S);case Ia:return b=b.get(C.key===null?T:C.key)||null,u(w,b,C,S);case io:var I=C._init;return p(b,w,T,I(C._payload),S)}if(mc(C)||Hu(C))return b=b.get(T)||null,c(w,b,C,S,null);Ch(w,C)}return null}function v(b,w,T,C){for(var S=null,I=null,P=w,A=w=0,O=null;P!==null&&A<T.length;A++){P.index>A?(O=P,P=null):O=P.sibling;var N=d(b,P,T[A],C);if(N===null){P===null&&(P=O);break}t&&P&&N.alternate===null&&e(b,P),w=o(N,w,A),I===null?S=N:I.sibling=N,I=N,P=O}if(A===T.length)return n(b,P),rt&&xs(b,A),S;if(P===null){for(;A<T.length;A++)P=f(b,T[A],C),P!==null&&(w=o(P,w,A),I===null?S=P:I.sibling=P,I=P);return rt&&xs(b,A),S}for(P=r(b,P);A<T.length;A++)O=p(P,b,A,T[A],C),O!==null&&(t&&O.alternate!==null&&P.delete(O.key===null?A:O.key),w=o(O,w,A),I===null?S=O:I.sibling=O,I=O);return t&&P.forEach(function(R){return e(b,R)}),rt&&xs(b,A),S}function x(b,w,T,C){var S=Hu(T);if(typeof S!="function")throw Error(Z(150));if(T=S.call(T),T==null)throw Error(Z(151));for(var I=S=null,P=w,A=w=0,O=null,N=T.next();P!==null&&!N.done;A++,N=T.next()){P.index>A?(O=P,P=null):O=P.sibling;var R=d(b,P,N.value,C);if(R===null){P===null&&(P=O);break}t&&P&&R.alternate===null&&e(b,P),w=o(R,w,A),I===null?S=R:I.sibling=R,I=R,P=O}if(N.done)return n(b,P),rt&&xs(b,A),S;if(P===null){for(;!N.done;A++,N=T.next())N=f(b,N.value,C),N!==null&&(w=o(N,w,A),I===null?S=N:I.sibling=N,I=N);return rt&&xs(b,A),S}for(P=r(b,P);!N.done;A++,N=T.next())N=p(P,b,A,N.value,C),N!==null&&(t&&N.alternate!==null&&P.delete(N.key===null?A:N.key),w=o(N,w,A),I===null?S=N:I.sibling=N,I=N);return t&&P.forEach(function(D){return e(b,D)}),rt&&xs(b,A),S}function _(b,w,T,C){if(typeof T=="object"&&T!==null&&T.type===ka&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case yh:e:{for(var S=T.key,I=w;I!==null;){if(I.key===S){if(S=T.type,S===ka){if(I.tag===7){n(b,I.sibling),w=i(I,T.props.children),w.return=b,b=w;break e}}else if(I.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===io&&eP(S)===I.type){n(b,I.sibling),w=i(I,T.props),w.ref=Ju(b,I,T),w.return=b,b=w;break e}n(b,I);break}else e(b,I);I=I.sibling}T.type===ka?(w=$s(T.props.children,b.mode,C,T.key),w.return=b,b=w):(C=yp(T.type,T.key,T.props,null,b.mode,C),C.ref=Ju(b,w,T),C.return=b,b=C)}return s(b);case Ia:e:{for(I=T.key;w!==null;){if(w.key===I)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(b,w.sibling),w=i(w,T.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=m0(T,b.mode,C),w.return=b,b=w}return s(b);case io:return I=T._init,_(b,w,I(T._payload),C)}if(mc(T))return v(b,w,T,C);if(Hu(T))return x(b,w,T,C);Ch(b,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(b,w.sibling),w=i(w,T),w.return=b,b=w):(n(b,w),w=p0(T,b.mode,C),w.return=b,b=w),s(b)):n(b,w)}return _}var xl=ID(!0),kD=ID(!1),Wp=Ko(null),Hp=null,$a=null,oT=null;function sT(){oT=$a=Hp=null}function aT(t){var e=Wp.current;tt(Wp),t._currentValue=e}function Wx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function il(t,e){Hp=t,oT=$a=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nn=!0),t.firstContext=null)}function mr(t){var e=t._currentValue;if(oT!==t)if(t={context:t,memoizedValue:e,next:null},$a===null){if(Hp===null)throw Error(Z(308));$a=t,Hp.dependencies={lanes:0,firstContext:t}}else $a=$a.next=t;return e}var Is=null;function lT(t){Is===null?Is=[t]:Is.push(t)}function OD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,lT(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ni(t,r)}function Ni(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var oo=!1;function uT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ND(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ti(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function So(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ni(t,n)}return i=r.interleaved,i===null?(e.next=e,lT(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ni(t,n)}function fp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kw(t,n)}}function tP(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Kp(t,e,n,r){var i=t.updateQueue;oo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,x=a;switch(d=e,p=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(p,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,d=typeof v=="function"?v.call(p,f,d):v,d==null)break e;f=ft({},f,d);break e;case 2:oo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ws|=s,t.lanes=s,t.memoizedState=f}}function nP(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var _d={},Hr=Ko(_d),cf=Ko(_d),ff=Ko(_d);function ks(t){if(t===_d)throw Error(Z(174));return t}function cT(t,e){switch(Ye(ff,e),Ye(cf,t),Ye(Hr,_d),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ax(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ax(e,t)}tt(Hr),Ye(Hr,e)}function _l(){tt(Hr),tt(cf),tt(ff)}function RD(t){ks(ff.current);var e=ks(Hr.current),n=Ax(e,t.type);e!==n&&(Ye(cf,t),Ye(Hr,n))}function fT(t){cf.current===t&&(tt(Hr),tt(cf))}var at=Ko(0);function Yp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var l0=[];function dT(){for(var t=0;t<l0.length;t++)l0[t]._workInProgressVersionPrimary=null;l0.length=0}var dp=zi.ReactCurrentDispatcher,u0=zi.ReactCurrentBatchConfig,Gs=0,ut=null,Ot=null,$t=null,Xp=!1,Mc=!1,df=0,a9=0;function on(){throw Error(Z(321))}function hT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rr(t[n],e[n]))return!1;return!0}function pT(t,e,n,r,i,o){if(Gs=o,ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dp.current=t===null||t.memoizedState===null?f9:d9,t=n(r,i),Mc){o=0;do{if(Mc=!1,df=0,25<=o)throw Error(Z(301));o+=1,$t=Ot=null,e.updateQueue=null,dp.current=h9,t=n(r,i)}while(Mc)}if(dp.current=Qp,e=Ot!==null&&Ot.next!==null,Gs=0,$t=Ot=ut=null,Xp=!1,e)throw Error(Z(300));return t}function mT(){var t=df!==0;return df=0,t}function Br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?ut.memoizedState=$t=t:$t=$t.next=t,$t}function gr(){if(Ot===null){var t=ut.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var e=$t===null?ut.memoizedState:$t.next;if(e!==null)$t=e,Ot=t;else{if(t===null)throw Error(Z(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},$t===null?ut.memoizedState=$t=t:$t=$t.next=t}return $t}function hf(t,e){return typeof e=="function"?e(t):e}function c0(t){var e=gr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=Ot,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Gs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ut.lanes|=c,Ws|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Rr(r,e.memoizedState)||(Nn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ut.lanes|=o,Ws|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function f0(t){var e=gr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Rr(o,e.memoizedState)||(Nn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function MD(){}function DD(t,e){var n=ut,r=gr(),i=e(),o=!Rr(r.memoizedState,i);if(o&&(r.memoizedState=i,Nn=!0),r=r.queue,gT($D.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||$t!==null&&$t.memoizedState.tag&1){if(n.flags|=2048,pf(9,jD.bind(null,n,r,i,e),void 0,null),Ft===null)throw Error(Z(349));Gs&30||LD(n,e,i)}return i}function LD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jD(t,e,n,r){e.value=n,e.getSnapshot=r,VD(e)&&FD(t)}function $D(t,e,n){return n(function(){VD(e)&&FD(t)})}function VD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rr(t,n)}catch{return!0}}function FD(t){var e=Ni(t,1);e!==null&&kr(e,t,1,-1)}function rP(t){var e=Br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hf,lastRenderedState:t},e.queue=t,t=t.dispatch=c9.bind(null,ut,t),[e.memoizedState,t]}function pf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function UD(){return gr().memoizedState}function hp(t,e,n,r){var i=Br();ut.flags|=t,i.memoizedState=pf(1|e,n,void 0,r===void 0?null:r)}function Fg(t,e,n,r){var i=gr();r=r===void 0?null:r;var o=void 0;if(Ot!==null){var s=Ot.memoizedState;if(o=s.destroy,r!==null&&hT(r,s.deps)){i.memoizedState=pf(e,n,o,r);return}}ut.flags|=t,i.memoizedState=pf(1|e,n,o,r)}function iP(t,e){return hp(8390656,8,t,e)}function gT(t,e){return Fg(2048,8,t,e)}function BD(t,e){return Fg(4,2,t,e)}function zD(t,e){return Fg(4,4,t,e)}function qD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function GD(t,e,n){return n=n!=null?n.concat([t]):null,Fg(4,4,qD.bind(null,e,t),n)}function yT(){}function WD(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HD(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function KD(t,e,n){return Gs&21?(Rr(n,e)||(n=Z2(),ut.lanes|=n,Ws|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nn=!0),t.memoizedState=n)}function l9(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var r=u0.transition;u0.transition={};try{t(!1),e()}finally{$e=n,u0.transition=r}}function YD(){return gr().memoizedState}function u9(t,e,n){var r=Po(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},XD(t))QD(e,n);else if(n=OD(t,e,n,r),n!==null){var i=An();kr(n,t,r,i),JD(n,e,r)}}function c9(t,e,n){var r=Po(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(XD(t))QD(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Rr(a,s)){var l=e.interleaved;l===null?(i.next=i,lT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=OD(t,e,i,r),n!==null&&(i=An(),kr(n,t,r,i),JD(n,e,r))}}function XD(t){var e=t.alternate;return t===ut||e!==null&&e===ut}function QD(t,e){Mc=Xp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function JD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kw(t,n)}}var Qp={readContext:mr,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},f9={readContext:mr,useCallback:function(t,e){return Br().memoizedState=[t,e===void 0?null:e],t},useContext:mr,useEffect:iP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hp(4194308,4,qD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hp(4194308,4,t,e)},useInsertionEffect:function(t,e){return hp(4,2,t,e)},useMemo:function(t,e){var n=Br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=u9.bind(null,ut,t),[r.memoizedState,t]},useRef:function(t){var e=Br();return t={current:t},e.memoizedState=t},useState:rP,useDebugValue:yT,useDeferredValue:function(t){return Br().memoizedState=t},useTransition:function(){var t=rP(!1),e=t[0];return t=l9.bind(null,t[1]),Br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ut,i=Br();if(rt){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),Ft===null)throw Error(Z(349));Gs&30||LD(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,iP($D.bind(null,r,o,t),[t]),r.flags|=2048,pf(9,jD.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Br(),e=Ft.identifierPrefix;if(rt){var n=gi,r=mi;n=(r&~(1<<32-Ir(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=df++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=a9++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},d9={readContext:mr,useCallback:WD,useContext:mr,useEffect:gT,useImperativeHandle:GD,useInsertionEffect:BD,useLayoutEffect:zD,useMemo:HD,useReducer:c0,useRef:UD,useState:function(){return c0(hf)},useDebugValue:yT,useDeferredValue:function(t){var e=gr();return KD(e,Ot.memoizedState,t)},useTransition:function(){var t=c0(hf)[0],e=gr().memoizedState;return[t,e]},useMutableSource:MD,useSyncExternalStore:DD,useId:YD,unstable_isNewReconciler:!1},h9={readContext:mr,useCallback:WD,useContext:mr,useEffect:gT,useImperativeHandle:GD,useInsertionEffect:BD,useLayoutEffect:zD,useMemo:HD,useReducer:f0,useRef:UD,useState:function(){return f0(hf)},useDebugValue:yT,useDeferredValue:function(t){var e=gr();return Ot===null?e.memoizedState=t:KD(e,Ot.memoizedState,t)},useTransition:function(){var t=f0(hf)[0],e=gr().memoizedState;return[t,e]},useMutableSource:MD,useSyncExternalStore:DD,useId:YD,unstable_isNewReconciler:!1};function Er(t,e){if(t&&t.defaultProps){e=ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ug={isMounted:function(t){return(t=t._reactInternals)?aa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=An(),i=Po(t),o=Ti(r,i);o.payload=e,n!=null&&(o.callback=n),e=So(t,o,i),e!==null&&(kr(e,t,i,r),fp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=An(),i=Po(t),o=Ti(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=So(t,o,i),e!==null&&(kr(e,t,i,r),fp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=An(),r=Po(t),i=Ti(n,r);i.tag=2,e!=null&&(i.callback=e),e=So(t,i,r),e!==null&&(kr(e,t,r,n),fp(e,t,r))}};function oP(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!sf(n,r)||!sf(i,o):!0}function ZD(t,e,n){var r=!1,i=$o,o=e.contextType;return typeof o=="object"&&o!==null?o=mr(o):(i=Ln(e)?zs:vn.current,r=e.contextTypes,o=(r=r!=null)?yl(t,i):$o),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ug,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function sP(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ug.enqueueReplaceState(e,e.state,null)}function Kx(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},uT(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=mr(o):(o=Ln(e)?zs:vn.current,i.context=yl(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Hx(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ug.enqueueReplaceState(i,i.state,null),Kp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function bl(t,e){try{var n="",r=e;do n+=U3(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function d0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Yx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var p9=typeof WeakMap=="function"?WeakMap:Map;function eL(t,e,n){n=Ti(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zp||(Zp=!0,o_=r),Yx(t,e)},n}function tL(t,e,n){n=Ti(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Yx(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Yx(t,e),typeof r!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function aP(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new p9;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=C9.bind(null,t,e,n),e.then(t,t))}function lP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uP(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ti(-1,1),e.tag=2,So(n,e,1))),n.lanes|=1),t)}var m9=zi.ReactCurrentOwner,Nn=!1;function wn(t,e,n,r){e.child=t===null?kD(e,null,n,r):xl(e,t.child,n,r)}function cP(t,e,n,r,i){n=n.render;var o=e.ref;return il(e,i),r=pT(t,e,n,r,o,i),n=mT(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ri(t,e,i)):(rt&&n&&nT(e),e.flags|=1,wn(t,e,r,i),e.child)}function fP(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!ST(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,nL(t,e,o,r,i)):(t=yp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:sf,n(s,r)&&t.ref===e.ref)return Ri(t,e,i)}return e.flags|=1,t=Co(o,r),t.ref=e.ref,t.return=e,e.child=t}function nL(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(sf(o,r)&&t.ref===e.ref)if(Nn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Nn=!0);else return e.lanes=t.lanes,Ri(t,e,i)}return Xx(t,e,n,r,i)}function rL(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Fa,Bn),Bn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ye(Fa,Bn),Bn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ye(Fa,Bn),Bn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ye(Fa,Bn),Bn|=r;return wn(t,e,i,n),e.child}function iL(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xx(t,e,n,r,i){var o=Ln(n)?zs:vn.current;return o=yl(e,o),il(e,i),n=pT(t,e,n,r,o,i),r=mT(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ri(t,e,i)):(rt&&r&&nT(e),e.flags|=1,wn(t,e,n,i),e.child)}function dP(t,e,n,r,i){if(Ln(n)){var o=!0;zp(e)}else o=!1;if(il(e,i),e.stateNode===null)pp(t,e),ZD(e,n,r),Kx(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=mr(u):(u=Ln(n)?zs:vn.current,u=yl(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&sP(e,s,r,u),oo=!1;var d=e.memoizedState;s.state=d,Kp(e,r,s,i),l=e.memoizedState,a!==r||d!==l||Dn.current||oo?(typeof c=="function"&&(Hx(e,n,c,r),l=e.memoizedState),(a=oo||oP(e,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,ND(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Er(e.type,a),s.props=u,f=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=mr(l):(l=Ln(n)?zs:vn.current,l=yl(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&sP(e,s,r,l),oo=!1,d=e.memoizedState,s.state=d,Kp(e,r,s,i);var v=e.memoizedState;a!==f||d!==v||Dn.current||oo?(typeof p=="function"&&(Hx(e,n,p,r),v=e.memoizedState),(u=oo||oP(e,n,u,r,d,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Qx(t,e,n,r,o,i)}function Qx(t,e,n,r,i,o){iL(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Q1(e,n,!1),Ri(t,e,o);r=e.stateNode,m9.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=xl(e,t.child,null,o),e.child=xl(e,null,a,o)):wn(t,e,a,o),e.memoizedState=r.state,i&&Q1(e,n,!0),e.child}function oL(t){var e=t.stateNode;e.pendingContext?X1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&X1(t,e.context,!1),cT(t,e.containerInfo)}function hP(t,e,n,r,i){return vl(),iT(i),e.flags|=256,wn(t,e,n,r),e.child}var Jx={dehydrated:null,treeContext:null,retryLane:0};function Zx(t){return{baseLanes:t,cachePool:null,transitions:null}}function sL(t,e,n){var r=e.pendingProps,i=at.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ye(at,i&1),t===null)return Gx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=qg(s,r,0,null),t=$s(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Zx(n),e.memoizedState=Jx,t):vT(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return g9(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Co(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Co(a,o):(o=$s(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Zx(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Jx,r}return o=t.child,t=o.sibling,r=Co(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vT(t,e){return e=qg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ih(t,e,n,r){return r!==null&&iT(r),xl(e,t.child,null,n),t=vT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function g9(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=d0(Error(Z(422))),Ih(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=qg({mode:"visible",children:r.children},i,0,null),o=$s(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&xl(e,t.child,null,s),e.child.memoizedState=Zx(s),e.memoizedState=Jx,o);if(!(e.mode&1))return Ih(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Z(419)),r=d0(o,r,void 0),Ih(t,e,s,r)}if(a=(s&t.childLanes)!==0,Nn||a){if(r=Ft,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ni(t,i),kr(r,t,i,-1))}return ET(),r=d0(Error(Z(421))),Ih(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=I9.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Gn=Eo(i.nextSibling),Hn=e,rt=!0,Pr=null,t!==null&&(ar[lr++]=mi,ar[lr++]=gi,ar[lr++]=qs,mi=t.id,gi=t.overflow,qs=e),e=vT(e,r.children),e.flags|=4096,e)}function pP(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wx(t.return,e,n)}function h0(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function aL(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(wn(t,e,r.children,n),r=at.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pP(t,n,e);else if(t.tag===19)pP(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ye(at,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Yp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),h0(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Yp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}h0(e,!0,n,null,o);break;case"together":h0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ri(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ws|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=Co(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Co(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function y9(t,e,n){switch(e.tag){case 3:oL(e),vl();break;case 5:RD(e);break;case 1:Ln(e.type)&&zp(e);break;case 4:cT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ye(Wp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ye(at,at.current&1),e.flags|=128,null):n&e.child.childLanes?sL(t,e,n):(Ye(at,at.current&1),t=Ri(t,e,n),t!==null?t.sibling:null);Ye(at,at.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return aL(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ye(at,at.current),r)break;return null;case 22:case 23:return e.lanes=0,rL(t,e,n)}return Ri(t,e,n)}var lL,e_,uL,cL;lL=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};e_=function(){};uL=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ks(Hr.current);var o=null;switch(n){case"input":i=wx(t,i),r=wx(t,r),o=[];break;case"select":i=ft({},i,{value:void 0}),r=ft({},r,{value:void 0}),o=[];break;case"textarea":i=Sx(t,i),r=Sx(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Up)}Px(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Je("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};cL=function(t,e,n,r){n!==r&&(e.flags|=4)};function Zu(t,e){if(!rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function v9(t,e,n){var r=e.pendingProps;switch(rT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(e),null;case 1:return Ln(e.type)&&Bp(),sn(e),null;case 3:return r=e.stateNode,_l(),tt(Dn),tt(vn),dT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ph(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pr!==null&&(l_(Pr),Pr=null))),e_(t,e),sn(e),null;case 5:fT(e);var i=ks(ff.current);if(n=e.type,t!==null&&e.stateNode!=null)uL(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return sn(e),null}if(t=ks(Hr.current),Ph(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[zr]=e,r[uf]=o,t=(e.mode&1)!==0,n){case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":case"embed":Je("load",r);break;case"video":case"audio":for(i=0;i<yc.length;i++)Je(yc[i],r);break;case"source":Je("error",r);break;case"img":case"image":case"link":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"input":T1(r,o),Je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Je("invalid",r);break;case"textarea":S1(r,o),Je("invalid",r)}Px(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ah(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ah(r.textContent,a,t),i=["children",""+a]):Jc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Je("scroll",r)}switch(n){case"input":vh(r),E1(r,o,!0);break;case"textarea":vh(r),A1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Up)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[zr]=e,t[uf]=r,lL(t,e,!1,!1),e.stateNode=t;e:{switch(s=Cx(n,r),n){case"dialog":Je("cancel",t),Je("close",t),i=r;break;case"iframe":case"object":case"embed":Je("load",t),i=r;break;case"video":case"audio":for(i=0;i<yc.length;i++)Je(yc[i],t);i=r;break;case"source":Je("error",t),i=r;break;case"img":case"image":case"link":Je("error",t),Je("load",t),i=r;break;case"details":Je("toggle",t),i=r;break;case"input":T1(t,r),i=wx(t,r),Je("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ft({},r,{value:void 0}),Je("invalid",t);break;case"textarea":S1(t,r),i=Sx(t,r),Je("invalid",t);break;default:i=r}Px(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?U2(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&V2(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Zc(t,l):typeof l=="number"&&Zc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Jc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Je("scroll",t):l!=null&&Bw(t,o,l,s))}switch(n){case"input":vh(t),E1(t,r,!1);break;case"textarea":vh(t),A1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+jo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?el(t,!!r.multiple,o,!1):r.defaultValue!=null&&el(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Up)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sn(e),null;case 6:if(t&&e.stateNode!=null)cL(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=ks(ff.current),ks(Hr.current),Ph(e)){if(r=e.stateNode,n=e.memoizedProps,r[zr]=e,(o=r.nodeValue!==n)&&(t=Hn,t!==null))switch(t.tag){case 3:Ah(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ah(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zr]=e,e.stateNode=r}return sn(e),null;case 13:if(tt(at),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rt&&Gn!==null&&e.mode&1&&!(e.flags&128))CD(),vl(),e.flags|=98560,o=!1;else if(o=Ph(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Z(317));o[zr]=e}else vl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sn(e),o=!1}else Pr!==null&&(l_(Pr),Pr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||at.current&1?Nt===0&&(Nt=3):ET())),e.updateQueue!==null&&(e.flags|=4),sn(e),null);case 4:return _l(),e_(t,e),t===null&&af(e.stateNode.containerInfo),sn(e),null;case 10:return aT(e.type._context),sn(e),null;case 17:return Ln(e.type)&&Bp(),sn(e),null;case 19:if(tt(at),o=e.memoizedState,o===null)return sn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Zu(o,!1);else{if(Nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Yp(t),s!==null){for(e.flags|=128,Zu(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ye(at,at.current&1|2),e.child}t=t.sibling}o.tail!==null&&bt()>wl&&(e.flags|=128,r=!0,Zu(o,!1),e.lanes=4194304)}else{if(!r)if(t=Yp(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!rt)return sn(e),null}else 2*bt()-o.renderingStartTime>wl&&n!==1073741824&&(e.flags|=128,r=!0,Zu(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=bt(),e.sibling=null,n=at.current,Ye(at,r?n&1|2:n&1),e):(sn(e),null);case 22:case 23:return TT(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Bn&1073741824&&(sn(e),e.subtreeFlags&6&&(e.flags|=8192)):sn(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function x9(t,e){switch(rT(e),e.tag){case 1:return Ln(e.type)&&Bp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _l(),tt(Dn),tt(vn),dT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fT(e),null;case 13:if(tt(at),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));vl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tt(at),null;case 4:return _l(),null;case 10:return aT(e.type._context),null;case 22:case 23:return TT(),null;case 24:return null;default:return null}}var kh=!1,dn=!1,_9=typeof WeakSet=="function"?WeakSet:Set,se=null;function Va(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(t,e,r)}else n.current=null}function t_(t,e,n){try{n()}catch(r){gt(t,e,r)}}var mP=!1;function b9(t,e){if($x=$p,t=mD(),tT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vx={focusedElem:t,selectionRange:n},$p=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,_=v.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?x:Er(e.type,x),_);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(C){gt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return v=mP,mP=!1,v}function Dc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&t_(e,n,o)}i=i.next}while(i!==r)}}function Bg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function n_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fL(t){var e=t.alternate;e!==null&&(t.alternate=null,fL(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zr],delete e[uf],delete e[Bx],delete e[r9],delete e[i9])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dL(t){return t.tag===5||t.tag===3||t.tag===4}function gP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dL(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function r_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Up));else if(r!==4&&(t=t.child,t!==null))for(r_(t,e,n),t=t.sibling;t!==null;)r_(t,e,n),t=t.sibling}function i_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(i_(t,e,n),t=t.sibling;t!==null;)i_(t,e,n),t=t.sibling}var Gt=null,Sr=!1;function to(t,e,n){for(n=n.child;n!==null;)hL(t,e,n),n=n.sibling}function hL(t,e,n){if(Wr&&typeof Wr.onCommitFiberUnmount=="function")try{Wr.onCommitFiberUnmount(Mg,n)}catch{}switch(n.tag){case 5:dn||Va(n,e);case 6:var r=Gt,i=Sr;Gt=null,to(t,e,n),Gt=r,Sr=i,Gt!==null&&(Sr?(t=Gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Gt.removeChild(n.stateNode));break;case 18:Gt!==null&&(Sr?(t=Gt,n=n.stateNode,t.nodeType===8?s0(t.parentNode,n):t.nodeType===1&&s0(t,n),rf(t)):s0(Gt,n.stateNode));break;case 4:r=Gt,i=Sr,Gt=n.stateNode.containerInfo,Sr=!0,to(t,e,n),Gt=r,Sr=i;break;case 0:case 11:case 14:case 15:if(!dn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&t_(n,e,s),i=i.next}while(i!==r)}to(t,e,n);break;case 1:if(!dn&&(Va(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gt(n,e,a)}to(t,e,n);break;case 21:to(t,e,n);break;case 22:n.mode&1?(dn=(r=dn)||n.memoizedState!==null,to(t,e,n),dn=r):to(t,e,n);break;default:to(t,e,n)}}function yP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _9),e.forEach(function(r){var i=k9.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function br(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Gt=a.stateNode,Sr=!1;break e;case 3:Gt=a.stateNode.containerInfo,Sr=!0;break e;case 4:Gt=a.stateNode.containerInfo,Sr=!0;break e}a=a.return}if(Gt===null)throw Error(Z(160));hL(o,s,i),Gt=null,Sr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){gt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pL(e,t),e=e.sibling}function pL(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(br(e,t),Ur(t),r&4){try{Dc(3,t,t.return),Bg(3,t)}catch(x){gt(t,t.return,x)}try{Dc(5,t,t.return)}catch(x){gt(t,t.return,x)}}break;case 1:br(e,t),Ur(t),r&512&&n!==null&&Va(n,n.return);break;case 5:if(br(e,t),Ur(t),r&512&&n!==null&&Va(n,n.return),t.flags&32){var i=t.stateNode;try{Zc(i,"")}catch(x){gt(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&L2(i,o),Cx(a,s);var u=Cx(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?U2(i,f):c==="dangerouslySetInnerHTML"?V2(i,f):c==="children"?Zc(i,f):Bw(i,c,f,u)}switch(a){case"input":Tx(i,o);break;case"textarea":j2(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?el(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?el(i,!!o.multiple,o.defaultValue,!0):el(i,!!o.multiple,o.multiple?[]:"",!1))}i[uf]=o}catch(x){gt(t,t.return,x)}}break;case 6:if(br(e,t),Ur(t),r&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(x){gt(t,t.return,x)}}break;case 3:if(br(e,t),Ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rf(e.containerInfo)}catch(x){gt(t,t.return,x)}break;case 4:br(e,t),Ur(t);break;case 13:br(e,t),Ur(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(bT=bt())),r&4&&yP(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(dn=(u=dn)||c,br(e,t),dn=u):br(e,t),Ur(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(se=t,c=t.child;c!==null;){for(f=se=c;se!==null;){switch(d=se,p=d.child,d.tag){case 0:case 11:case 14:case 15:Dc(4,d,d.return);break;case 1:Va(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){gt(r,n,x)}}break;case 5:Va(d,d.return);break;case 22:if(d.memoizedState!==null){xP(f);continue}}p!==null?(p.return=d,se=p):xP(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=F2("display",s))}catch(x){gt(t,t.return,x)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){gt(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:br(e,t),Ur(t),r&4&&yP(t);break;case 21:break;default:br(e,t),Ur(t)}}function Ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dL(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Zc(i,""),r.flags&=-33);var o=gP(t);i_(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=gP(t);r_(t,a,s);break;default:throw Error(Z(161))}}catch(l){gt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function w9(t,e,n){se=t,mL(t)}function mL(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||kh;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||dn;a=kh;var u=dn;if(kh=s,(dn=l)&&!u)for(se=i;se!==null;)s=se,l=s.child,s.tag===22&&s.memoizedState!==null?_P(i):l!==null?(l.return=s,se=l):_P(i);for(;o!==null;)se=o,mL(o),o=o.sibling;se=i,kh=a,dn=u}vP(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,se=o):vP(t)}}function vP(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dn||Bg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!dn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Er(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&nP(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}nP(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&rf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}dn||e.flags&512&&n_(e)}catch(d){gt(e,e.return,d)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function xP(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function _P(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Bg(4,e)}catch(l){gt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){gt(e,i,l)}}var o=e.return;try{n_(e)}catch(l){gt(e,o,l)}break;case 5:var s=e.return;try{n_(e)}catch(l){gt(e,s,l)}}}catch(l){gt(e,e.return,l)}if(e===t){se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,se=a;break}se=e.return}}var T9=Math.ceil,Jp=zi.ReactCurrentDispatcher,xT=zi.ReactCurrentOwner,dr=zi.ReactCurrentBatchConfig,Oe=0,Ft=null,St=null,Yt=0,Bn=0,Fa=Ko(0),Nt=0,mf=null,Ws=0,zg=0,_T=0,Lc=null,kn=null,bT=0,wl=1/0,di=null,Zp=!1,o_=null,Ao=null,Oh=!1,yo=null,em=0,jc=0,s_=null,mp=-1,gp=0;function An(){return Oe&6?bt():mp!==-1?mp:mp=bt()}function Po(t){return t.mode&1?Oe&2&&Yt!==0?Yt&-Yt:s9.transition!==null?(gp===0&&(gp=Z2()),gp):(t=$e,t!==0||(t=window.event,t=t===void 0?16:sD(t.type)),t):1}function kr(t,e,n,r){if(50<jc)throw jc=0,s_=null,Error(Z(185));yd(t,n,r),(!(Oe&2)||t!==Ft)&&(t===Ft&&(!(Oe&2)&&(zg|=n),Nt===4&&uo(t,Yt)),jn(t,r),n===1&&Oe===0&&!(e.mode&1)&&(wl=bt()+500,Vg&&Yo()))}function jn(t,e){var n=t.callbackNode;s6(t,e);var r=jp(t,t===Ft?Yt:0);if(r===0)n!==null&&I1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&I1(n),e===1)t.tag===0?o9(bP.bind(null,t)):SD(bP.bind(null,t)),t9(function(){!(Oe&6)&&Yo()}),n=null;else{switch(eD(r)){case 1:n=Hw;break;case 4:n=Q2;break;case 16:n=Lp;break;case 536870912:n=J2;break;default:n=Lp}n=TL(n,gL.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gL(t,e){if(mp=-1,gp=0,Oe&6)throw Error(Z(327));var n=t.callbackNode;if(ol()&&t.callbackNode!==n)return null;var r=jp(t,t===Ft?Yt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=tm(t,r);else{e=r;var i=Oe;Oe|=2;var o=vL();(Ft!==t||Yt!==e)&&(di=null,wl=bt()+500,js(t,e));do try{A9();break}catch(a){yL(t,a)}while(!0);sT(),Jp.current=o,Oe=i,St!==null?e=0:(Ft=null,Yt=0,e=Nt)}if(e!==0){if(e===2&&(i=Rx(t),i!==0&&(r=i,e=a_(t,i))),e===1)throw n=mf,js(t,0),uo(t,r),jn(t,bt()),n;if(e===6)uo(t,r);else{if(i=t.current.alternate,!(r&30)&&!E9(i)&&(e=tm(t,r),e===2&&(o=Rx(t),o!==0&&(r=o,e=a_(t,o))),e===1))throw n=mf,js(t,0),uo(t,r),jn(t,bt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:_s(t,kn,di);break;case 3:if(uo(t,r),(r&130023424)===r&&(e=bT+500-bt(),10<e)){if(jp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){An(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ux(_s.bind(null,t,kn,di),e);break}_s(t,kn,di);break;case 4:if(uo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Ir(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*T9(r/1960))-r,10<r){t.timeoutHandle=Ux(_s.bind(null,t,kn,di),r);break}_s(t,kn,di);break;case 5:_s(t,kn,di);break;default:throw Error(Z(329))}}}return jn(t,bt()),t.callbackNode===n?gL.bind(null,t):null}function a_(t,e){var n=Lc;return t.current.memoizedState.isDehydrated&&(js(t,e).flags|=256),t=tm(t,e),t!==2&&(e=kn,kn=n,e!==null&&l_(e)),t}function l_(t){kn===null?kn=t:kn.push.apply(kn,t)}function E9(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Rr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function uo(t,e){for(e&=~_T,e&=~zg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ir(e),r=1<<n;t[n]=-1,e&=~r}}function bP(t){if(Oe&6)throw Error(Z(327));ol();var e=jp(t,0);if(!(e&1))return jn(t,bt()),null;var n=tm(t,e);if(t.tag!==0&&n===2){var r=Rx(t);r!==0&&(e=r,n=a_(t,r))}if(n===1)throw n=mf,js(t,0),uo(t,e),jn(t,bt()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_s(t,kn,di),jn(t,bt()),null}function wT(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(wl=bt()+500,Vg&&Yo())}}function Hs(t){yo!==null&&yo.tag===0&&!(Oe&6)&&ol();var e=Oe;Oe|=1;var n=dr.transition,r=$e;try{if(dr.transition=null,$e=1,t)return t()}finally{$e=r,dr.transition=n,Oe=e,!(Oe&6)&&Yo()}}function TT(){Bn=Fa.current,tt(Fa)}function js(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,e9(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(rT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bp();break;case 3:_l(),tt(Dn),tt(vn),dT();break;case 5:fT(r);break;case 4:_l();break;case 13:tt(at);break;case 19:tt(at);break;case 10:aT(r.type._context);break;case 22:case 23:TT()}n=n.return}if(Ft=t,St=t=Co(t.current,null),Yt=Bn=e,Nt=0,mf=null,_T=zg=Ws=0,kn=Lc=null,Is!==null){for(e=0;e<Is.length;e++)if(n=Is[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Is=null}return t}function yL(t,e){do{var n=St;try{if(sT(),dp.current=Qp,Xp){for(var r=ut.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xp=!1}if(Gs=0,$t=Ot=ut=null,Mc=!1,df=0,xT.current=null,n===null||n.return===null){Nt=1,mf=e,St=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Yt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=lP(s);if(p!==null){p.flags&=-257,uP(p,s,a,o,e),p.mode&1&&aP(o,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var x=new Set;x.add(l),e.updateQueue=x}else v.add(l);break e}else{if(!(e&1)){aP(o,u,e),ET();break e}l=Error(Z(426))}}else if(rt&&a.mode&1){var _=lP(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),uP(_,s,a,o,e),iT(bl(l,a));break e}}o=l=bl(l,a),Nt!==4&&(Nt=2),Lc===null?Lc=[o]:Lc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=eL(o,l,e);tP(o,b);break e;case 1:a=l;var w=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Ao===null||!Ao.has(T)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=tL(o,a,e);tP(o,C);break e}}o=o.return}while(o!==null)}_L(n)}catch(S){e=S,St===n&&n!==null&&(St=n=n.return);continue}break}while(!0)}function vL(){var t=Jp.current;return Jp.current=Qp,t===null?Qp:t}function ET(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Ft===null||!(Ws&268435455)&&!(zg&268435455)||uo(Ft,Yt)}function tm(t,e){var n=Oe;Oe|=2;var r=vL();(Ft!==t||Yt!==e)&&(di=null,js(t,e));do try{S9();break}catch(i){yL(t,i)}while(!0);if(sT(),Oe=n,Jp.current=r,St!==null)throw Error(Z(261));return Ft=null,Yt=0,Nt}function S9(){for(;St!==null;)xL(St)}function A9(){for(;St!==null&&!Q3();)xL(St)}function xL(t){var e=wL(t.alternate,t,Bn);t.memoizedProps=t.pendingProps,e===null?_L(t):St=e,xT.current=null}function _L(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=x9(n,e),n!==null){n.flags&=32767,St=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Nt=6,St=null;return}}else if(n=v9(n,e,Bn),n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);Nt===0&&(Nt=5)}function _s(t,e,n){var r=$e,i=dr.transition;try{dr.transition=null,$e=1,P9(t,e,n,r)}finally{dr.transition=i,$e=r}return null}function P9(t,e,n,r){do ol();while(yo!==null);if(Oe&6)throw Error(Z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(a6(t,o),t===Ft&&(St=Ft=null,Yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oh||(Oh=!0,TL(Lp,function(){return ol(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=dr.transition,dr.transition=null;var s=$e;$e=1;var a=Oe;Oe|=4,xT.current=null,b9(t,n),pL(n,t),H6(Vx),$p=!!$x,Vx=$x=null,t.current=n,w9(n),J3(),Oe=a,$e=s,dr.transition=o}else t.current=n;if(Oh&&(Oh=!1,yo=t,em=i),o=t.pendingLanes,o===0&&(Ao=null),t6(n.stateNode),jn(t,bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zp)throw Zp=!1,t=o_,o_=null,t;return em&1&&t.tag!==0&&ol(),o=t.pendingLanes,o&1?t===s_?jc++:(jc=0,s_=t):jc=0,Yo(),null}function ol(){if(yo!==null){var t=eD(em),e=dr.transition,n=$e;try{if(dr.transition=null,$e=16>t?16:t,yo===null)var r=!1;else{if(t=yo,yo=null,em=0,Oe&6)throw Error(Z(331));var i=Oe;for(Oe|=4,se=t.current;se!==null;){var o=se,s=o.child;if(se.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(se=u;se!==null;){var c=se;switch(c.tag){case 0:case 11:case 15:Dc(8,c,o)}var f=c.child;if(f!==null)f.return=c,se=f;else for(;se!==null;){c=se;var d=c.sibling,p=c.return;if(fL(c),c===u){se=null;break}if(d!==null){d.return=p,se=d;break}se=p}}}var v=o.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}se=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,se=s;else e:for(;se!==null;){if(o=se,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Dc(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,se=b;break e}se=o.return}}var w=t.current;for(se=w;se!==null;){s=se;var T=s.child;if(s.subtreeFlags&2064&&T!==null)T.return=s,se=T;else e:for(s=w;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Bg(9,a)}}catch(S){gt(a,a.return,S)}if(a===s){se=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,se=C;break e}se=a.return}}if(Oe=i,Yo(),Wr&&typeof Wr.onPostCommitFiberRoot=="function")try{Wr.onPostCommitFiberRoot(Mg,t)}catch{}r=!0}return r}finally{$e=n,dr.transition=e}}return!1}function wP(t,e,n){e=bl(n,e),e=eL(t,e,1),t=So(t,e,1),e=An(),t!==null&&(yd(t,1,e),jn(t,e))}function gt(t,e,n){if(t.tag===3)wP(t,t,n);else for(;e!==null;){if(e.tag===3){wP(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ao===null||!Ao.has(r))){t=bl(n,t),t=tL(e,t,1),e=So(e,t,1),t=An(),e!==null&&(yd(e,1,t),jn(e,t));break}}e=e.return}}function C9(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=An(),t.pingedLanes|=t.suspendedLanes&n,Ft===t&&(Yt&n)===n&&(Nt===4||Nt===3&&(Yt&130023424)===Yt&&500>bt()-bT?js(t,0):_T|=n),jn(t,e)}function bL(t,e){e===0&&(t.mode&1?(e=bh,bh<<=1,!(bh&130023424)&&(bh=4194304)):e=1);var n=An();t=Ni(t,e),t!==null&&(yd(t,e,n),jn(t,n))}function I9(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bL(t,n)}function k9(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),bL(t,n)}var wL;wL=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dn.current)Nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Nn=!1,y9(t,e,n);Nn=!!(t.flags&131072)}else Nn=!1,rt&&e.flags&1048576&&AD(e,Gp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pp(t,e),t=e.pendingProps;var i=yl(e,vn.current);il(e,n),i=pT(null,e,r,t,i,n);var o=mT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ln(r)?(o=!0,zp(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,uT(e),i.updater=Ug,e.stateNode=i,i._reactInternals=e,Kx(e,r,t,n),e=Qx(null,e,r,!0,o,n)):(e.tag=0,rt&&o&&nT(e),wn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=N9(r),t=Er(r,t),i){case 0:e=Xx(null,e,r,t,n);break e;case 1:e=dP(null,e,r,t,n);break e;case 11:e=cP(null,e,r,t,n);break e;case 14:e=fP(null,e,r,Er(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),Xx(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),dP(t,e,r,i,n);case 3:e:{if(oL(e),t===null)throw Error(Z(387));r=e.pendingProps,o=e.memoizedState,i=o.element,ND(t,e),Kp(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=bl(Error(Z(423)),e),e=hP(t,e,r,n,i);break e}else if(r!==i){i=bl(Error(Z(424)),e),e=hP(t,e,r,n,i);break e}else for(Gn=Eo(e.stateNode.containerInfo.firstChild),Hn=e,rt=!0,Pr=null,n=kD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vl(),r===i){e=Ri(t,e,n);break e}wn(t,e,r,n)}e=e.child}return e;case 5:return RD(e),t===null&&Gx(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Fx(r,i)?s=null:o!==null&&Fx(r,o)&&(e.flags|=32),iL(t,e),wn(t,e,s,n),e.child;case 6:return t===null&&Gx(e),null;case 13:return sL(t,e,n);case 4:return cT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=xl(e,null,r,n):wn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),cP(t,e,r,i,n);case 7:return wn(t,e,e.pendingProps,n),e.child;case 8:return wn(t,e,e.pendingProps.children,n),e.child;case 12:return wn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ye(Wp,r._currentValue),r._currentValue=s,o!==null)if(Rr(o.value,s)){if(o.children===i.children&&!Dn.current){e=Ri(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ti(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Wx(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Z(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Wx(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}wn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,il(e,n),i=mr(i),r=r(i),e.flags|=1,wn(t,e,r,n),e.child;case 14:return r=e.type,i=Er(r,e.pendingProps),i=Er(r.type,i),fP(t,e,r,i,n);case 15:return nL(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),pp(t,e),e.tag=1,Ln(r)?(t=!0,zp(e)):t=!1,il(e,n),ZD(e,r,i),Kx(e,r,i,n),Qx(null,e,r,!0,t,n);case 19:return aL(t,e,n);case 22:return rL(t,e,n)}throw Error(Z(156,e.tag))};function TL(t,e){return X2(t,e)}function O9(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(t,e,n,r){return new O9(t,e,n,r)}function ST(t){return t=t.prototype,!(!t||!t.isReactComponent)}function N9(t){if(typeof t=="function")return ST(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qw)return 11;if(t===Gw)return 14}return 2}function Co(t,e){var n=t.alternate;return n===null?(n=cr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yp(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")ST(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ka:return $s(n.children,i,o,e);case zw:s=8,i|=8;break;case vx:return t=cr(12,n,e,i|2),t.elementType=vx,t.lanes=o,t;case xx:return t=cr(13,n,e,i),t.elementType=xx,t.lanes=o,t;case _x:return t=cr(19,n,e,i),t.elementType=_x,t.lanes=o,t;case R2:return qg(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case O2:s=10;break e;case N2:s=9;break e;case qw:s=11;break e;case Gw:s=14;break e;case io:s=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=cr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function $s(t,e,n,r){return t=cr(7,t,r,e),t.lanes=n,t}function qg(t,e,n,r){return t=cr(22,t,r,e),t.elementType=R2,t.lanes=n,t.stateNode={isHidden:!1},t}function p0(t,e,n){return t=cr(6,t,null,e),t.lanes=n,t}function m0(t,e,n){return e=cr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function R9(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yv(0),this.expirationTimes=Yv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function AT(t,e,n,r,i,o,s,a,l){return t=new R9(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=cr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uT(o),t}function M9(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ia,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function EL(t){if(!t)return $o;t=t._reactInternals;e:{if(aa(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(Ln(n))return ED(t,n,e)}return e}function SL(t,e,n,r,i,o,s,a,l){return t=AT(n,r,!0,t,i,o,s,a,l),t.context=EL(null),n=t.current,r=An(),i=Po(n),o=Ti(r,i),o.callback=e??null,So(n,o,i),t.current.lanes=i,yd(t,i,r),jn(t,r),t}function Gg(t,e,n,r){var i=e.current,o=An(),s=Po(i);return n=EL(n),e.context===null?e.context=n:e.pendingContext=n,e=Ti(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=So(i,e,s),t!==null&&(kr(t,i,s,o),fp(t,i,s)),s}function nm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function TP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function PT(t,e){TP(t,e),(t=t.alternate)&&TP(t,e)}function D9(){return null}var AL=typeof reportError=="function"?reportError:function(t){console.error(t)};function CT(t){this._internalRoot=t}Wg.prototype.render=CT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));Gg(t,e,null,null)};Wg.prototype.unmount=CT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hs(function(){Gg(null,t,null,null)}),e[Oi]=null}};function Wg(t){this._internalRoot=t}Wg.prototype.unstable_scheduleHydration=function(t){if(t){var e=rD();t={blockedOn:null,target:t,priority:e};for(var n=0;n<lo.length&&e!==0&&e<lo[n].priority;n++);lo.splice(n,0,t),n===0&&oD(t)}};function IT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function EP(){}function L9(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=nm(s);o.call(u)}}var s=SL(e,r,t,0,null,!1,!1,"",EP);return t._reactRootContainer=s,t[Oi]=s.current,af(t.nodeType===8?t.parentNode:t),Hs(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=nm(l);a.call(u)}}var l=AT(t,0,!1,null,null,!1,!1,"",EP);return t._reactRootContainer=l,t[Oi]=l.current,af(t.nodeType===8?t.parentNode:t),Hs(function(){Gg(e,l,n,r)}),l}function Kg(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=nm(s);a.call(l)}}Gg(e,s,t,i)}else s=L9(n,e,t,i,r);return nm(s)}tD=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gc(e.pendingLanes);n!==0&&(Kw(e,n|1),jn(e,bt()),!(Oe&6)&&(wl=bt()+500,Yo()))}break;case 13:Hs(function(){var r=Ni(t,1);if(r!==null){var i=An();kr(r,t,1,i)}}),PT(t,1)}};Yw=function(t){if(t.tag===13){var e=Ni(t,134217728);if(e!==null){var n=An();kr(e,t,134217728,n)}PT(t,134217728)}};nD=function(t){if(t.tag===13){var e=Po(t),n=Ni(t,e);if(n!==null){var r=An();kr(n,t,e,r)}PT(t,e)}};rD=function(){return $e};iD=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};kx=function(t,e,n){switch(e){case"input":if(Tx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=$g(r);if(!i)throw Error(Z(90));D2(r),Tx(r,i)}}}break;case"textarea":j2(t,n);break;case"select":e=n.value,e!=null&&el(t,!!n.multiple,e,!1)}};q2=wT;G2=Hs;var j9={usingClientEntryPoint:!1,Events:[xd,Ma,$g,B2,z2,wT]},ec={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$9={bundleType:ec.bundleType,version:ec.version,rendererPackageName:ec.rendererPackageName,rendererConfig:ec.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=K2(t),t===null?null:t.stateNode},findFiberByHostInstance:ec.findFiberByHostInstance||D9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{Mg=Nh.inject($9),Wr=Nh}catch{}}Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j9;Zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!IT(e))throw Error(Z(200));return M9(t,e,null,n)};Zn.createRoot=function(t,e){if(!IT(t))throw Error(Z(299));var n=!1,r="",i=AL;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=AT(t,1,!1,null,null,n,!1,r,i),t[Oi]=e.current,af(t.nodeType===8?t.parentNode:t),new CT(e)};Zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=K2(e),t=t===null?null:t.stateNode,t};Zn.flushSync=function(t){return Hs(t)};Zn.hydrate=function(t,e,n){if(!Hg(e))throw Error(Z(200));return Kg(null,t,e,!0,n)};Zn.hydrateRoot=function(t,e,n){if(!IT(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=AL;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=SL(e,null,t,1,n??null,i,!1,o,s),t[Oi]=e.current,af(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Wg(e)};Zn.render=function(t,e,n){if(!Hg(e))throw Error(Z(200));return Kg(null,t,e,!1,n)};Zn.unmountComponentAtNode=function(t){if(!Hg(t))throw Error(Z(40));return t._reactRootContainer?(Hs(function(){Kg(null,null,t,!1,function(){t._reactRootContainer=null,t[Oi]=null})}),!0):!1};Zn.unstable_batchedUpdates=wT;Zn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hg(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Kg(t,e,n,!1,r)};Zn.version="18.3.1-next-f1338f8080-20240426";function PL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PL)}catch(t){console.error(t)}}PL(),P2.exports=Zn;var V9=P2.exports,SP=V9;gx.createRoot=SP.createRoot,gx.hydrateRoot=SP.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gf(){return gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gf.apply(this,arguments)}var vo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vo||(vo={}));const AP="popstate";function F9(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=la(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),u_("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:rm(o))}function r(i,o){Yg(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return B9(e,n,r,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Yg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function U9(){return Math.random().toString(36).substr(2,8)}function PP(t,e){return{usr:t.state,key:t.key,idx:e}}function u_(t,e,n,r){return n===void 0&&(n=null),gf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?la(e):e,{state:n,key:e&&e.key||r||U9()})}function rm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function la(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function B9(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=vo.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(gf({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){a=vo.Pop;let _=c(),b=_==null?null:_-u;u=_,l&&l({action:a,location:x.location,delta:b})}function d(_,b){a=vo.Push;let w=u_(x.location,_,b);n&&n(w,_),u=c()+1;let T=PP(w,u),C=x.createHref(w);try{s.pushState(T,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(C)}o&&l&&l({action:a,location:x.location,delta:1})}function p(_,b){a=vo.Replace;let w=u_(x.location,_,b);n&&n(w,_),u=c();let T=PP(w,u),C=x.createHref(w);s.replaceState(T,"",C),o&&l&&l({action:a,location:x.location,delta:0})}function v(_){let b=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof _=="string"?_:rm(_);return w=w.replace(/ $/,"%20"),ct(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let x={get action(){return a},get location(){return t(i,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(AP,f),l=_,()=>{i.removeEventListener(AP,f),l=null}},createHref(_){return e(i,_)},createURL:v,encodeLocation(_){let b=v(_);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:d,replace:p,go(_){return s.go(_)}};return x}var CP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(CP||(CP={}));function z9(t,e,n){return n===void 0&&(n="/"),q9(t,e,n)}function q9(t,e,n,r){let i=typeof e=="string"?la(e):e,o=Tl(i.pathname||"/",n);if(o==null)return null;let s=CL(t);G9(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=nz(o);a=ez(s[l],u)}return a}function CL(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(ct(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Io([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(ct(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),CL(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:J9(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of IL(o.path))i(o,s,l)}),e}function IL(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=IL(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function G9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Z9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const W9=/^:[\w-]+$/,H9=3,K9=2,Y9=1,X9=10,Q9=-2,IP=t=>t==="*";function J9(t,e){let n=t.split("/"),r=n.length;return n.some(IP)&&(r+=Q9),e&&(r+=K9),n.filter(i=>!IP(i)).reduce((i,o)=>i+(W9.test(o)?H9:o===""?Y9:X9),r)}function Z9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ez(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=c_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Io([o,f.pathname]),pathnameBase:az(Io([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=Io([o,f.pathnameBase]))}return s}function c_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let x=a[f]||"";s=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const v=a[f];return p&&!v?u[d]=void 0:u[d]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function tz(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Yg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function nz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Tl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const rz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iz=t=>rz.test(t);function oz(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?la(t):t,o;if(n)if(iz(n))o=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Yg(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?o=kP(n.substring(1),"/"):o=kP(n,e)}else o=e;return{pathname:o,search:lz(r),hash:uz(i)}}function kP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function g0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kT(t,e){let n=sz(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function OT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=la(t):(i=gf({},t),ct(!i.pathname||!i.pathname.includes("?"),g0("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),g0("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),g0("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=oz(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Io=t=>t.join("/").replace(/\/\/+/g,"/"),az=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const kL=["post","put","patch","delete"];new Set(kL);const fz=["get",...kL];new Set(fz);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yf.apply(this,arguments)}const Xg=j.createContext(null),OL=j.createContext(null),qi=j.createContext(null),Qg=j.createContext(null),ii=j.createContext({outlet:null,matches:[],isDataRoute:!1}),NL=j.createContext(null);function dz(t,e){let{relative:n}=e===void 0?{}:e;cu()||ct(!1);let{basename:r,navigator:i}=j.useContext(qi),{hash:o,pathname:s,search:a}=Jg(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Io([r,s])),i.createHref({pathname:l,search:a,hash:o})}function cu(){return j.useContext(Qg)!=null}function Xo(){return cu()||ct(!1),j.useContext(Qg).location}function RL(t){j.useContext(qi).static||j.useLayoutEffect(t)}function Gi(){let{isDataRoute:t}=j.useContext(ii);return t?Cz():hz()}function hz(){cu()||ct(!1);let t=j.useContext(Xg),{basename:e,future:n,navigator:r}=j.useContext(qi),{matches:i}=j.useContext(ii),{pathname:o}=Xo(),s=JSON.stringify(kT(i,n.v7_relativeSplatPath)),a=j.useRef(!1);return RL(()=>{a.current=!0}),j.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=OT(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Io([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,s,o,t])}const pz=j.createContext(null);function mz(t){let e=j.useContext(ii).outlet;return e&&j.createElement(pz.Provider,{value:t},e)}function gz(){let{matches:t}=j.useContext(ii),e=t[t.length-1];return e?e.params:{}}function Jg(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(qi),{matches:i}=j.useContext(ii),{pathname:o}=Xo(),s=JSON.stringify(kT(i,r.v7_relativeSplatPath));return j.useMemo(()=>OT(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function yz(t,e){return vz(t,e)}function vz(t,e,n,r){cu()||ct(!1);let{navigator:i}=j.useContext(qi),{matches:o}=j.useContext(ii),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Xo(),c;if(e){var f;let _=typeof e=="string"?la(e):e;l==="/"||(f=_.pathname)!=null&&f.startsWith(l)||ct(!1),c=_}else c=u;let d=c.pathname||"/",p=d;if(l!=="/"){let _=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(_.length).join("/")}let v=z9(t,{pathname:p}),x=Tz(v&&v.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Io([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Io([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&x?j.createElement(Qg.Provider,{value:{location:yf({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:vo.Pop}},x):x}function xz(){let t=Pz(),e=cz(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,null)}const _z=j.createElement(xz,null);class bz extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(ii.Provider,{value:this.props.routeContext},j.createElement(NL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wz(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(Xg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(ii.Provider,{value:e},r)}function Tz(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||ct(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:p}=n,v=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,f,d)=>{let p,v=!1,x=null,_=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||_z,l&&(u<0&&d===0?(Iz("route-fallback"),v=!0,_=null):u===d&&(v=!0,_=f.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,d+1)),w=()=>{let T;return p?T=x:v?T=_:f.route.Component?T=j.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=c,j.createElement(wz,{match:f,routeContext:{outlet:c,matches:b,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?j.createElement(bz,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var ML=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ML||{}),DL=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(DL||{});function Ez(t){let e=j.useContext(Xg);return e||ct(!1),e}function Sz(t){let e=j.useContext(OL);return e||ct(!1),e}function Az(t){let e=j.useContext(ii);return e||ct(!1),e}function LL(t){let e=Az(),n=e.matches[e.matches.length-1];return n.route.id||ct(!1),n.route.id}function Pz(){var t;let e=j.useContext(NL),n=Sz(),r=LL();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Cz(){let{router:t}=Ez(ML.UseNavigateStable),e=LL(DL.UseNavigateStable),n=j.useRef(!1);return RL(()=>{n.current=!0}),j.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,yf({fromRouteId:e},o)))},[t,e])}const OP={};function Iz(t,e,n){OP[t]||(OP[t]=!0)}function kz(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function vc(t){let{to:e,replace:n,state:r,relative:i}=t;cu()||ct(!1);let{future:o,static:s}=j.useContext(qi),{matches:a}=j.useContext(ii),{pathname:l}=Xo(),u=Gi(),c=OT(e,kT(a,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return j.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Oz(t){return mz(t.context)}function In(t){ct(!1)}function Nz(t){let{basename:e="/",children:n=null,location:r,navigationType:i=vo.Pop,navigator:o,static:s=!1,future:a}=t;cu()&&ct(!1);let l=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:l,navigator:o,static:s,future:yf({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=la(r));let{pathname:c="/",search:f="",hash:d="",state:p=null,key:v="default"}=r,x=j.useMemo(()=>{let _=Tl(c,l);return _==null?null:{location:{pathname:_,search:f,hash:d,state:p,key:v},navigationType:i}},[l,c,f,d,p,v,i]);return x==null?null:j.createElement(qi.Provider,{value:u},j.createElement(Qg.Provider,{children:n,value:x}))}function Rz(t){let{children:e,location:n}=t;return yz(f_(e),n)}new Promise(()=>{});function f_(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,i)=>{if(!j.isValidElement(r))return;let o=[...e,i];if(r.type===j.Fragment){n.push.apply(n,f_(r.props.children,o));return}r.type!==In&&ct(!1),!r.props.index||!r.props.children||ct(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=f_(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function im(){return im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},im.apply(this,arguments)}function jL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Mz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Dz(t,e){return t.button===0&&(!e||e==="_self")&&!Mz(t)}const Lz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jz=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],$z="6";try{window.__reactRouterVersion=$z}catch{}const Vz=j.createContext({isTransitioning:!1}),Fz="startTransition",NP=C3[Fz];function Uz(t){let{basename:e,children:n,future:r,window:i}=t,o=j.useRef();o.current==null&&(o.current=F9({window:i,v5Compat:!0}));let s=o.current,[a,l]=j.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=j.useCallback(f=>{u&&NP?NP(()=>l(f)):l(f)},[l,u]);return j.useLayoutEffect(()=>s.listen(c),[s,c]),j.useEffect(()=>kz(r),[r]),j.createElement(Nz,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const Bz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,om=j.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,d=jL(e,Lz),{basename:p}=j.useContext(qi),v,x=!1;if(typeof u=="string"&&zz.test(u)&&(v=u,Bz))try{let T=new URL(window.location.href),C=u.startsWith("//")?new URL(T.protocol+u):new URL(u),S=Tl(C.pathname,p);C.origin===T.origin&&S!=null?u=S+C.search+C.hash:x=!0}catch{}let _=dz(u,{relative:i}),b=Gz(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:f});function w(T){r&&r(T),T.defaultPrevented||b(T)}return j.createElement("a",im({},d,{href:v||_,onClick:x||o?r:w,ref:n,target:l}))}),RP=j.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:a,to:l,viewTransition:u,children:c}=e,f=jL(e,jz),d=Jg(l,{relative:f.relative}),p=Xo(),v=j.useContext(OL),{navigator:x,basename:_}=j.useContext(qi),b=v!=null&&Wz(d)&&u===!0,w=x.encodeLocation?x.encodeLocation(d).pathname:d.pathname,T=p.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(T=T.toLowerCase(),C=C?C.toLowerCase():null,w=w.toLowerCase()),C&&_&&(C=Tl(C,_)||C);const S=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let I=T===w||!s&&T.startsWith(w)&&T.charAt(S)==="/",P=C!=null&&(C===w||!s&&C.startsWith(w)&&C.charAt(w.length)==="/"),A={isActive:I,isPending:P,isTransitioning:b},O=I?r:void 0,N;typeof o=="function"?N=o(A):N=[o,I?"active":null,P?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(A):a;return j.createElement(om,im({},f,{"aria-current":O,className:N,ref:n,style:R,to:l,viewTransition:u}),typeof c=="function"?c(A):c)});var d_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(d_||(d_={}));var MP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(MP||(MP={}));function qz(t){let e=j.useContext(Xg);return e||ct(!1),e}function Gz(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=Gi(),u=Xo(),c=Jg(t,{relative:s});return j.useCallback(f=>{if(Dz(f,n)){f.preventDefault();let d=r!==void 0?r:rm(u)===rm(c);l(t,{replace:d,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[u,l,c,r,i,n,t,o,s,a])}function Wz(t,e){e===void 0&&(e={});let n=j.useContext(Vz);n==null&&ct(!1);let{basename:r}=qz(d_.useViewTransitionState),i=Jg(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Tl(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Tl(n.nextLocation.pathname,r)||n.nextLocation.pathname;return c_(i.pathname,s)!=null||c_(i.pathname,o)!=null}/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(t,e)=>{const n=j.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>j.createElement("svg",{ref:c,...Hz,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${Kz(t)}`,a].join(" "),...u},[...e.map(([f,d])=>j.createElement(f,d)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=we("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=we("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=we("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=we("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=we("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=we("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=we("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=we("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=we("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=we("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=we("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=we("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=we("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=we("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=we("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=we("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=we("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=we("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=we("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=we("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=we("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=we("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=we("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=we("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=we("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=we("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=we("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=we("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=we("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=we("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),NT=j.createContext({});function RT(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const ty=j.createContext(null),MT=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class f8 extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d8({children:t,isPresent:e}){const n=j.useId(),r=j.useRef(null),i=j.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=j.useContext(MT);return j.useInsertionEffect(()=>{const{width:s,height:a,top:l,left:u}=i.current;if(e||!r.current||!s||!a)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return o&&(c.nonce=o),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),g.jsx(f8,{isPresent:e,childRef:r,sizeRef:i,children:j.cloneElement(t,{ref:r})})}const h8=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=RT(p8),l=j.useId(),u=j.useCallback(f=>{a.set(f,!0);for(const d of a.values())if(!d)return;r&&r()},[a,r]),c=j.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u,register:f=>(a.set(f,!1),()=>a.delete(f))}),o?[Math.random(),u]:[n,u]);return j.useMemo(()=>{a.forEach((f,d)=>a.set(d,!1))},[n]),j.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=g.jsx(d8,{isPresent:n,children:t})),g.jsx(ty.Provider,{value:c,children:t})};function p8(){return new Map}function WL(t=!0){const e=j.useContext(ty);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=j.useId();j.useEffect(()=>{t&&i(o)},[t]);const s=j.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,s]:[!0]}const Rh=t=>t.key||"";function FP(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const DT=typeof window<"u",HL=DT?j.useLayoutEffect:j.useEffect,hr=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:s=!1})=>{const[a,l]=WL(s),u=j.useMemo(()=>FP(t),[t]),c=s&&!a?[]:u.map(Rh),f=j.useRef(!0),d=j.useRef(u),p=RT(()=>new Map),[v,x]=j.useState(u),[_,b]=j.useState(u);HL(()=>{f.current=!1,d.current=u;for(let C=0;C<_.length;C++){const S=Rh(_[C]);c.includes(S)?p.delete(S):p.get(S)!==!0&&p.set(S,!1)}},[_,c.length,c.join("-")]);const w=[];if(u!==v){let C=[...u];for(let S=0;S<_.length;S++){const I=_[S],P=Rh(I);c.includes(P)||(C.splice(S,0,I),w.push(I))}o==="wait"&&w.length&&(C=w),b(FP(C)),x(u);return}const{forceRender:T}=j.useContext(NT);return g.jsx(g.Fragment,{children:_.map(C=>{const S=Rh(C),I=s&&!a?!1:u===_||c.includes(S),P=()=>{if(p.has(S))p.set(S,!0);else return;let A=!0;p.forEach(O=>{O||(A=!1)}),A&&(T==null||T(),b(d.current),s&&(l==null||l()),r&&r())};return g.jsx(h8,{isPresent:I,initial:!f.current||n?void 0:!1,custom:I?void 0:e,presenceAffectsLayout:i,mode:o,onExitComplete:I?void 0:P,children:C},S)})})},Kn=t=>t;let KL=Kn;function LT(t){let e;return()=>(e===void 0&&(e=t()),e)}const El=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ei=t=>t*1e3,Si=t=>t/1e3,m8={useManualTiming:!1};function g8(t){let e=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function a(u){o.has(u)&&(l.schedule(u),t()),u(s)}const l={schedule:(u,c=!1,f=!1)=>{const p=f&&r?e:n;return c&&o.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),o.delete(u)},process:u=>{if(s=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const Mh=["read","resolveKeyframes","update","preRender","render","postRender"],y8=40;function YL(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=Mh.reduce((b,w)=>(b[w]=g8(o),b),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:f,postRender:d}=s,p=()=>{const b=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(b-i.timestamp,y8),1),i.timestamp=b,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),f.process(i),d.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},v=()=>{n=!0,r=!0,i.isProcessing||t(p)};return{schedule:Mh.reduce((b,w)=>{const T=s[w];return b[w]=(C,S=!1,I=!1)=>(n||v(),T.schedule(C,S,I)),b},{}),cancel:b=>{for(let w=0;w<Mh.length;w++)s[Mh[w]].cancel(b)},state:i,steps:s}}const{schedule:nt,cancel:Uo,state:Wt,steps:y0}=YL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kn,!0),XL=j.createContext({strict:!1}),UP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sl={};for(const t in UP)Sl[t]={isEnabled:e=>UP[t].some(n=>!!e[n])};function v8(t){for(const e in t)Sl[e]={...Sl[e],...t[e]}}const x8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||x8.has(t)}let QL=t=>!lm(t);function _8(t){t&&(QL=e=>e.startsWith("on")?!lm(e):t(e))}try{_8(require("@emotion/is-prop-valid").default)}catch{}function b8(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(QL(i)||n===!0&&lm(i)||!e&&!lm(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function w8(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const ny=j.createContext({});function vf(t){return typeof t=="string"||Array.isArray(t)}function ry(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const jT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$T=["initial",...jT];function iy(t){return ry(t.animate)||$T.some(e=>vf(t[e]))}function JL(t){return!!(iy(t)||t.variants)}function T8(t,e){if(iy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||vf(n)?n:void 0,animate:vf(r)?r:void 0}}return t.inherit!==!1?e:{}}function E8(t){const{initial:e,animate:n}=T8(t,j.useContext(ny));return j.useMemo(()=>({initial:e,animate:n}),[BP(e),BP(n)])}function BP(t){return Array.isArray(t)?t.join(" "):t}const S8=Symbol.for("motionComponentSymbol");function Ba(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function A8(t,e,n){return j.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ba(n)&&(n.current=r))},[e])}const VT=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),P8="framerAppearId",ZL="data-"+VT(P8),{schedule:FT}=YL(queueMicrotask,!1),ej=j.createContext({});function C8(t,e,n,r,i){var o,s;const{visualElement:a}=j.useContext(ny),l=j.useContext(XL),u=j.useContext(ty),c=j.useContext(MT).reducedMotion,f=j.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const d=f.current,p=j.useContext(ej);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&I8(f.current,n,i,p);const v=j.useRef(!1);j.useInsertionEffect(()=>{d&&v.current&&d.update(n,u)});const x=n[ZL],_=j.useRef(!!x&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,x))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,x)));return HL(()=>{d&&(v.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),FT.render(d.render),_.current&&d.animationState&&d.animationState.animateChanges())}),j.useEffect(()=>{d&&(!_.current&&d.animationState&&d.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,x)}),_.current=!1))}),d}function I8(t,e,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:tj(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&Ba(a),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function tj(t){if(t)return t.options.allowProjection!==!1?t.projection:tj(t.parent)}function k8({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var o,s;t&&v8(t);function a(u,c){let f;const d={...j.useContext(MT),...u,layoutId:O8(u)},{isStatic:p}=d,v=E8(u),x=r(u,p);if(!p&&DT){N8();const _=R8(d);f=_.MeasureLayout,v.visualElement=C8(i,x,d,e,_.ProjectionNode)}return g.jsxs(ny.Provider,{value:v,children:[f&&v.visualElement?g.jsx(f,{visualElement:v.visualElement,...d}):null,n(i,u,A8(x,v.visualElement,c),x,p,v.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(s=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&s!==void 0?s:""})`}`;const l=j.forwardRef(a);return l[S8]=i,l}function O8({layoutId:t}){const e=j.useContext(NT).id;return e&&t!==void 0?e+"-"+t:t}function N8(t,e){j.useContext(XL).strict}function R8(t){const{drag:e,layout:n}=Sl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const M8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function UT(t){return typeof t!="string"||t.includes("-")?!1:!!(M8.indexOf(t)>-1||/[A-Z]/u.test(t))}function zP(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function BT(t,e,n,r){if(typeof e=="function"){const[i,o]=zP(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=zP(r);e=e(n!==void 0?n:t.custom,i,o)}return e}const p_=t=>Array.isArray(t),D8=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),L8=t=>p_(t)?t[t.length-1]||0:t,gn=t=>!!(t&&t.getVelocity);function vp(t){const e=gn(t)?t.get():t;return D8(e)?e.toValue():e}function j8({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,o){const s={latestValues:$8(r,i,o,t),renderState:e()};return n&&(s.onMount=a=>n({props:r,current:a,...s}),s.onUpdate=a=>n(a)),s}const nj=t=>(e,n)=>{const r=j.useContext(ny),i=j.useContext(ty),o=()=>j8(t,e,r,i);return n?o():RT(o)};function $8(t,e,n,r){const i={},o=r(t,{});for(const d in o)i[d]=vp(o[d]);let{initial:s,animate:a}=t;const l=iy(t),u=JL(t);e&&u&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||s===!1;const f=c?a:s;if(f&&typeof f!="boolean"&&!ry(f)){const d=Array.isArray(f)?f:[f];for(let p=0;p<d.length;p++){const v=BT(t,d[p]);if(v){const{transitionEnd:x,transition:_,...b}=v;for(const w in b){let T=b[w];if(Array.isArray(T)){const C=c?T.length-1:0;T=T[C]}T!==null&&(i[w]=T)}for(const w in x)i[w]=x[w]}}}return i}const fu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ua=new Set(fu),rj=t=>e=>typeof e=="string"&&e.startsWith(t),ij=rj("--"),V8=rj("var(--"),zT=t=>V8(t)?F8.test(t.split("/*")[0].trim()):!1,F8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,oj=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Mi=(t,e,n)=>n>e?e:n<t?t:n,du={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},xf={...du,transform:t=>Mi(0,1,t)},Dh={...du,default:1},Td=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ro=Td("deg"),Kr=Td("%"),de=Td("px"),U8=Td("vh"),B8=Td("vw"),qP={...Kr,parse:t=>Kr.parse(t)/100,transform:t=>Kr.transform(t*100)},z8={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,backgroundPositionX:de,backgroundPositionY:de},q8={rotate:ro,rotateX:ro,rotateY:ro,rotateZ:ro,scale:Dh,scaleX:Dh,scaleY:Dh,scaleZ:Dh,skew:ro,skewX:ro,skewY:ro,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:xf,originX:qP,originY:qP,originZ:de},GP={...du,transform:Math.round},qT={...z8,...q8,zIndex:GP,size:de,fillOpacity:xf,strokeOpacity:xf,numOctaves:GP},G8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},W8=fu.length;function H8(t,e,n){let r="",i=!0;for(let o=0;o<W8;o++){const s=fu[o],a=t[s];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(s.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=oj(a,qT[s]);if(!l){i=!1;const c=G8[s]||s;r+=`${c}(${u}) `}n&&(e[s]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function GT(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let s=!1,a=!1;for(const l in e){const u=e[l];if(ua.has(l)){s=!0;continue}else if(ij(l)){i[l]=u;continue}else{const c=oj(u,qT[l]);l.startsWith("origin")?(a=!0,o[l]=c):r[l]=c}}if(e.transform||(s||n?r.transform=H8(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=o;r.transformOrigin=`${l} ${u} ${c}`}}const K8={offset:"stroke-dashoffset",array:"stroke-dasharray"},Y8={offset:"strokeDashoffset",array:"strokeDasharray"};function X8(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?K8:Y8;t[o.offset]=de.transform(-r);const s=de.transform(e),a=de.transform(n);t[o.array]=`${s} ${a}`}function WP(t,e,n){return typeof t=="string"?t:de.transform(e+n*t)}function Q8(t,e,n){const r=WP(e,t.x,t.width),i=WP(n,t.y,t.height);return`${r} ${i}`}function WT(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},c,f){if(GT(t,u,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:p,dimensions:v}=t;d.transform&&(v&&(p.transform=d.transform),delete d.transform),v&&(i!==void 0||o!==void 0||p.transform)&&(p.transformOrigin=Q8(v,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),s!==void 0&&X8(d,s,a,l,!1)}const HT=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),sj=()=>({...HT(),attrs:{}}),KT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function aj(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const lj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function uj(t,e,n,r){aj(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(lj.has(i)?i:VT(i),e.attrs[i])}const um={};function J8(t){Object.assign(um,t)}function cj(t,{layout:e,layoutId:n}){return ua.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!um[t]||t==="opacity")}function YT(t,e,n){var r;const{style:i}=t,o={};for(const s in i)(gn(i[s])||e.style&&gn(e.style[s])||cj(s,t)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[s]=i[s]);return o}function fj(t,e,n){const r=YT(t,e,n);for(const i in t)if(gn(t[i])||gn(e[i])){const o=fu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}function Z8(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const HP=["x","y","width","height","cx","cy","r"],eq={useVisualState:nj({scrapeMotionValuesFromProps:fj,createRenderState:sj,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!t.drag;if(!o){for(const a in i)if(ua.has(a)){o=!0;break}}if(!o)return;let s=!e;if(e)for(let a=0;a<HP.length;a++){const l=HP[a];t[l]!==e[l]&&(s=!0)}s&&nt.read(()=>{Z8(n,r),nt.render(()=>{WT(r,i,KT(n.tagName),t.transformTemplate),uj(n,r)})})}})},tq={useVisualState:nj({scrapeMotionValuesFromProps:YT,createRenderState:HT})};function dj(t,e,n){for(const r in e)!gn(e[r])&&!cj(r,n)&&(t[r]=e[r])}function nq({transformTemplate:t},e){return j.useMemo(()=>{const n=HT();return GT(n,e,t),Object.assign({},n.vars,n.style)},[e])}function rq(t,e){const n=t.style||{},r={};return dj(r,n,t),Object.assign(r,nq(t,e)),r}function iq(t,e){const n={},r=rq(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function oq(t,e,n,r){const i=j.useMemo(()=>{const o=sj();return WT(o,e,KT(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};dj(o,t.style,t),i.style={...o,...i.style}}return i}function sq(t=!1){return(n,r,i,{latestValues:o},s)=>{const l=(UT(n)?oq:iq)(r,o,s,n),u=b8(r,typeof n=="string",t),c=n!==j.Fragment?{...u,...l,ref:i}:{},{children:f}=r,d=j.useMemo(()=>gn(f)?f.get():f,[f]);return j.createElement(n,{...c,children:d})}}function aq(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...UT(r)?eq:tq,preloadedFeatures:t,useRender:sq(i),createVisualElement:e,Component:r};return k8(s)}}function hj(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function oy(t,e,n){const r=t.getProps();return BT(r,e,n!==void 0?n:r.custom,t)}const lq=LT(()=>window.ScrollTimeline!==void 0);class uq{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(lq()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class cq extends uq{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function XT(t,e){return t?t[e]||t.default||t:void 0}const m_=2e4;function pj(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<m_;)e+=n,r=t.next(e);return e>=m_?1/0:e}function QT(t){return typeof t=="function"}function KP(t,e){t.timeline=e,t.onfinish=null}const JT=t=>Array.isArray(t)&&typeof t[0]=="number",fq={linearEasing:void 0};function dq(t,e){const n=LT(t);return()=>{var r;return(r=fq[e])!==null&&r!==void 0?r:n()}}const cm=dq(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),mj=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=t(El(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function gj(t){return!!(typeof t=="function"&&cm()||!t||typeof t=="string"&&(t in g_||cm())||JT(t)||Array.isArray(t)&&t.every(gj))}const xc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,g_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xc([0,.65,.55,1]),circOut:xc([.55,0,1,.45]),backIn:xc([.31,.01,.66,-.59]),backOut:xc([.33,1.53,.69,.99])};function yj(t,e){if(t)return typeof t=="function"&&cm()?mj(t,e):JT(t)?xc(t):Array.isArray(t)?t.map(n=>yj(n,e)||g_.easeOut):g_[t]}const Tr={x:!1,y:!1};function vj(){return Tr.x||Tr.y}function hq(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const o=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function xj(t,e){const n=hq(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function YP(t){return e=>{e.pointerType==="touch"||vj()||t(e)}}function pq(t,e,n={}){const[r,i,o]=xj(t,n),s=YP(a=>{const{target:l}=a,u=e(a);if(typeof u!="function"||!l)return;const c=YP(f=>{u(f),l.removeEventListener("pointerleave",c)});l.addEventListener("pointerleave",c,i)});return r.forEach(a=>{a.addEventListener("pointerenter",s,i)}),o}const _j=(t,e)=>e?t===e?!0:_j(t,e.parentElement):!1,ZT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,mq=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gq(t){return mq.has(t.tagName)||t.tabIndex!==-1}const _c=new WeakSet;function XP(t){return e=>{e.key==="Enter"&&t(e)}}function v0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const yq=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=XP(()=>{if(_c.has(n))return;v0(n,"down");const i=XP(()=>{v0(n,"up")}),o=()=>v0(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function QP(t){return ZT(t)&&!vj()}function vq(t,e,n={}){const[r,i,o]=xj(t,n),s=a=>{const l=a.currentTarget;if(!QP(a)||_c.has(l))return;_c.add(l);const u=e(a),c=(p,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),!(!QP(p)||!_c.has(l))&&(_c.delete(l),typeof u=="function"&&u(p,{success:v}))},f=p=>{c(p,n.useGlobalTarget||_j(l,p.target))},d=p=>{c(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",d,i)};return r.forEach(a=>{!gq(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",s,i),a.addEventListener("focus",u=>yq(u,i),i)}),o}function xq(t){return t==="x"||t==="y"?Tr[t]?null:(Tr[t]=!0,()=>{Tr[t]=!1}):Tr.x||Tr.y?null:(Tr.x=Tr.y=!0,()=>{Tr.x=Tr.y=!1})}const bj=new Set(["width","height","top","left","right","bottom",...fu]);let xp;function _q(){xp=void 0}const Yr={now:()=>(xp===void 0&&Yr.set(Wt.isProcessing||m8.useManualTiming?Wt.timestamp:performance.now()),xp),set:t=>{xp=t,queueMicrotask(_q)}};function eE(t,e){t.indexOf(e)===-1&&t.push(e)}function tE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class nE{constructor(){this.subscriptions=[]}add(e){return eE(this.subscriptions,e),()=>tE(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function wj(t,e){return e?t*(1e3/e):0}const JP=30,bq=t=>!isNaN(parseFloat(t));class wq{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=Yr.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Yr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=bq(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new nE);const r=this.events[e].add(n);return e==="change"?()=>{r(),nt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Yr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>JP)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,JP);return wj(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _f(t,e){return new wq(t,e)}function Tq(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_f(n))}function Eq(t,e){const n=oy(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const a=L8(o[s]);Tq(t,s,a)}}function Sq(t){return!!(gn(t)&&t.add)}function y_(t,e){const n=t.getValue("willChange");if(Sq(n))return n.add(e)}function Tj(t){return t.props[ZL]}const Ej=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Aq=1e-7,Pq=12;function Cq(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=Ej(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>Aq&&++a<Pq);return s}function Ed(t,e,n,r){if(t===e&&n===r)return Kn;const i=o=>Cq(o,0,1,t,n);return o=>o===0||o===1?o:Ej(i(o),e,r)}const Sj=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Aj=t=>e=>1-t(1-e),Pj=Ed(.33,1.53,.69,.99),rE=Aj(Pj),Cj=Sj(rE),Ij=t=>(t*=2)<1?.5*rE(t):.5*(2-Math.pow(2,-10*(t-1))),iE=t=>1-Math.sin(Math.acos(t)),kj=Aj(iE),Oj=Sj(iE),Nj=t=>/^0[^.\s]+$/u.test(t);function Iq(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Nj(t):!0}const $c=t=>Math.round(t*1e5)/1e5,oE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kq(t){return t==null}const Oq=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sE=(t,e)=>n=>!!(typeof n=="string"&&Oq.test(n)&&n.startsWith(t)||e&&!kq(n)&&Object.prototype.hasOwnProperty.call(n,e)),Rj=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,a]=r.match(oE);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},Nq=t=>Mi(0,255,t),x0={...du,transform:t=>Math.round(Nq(t))},Os={test:sE("rgb","red"),parse:Rj("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+x0.transform(t)+", "+x0.transform(e)+", "+x0.transform(n)+", "+$c(xf.transform(r))+")"};function Rq(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const v_={test:sE("#"),parse:Rq,transform:Os.transform},za={test:sE("hsl","hue"),parse:Rj("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Kr.transform($c(e))+", "+Kr.transform($c(n))+", "+$c(xf.transform(r))+")"},ln={test:t=>Os.test(t)||v_.test(t)||za.test(t),parse:t=>Os.test(t)?Os.parse(t):za.test(t)?za.parse(t):v_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Os.transform(t):za.transform(t)},Mq=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Dq(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(oE))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Mq))===null||n===void 0?void 0:n.length)||0)>0}const Mj="number",Dj="color",Lq="var",jq="var(",ZP="${}",$q=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=e.replace($q,l=>(ln.test(l)?(r.color.push(o),i.push(Dj),n.push(ln.parse(l))):l.startsWith(jq)?(r.var.push(o),i.push(Lq),n.push(l)):(r.number.push(o),i.push(Mj),n.push(parseFloat(l))),++o,ZP)).split(ZP);return{values:n,split:a,indexes:r,types:i}}function Lj(t){return bf(t).values}function jj(t){const{split:e,types:n}=bf(t),r=e.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=e[s],i[s]!==void 0){const a=n[s];a===Mj?o+=$c(i[s]):a===Dj?o+=ln.transform(i[s]):o+=i[s]}return o}}const Vq=t=>typeof t=="number"?0:t;function Fq(t){const e=Lj(t);return jj(t)(e.map(Vq))}const Bo={test:Dq,parse:Lj,createTransformer:jj,getAnimatableNone:Fq},Uq=new Set(["brightness","contrast","saturate","opacity"]);function Bq(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(oE)||[];if(!r)return t;const i=n.replace(r,"");let o=Uq.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const zq=/\b([a-z-]*)\(.*?\)/gu,x_={...Bo,getAnimatableNone:t=>{const e=t.match(zq);return e?e.map(Bq).join(" "):t}},qq={...qT,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:x_,WebkitFilter:x_},aE=t=>qq[t];function $j(t,e){let n=aE(t);return n!==x_&&(n=Bo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Gq=new Set(["auto","none","0"]);function Wq(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!Gq.has(o)&&bf(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=$j(n,i)}const eC=t=>t===du||t===de,tC=(t,e)=>parseFloat(t.split(", ")[e]),nC=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return tC(i[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?tC(o[1],t):0}},Hq=new Set(["x","y","z"]),Kq=fu.filter(t=>!Hq.has(t));function Yq(t){const e=[];return Kq.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Al={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:nC(4,13),y:nC(5,14)};Al.translateX=Al.x;Al.translateY=Al.y;const Vs=new Set;let __=!1,b_=!1;function Vj(){if(b_){const t=Array.from(Vs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Yq(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var a;(a=r.getValue(o))===null||a===void 0||a.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}b_=!1,__=!1,Vs.forEach(t=>t.complete()),Vs.clear()}function Fj(){Vs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(b_=!0)})}function Xq(){Fj(),Vj()}class lE{constructor(e,n,r,i,o,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Vs.add(this),__||(__=!0,nt.read(Fj),nt.resolveKeyframes(Vj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Vs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Vs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Uj=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Qq=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Jq(t){const e=Qq.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Bj(t,e,n=1){const[r,i]=Jq(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return Uj(s)?parseFloat(s):s}return zT(i)?Bj(i,e,n+1):i}const zj=t=>e=>e.test(t),Zq={test:t=>t==="auto",parse:t=>t},qj=[du,de,Kr,ro,B8,U8,Zq],rC=t=>qj.find(zj(t));class Gj extends lE{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),zT(u))){const c=Bj(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!bj.has(r)||e.length!==2)return;const[i,o]=e,s=rC(i),a=rC(o);if(s!==a)if(eC(s)&&eC(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Iq(e[i])&&r.push(i);r.length&&Wq(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Al[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const s=i.length-1,a=i[s];i[s]=Al[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const iC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Bo.test(t)||t==="0")&&!t.startsWith("url("));function eG(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function tG(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],s=iC(i,e),a=iC(o,e);return!s||!a?!1:eG(t)||(n==="spring"||QT(n))&&r}const nG=t=>t!==null;function sy(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(nG),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const rG=40;class Wj{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Yr.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>rG?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Xq(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Yr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:s,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!tG(e,r,i,o))if(s)this.options.duration=0;else{l&&l(sy(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,n);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const lt=(t,e,n)=>t+(e-t)*n;function _0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function iG({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=_0(l,a,t+1/3),o=_0(l,a,t),s=_0(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function fm(t,e){return n=>n>0?e:t}const b0=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},oG=[v_,Os,za],sG=t=>oG.find(e=>e.test(t));function oC(t){const e=sG(t);if(!e)return!1;let n=e.parse(t);return e===za&&(n=iG(n)),n}const sC=(t,e)=>{const n=oC(t),r=oC(e);if(!n||!r)return fm(t,e);const i={...n};return o=>(i.red=b0(n.red,r.red,o),i.green=b0(n.green,r.green,o),i.blue=b0(n.blue,r.blue,o),i.alpha=lt(n.alpha,r.alpha,o),Os.transform(i))},aG=(t,e)=>n=>e(t(n)),Sd=(...t)=>t.reduce(aG),w_=new Set(["none","hidden"]);function lG(t,e){return w_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function uG(t,e){return n=>lt(t,e,n)}function uE(t){return typeof t=="number"?uG:typeof t=="string"?zT(t)?fm:ln.test(t)?sC:dG:Array.isArray(t)?Hj:typeof t=="object"?ln.test(t)?sC:cG:fm}function Hj(t,e){const n=[...t],r=n.length,i=t.map((o,s)=>uE(o)(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function cG(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=uE(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function fG(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const s=e.types[o],a=t.indexes[s][i[s]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[o]=l,i[s]++}return r}const dG=(t,e)=>{const n=Bo.createTransformer(e),r=bf(t),i=bf(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?w_.has(t)&&!i.values.length||w_.has(e)&&!r.values.length?lG(t,e):Sd(Hj(fG(r,i),i.values),n):fm(t,e)};function Kj(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?lt(t,e,n):uE(t)(t,e)}const hG=5;function Yj(t,e,n){const r=Math.max(e-hG,0);return wj(n-t(r),e-r)}const mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},w0=.001;function pG({duration:t=mt.duration,bounce:e=mt.bounce,velocity:n=mt.velocity,mass:r=mt.mass}){let i,o,s=1-e;s=Mi(mt.minDamping,mt.maxDamping,s),t=Mi(mt.minDuration,mt.maxDuration,Si(t)),s<1?(i=u=>{const c=u*s,f=c*t,d=c-n,p=T_(u,s),v=Math.exp(-f);return w0-d/p*v},o=u=>{const f=u*s*t,d=f*n+n,p=Math.pow(s,2)*Math.pow(u,2)*t,v=Math.exp(-f),x=T_(Math.pow(u,2),s);return(-i(u)+w0>0?-1:1)*((d-p)*v)/x}):(i=u=>{const c=Math.exp(-u*t),f=(u-n)*t+1;return-w0+c*f},o=u=>{const c=Math.exp(-u*t),f=(n-u)*(t*t);return c*f});const a=5/t,l=gG(i,o,a);if(t=Ei(t),isNaN(l))return{stiffness:mt.stiffness,damping:mt.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:t}}}const mG=12;function gG(t,e,n){let r=n;for(let i=1;i<mG;i++)r=r-t(r)/e(r);return r}function T_(t,e){return t*Math.sqrt(1-e*e)}const yG=["duration","bounce"],vG=["stiffness","damping","mass"];function aC(t,e){return e.some(n=>t[n]!==void 0)}function xG(t){let e={velocity:mt.velocity,stiffness:mt.stiffness,damping:mt.damping,mass:mt.mass,isResolvedFromDuration:!1,...t};if(!aC(t,vG)&&aC(t,yG))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Mi(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:mt.mass,stiffness:i,damping:o}}else{const n=pG(t);e={...e,...n,mass:mt.mass},e.isResolvedFromDuration=!0}return e}function Xj(t=mt.visualDuration,e=mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:u,mass:c,duration:f,velocity:d,isResolvedFromDuration:p}=xG({...n,velocity:-Si(n.velocity||0)}),v=d||0,x=u/(2*Math.sqrt(l*c)),_=s-o,b=Si(Math.sqrt(l/c)),w=Math.abs(_)<5;r||(r=w?mt.restSpeed.granular:mt.restSpeed.default),i||(i=w?mt.restDelta.granular:mt.restDelta.default);let T;if(x<1){const S=T_(b,x);T=I=>{const P=Math.exp(-x*b*I);return s-P*((v+x*b*_)/S*Math.sin(S*I)+_*Math.cos(S*I))}}else if(x===1)T=S=>s-Math.exp(-b*S)*(_+(v+b*_)*S);else{const S=b*Math.sqrt(x*x-1);T=I=>{const P=Math.exp(-x*b*I),A=Math.min(S*I,300);return s-P*((v+x*b*_)*Math.sinh(A)+S*_*Math.cosh(A))/S}}const C={calculatedDuration:p&&f||null,next:S=>{const I=T(S);if(p)a.done=S>=f;else{let P=0;x<1&&(P=S===0?Ei(v):Yj(T,S,I));const A=Math.abs(P)<=r,O=Math.abs(s-I)<=i;a.done=A&&O}return a.value=a.done?s:I,a},toString:()=>{const S=Math.min(pj(C),m_),I=mj(P=>C.next(S*P).value,S,30);return S+"ms "+I}};return C}function lC({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=t[0],d={done:!1,value:f},p=A=>a!==void 0&&A<a||l!==void 0&&A>l,v=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let x=n*e;const _=f+x,b=s===void 0?_:s(_);b!==_&&(x=b-f);const w=A=>-x*Math.exp(-A/r),T=A=>b+w(A),C=A=>{const O=w(A),N=T(A);d.done=Math.abs(O)<=u,d.value=d.done?b:N};let S,I;const P=A=>{p(d.value)&&(S=A,I=Xj({keyframes:[d.value,v(d.value)],velocity:Yj(T,A,d.value),damping:i,stiffness:o,restDelta:u,restSpeed:c}))};return P(0),{calculatedDuration:null,next:A=>{let O=!1;return!I&&S===void 0&&(O=!0,C(A),P(A)),S!==void 0&&A>=S?I.next(A-S):(!O&&C(A),d)}}}const _G=Ed(.42,0,1,1),bG=Ed(0,0,.58,1),Qj=Ed(.42,0,.58,1),wG=t=>Array.isArray(t)&&typeof t[0]!="number",TG={linear:Kn,easeIn:_G,easeInOut:Qj,easeOut:bG,circIn:iE,circInOut:Oj,circOut:kj,backIn:rE,backInOut:Cj,backOut:Pj,anticipate:Ij},uC=t=>{if(JT(t)){KL(t.length===4);const[e,n,r,i]=t;return Ed(e,n,r,i)}else if(typeof t=="string")return TG[t];return t};function EG(t,e,n){const r=[],i=n||Kj,o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||Kn:e;a=Sd(l,a)}r.push(a)}return r}function SG(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(KL(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=EG(e,r,i),l=a.length,u=c=>{if(s&&c<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(c<t[f+1]);f++);const d=El(t[f],t[f+1],c);return a[f](d)};return n?c=>u(Mi(t[0],t[o-1],c)):u}function AG(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=El(0,e,r);t.push(lt(n,1,i))}}function PG(t){const e=[0];return AG(e,t.length-1),e}function CG(t,e){return t.map(n=>n*e)}function IG(t,e){return t.map(()=>e||Qj).splice(0,t.length-1)}function dm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=wG(r)?r.map(uC):uC(r),o={done:!1,value:e[0]},s=CG(n&&n.length===e.length?n:PG(e),t),a=SG(s,e,{ease:Array.isArray(i)?i:IG(e,i)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}const kG=t=>{const e=({timestamp:n})=>t(n);return{start:()=>nt.update(e,!0),stop:()=>Uo(e),now:()=>Wt.isProcessing?Wt.timestamp:Yr.now()}},OG={decay:lC,inertia:lC,tween:dm,keyframes:dm,spring:Xj},NG=t=>t/100;class cE extends Wj{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,s=(i==null?void 0:i.KeyframeResolver)||lE,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new s(o,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=this.options,a=QT(n)?n:OG[n]||dm;let l,u;a!==dm&&typeof e[0]!="number"&&(l=Sd(NG,Kj(e[0],e[1])),e=[0,100]);const c=a({...this.options,keyframes:e});o==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=pj(c));const{calculatedDuration:f}=c,d=f+i,p=d*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:d,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:f}=r;if(this.startTime===null)return o.next(0);const{delay:d,repeat:p,repeatType:v,repeatDelay:x,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const b=this.currentTime-d*(this.speed>=0?1:-1),w=this.speed>=0?b<0:b>c;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let T=this.currentTime,C=o;if(p){const A=Math.min(this.currentTime,c)/f;let O=Math.floor(A),N=A%1;!N&&A>=1&&(N=1),N===1&&O--,O=Math.min(O,p+1),!!(O%2)&&(v==="reverse"?(N=1-N,x&&(N-=x/f)):v==="mirror"&&(C=s)),T=Mi(0,1,N)*f}const S=w?{done:!1,value:l[0]}:C.next(T);a&&(S.value=a(S.value));let{done:I}=S;!w&&u!==null&&(I=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return P&&i!==void 0&&(S.value=sy(l,this.options,i)),_&&_(S.value),P&&this.finish(),S}get duration(){const{resolved:e}=this;return e?Si(e.calculatedDuration):0}get time(){return Si(this.currentTime)}set time(e){e=Ei(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Si(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=kG,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const RG=new Set(["opacity","clipPath","filter","transform"]);function MG(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=yj(a,i);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}const DG=LT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hm=10,LG=2e4;function jG(t){return QT(t.type)||t.type==="spring"||!gj(t.ease)}function $G(t,e){const n=new cE({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<LG;)r=n.sample(o),i.push(r.value),o+=hm;return{times:void 0,keyframes:i,duration:o-hm,ease:"linear"}}const Jj={anticipate:Ij,backInOut:Cj,circInOut:Oj};function VG(t){return t in Jj}class cC extends Wj{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new Gj(o,(s,a)=>this.onKeyframesResolved(s,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:o,type:s,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof o=="string"&&cm()&&VG(o)&&(o=Jj[o]),jG(this.options)){const{onComplete:f,onUpdate:d,motionValue:p,element:v,...x}=this.options,_=$G(e,x);e=_.keyframes,e.length===1&&(e[1]=e[0]),r=_.duration,i=_.times,o=_.ease,s="keyframes"}const c=MG(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:o});return c.startTime=u??this.calcStartTime(),this.pendingTimeline?(KP(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:f}=this.options;a.set(sy(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:i,type:s,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Si(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Si(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ei(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Kn;const{animation:r}=n;KP(r,e)}return Kn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:o,ease:s,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:f,element:d,...p}=this.options,v=new cE({...p,keyframes:r,duration:i,type:o,ease:s,times:a,isGenerator:!0}),x=Ei(this.time);u.setWithVelocity(v.sample(x-hm).value,v.sample(x).value,hm)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:s,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return DG()&&r&&RG.has(r)&&!l&&!u&&!i&&o!=="mirror"&&s!==0&&a!=="inertia"}}const FG={type:"spring",stiffness:500,damping:25,restSpeed:10},UG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),BG={type:"keyframes",duration:.8},zG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qG=(t,{keyframes:e})=>e.length>2?BG:ua.has(t)?t.startsWith("scale")?UG(e[1]):FG:zG;function GG({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const fE=(t,e,n,r={},i,o)=>s=>{const a=XT(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ei(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:o?void 0:i};GG(a)||(c={...c,...qG(t,c)}),c.duration&&(c.duration=Ei(c.duration)),c.repeatDelay&&(c.repeatDelay=Ei(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(f=!0)),f&&!o&&e.get()!==void 0){const d=sy(c.keyframes,a);if(d!==void 0)return nt.update(()=>{c.onUpdate(d),c.onComplete()}),new cq([])}return!o&&cC.supports(c)?new cC(c):new cE(c)};function WG({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Zj(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:s=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(s=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const d=t.getValue(f,(o=t.latestValues[f])!==null&&o!==void 0?o:null),p=l[f];if(p===void 0||c&&WG(c,f))continue;const v={delay:n,...XT(s||{},f)};let x=!1;if(window.MotionHandoffAnimation){const b=Tj(t);if(b){const w=window.MotionHandoffAnimation(b,f,nt);w!==null&&(v.startTime=w,x=!0)}}y_(t,f),d.start(fE(f,d,p,t.shouldReduceMotion&&bj.has(f)?{type:!1}:v,t,x));const _=d.animation;_&&u.push(_)}return a&&Promise.all(u).then(()=>{nt.update(()=>{a&&Eq(t,a)})}),u}function E_(t,e,n={}){var r;const i=oy(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all(Zj(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:d}=o;return HG(t,e,c+u,f,d,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[u,c]=l==="beforeChildren"?[s,a]:[a,s];return u().then(()=>c())}else return Promise.all([s(),a(n.delay)])}function HG(t,e,n=0,r=0,i=1,o){const s=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(KG).forEach((u,c)=>{u.notify("AnimationStart",e),s.push(E_(u,e,{...o,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(s)}function KG(t,e){return t.sortNodePosition(e)}function YG(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>E_(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=E_(t,e,n);else{const i=typeof e=="function"?oy(t,e,n.custom):e;r=Promise.all(Zj(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const XG=$T.length;function e$(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?e$(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<XG;n++){const r=$T[n],i=t.props[r];(vf(i)||i===!1)&&(e[r]=i)}return e}const QG=[...jT].reverse(),JG=jT.length;function ZG(t){return e=>Promise.all(e.map(({animation:n,options:r})=>YG(t,n,r)))}function eW(t){let e=ZG(t),n=fC(),r=!0;const i=l=>(u,c)=>{var f;const d=oy(t,c,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(d){const{transition:p,transitionEnd:v,...x}=d;u={...u,...x,...v}}return u};function o(l){e=l(t)}function s(l){const{props:u}=t,c=e$(t.parent)||{},f=[],d=new Set;let p={},v=1/0;for(let _=0;_<JG;_++){const b=QG[_],w=n[b],T=u[b]!==void 0?u[b]:c[b],C=vf(T),S=b===l?w.isActive:null;S===!1&&(v=_);let I=T===c[b]&&T!==u[b]&&C;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),w.protectedKeys={...p},!w.isActive&&S===null||!T&&!w.prevProp||ry(T)||typeof T=="boolean")continue;const P=tW(w.prevProp,T);let A=P||b===l&&w.isActive&&!I&&C||_>v&&C,O=!1;const N=Array.isArray(T)?T:[T];let R=N.reduce(i(b),{});S===!1&&(R={});const{prevResolvedValues:D={}}=w,M={...D,...R},U=W=>{A=!0,d.has(W)&&(O=!0,d.delete(W)),w.needsAnimating[W]=!0;const V=t.getValue(W);V&&(V.liveStyle=!1)};for(const W in M){const V=R[W],q=D[W];if(p.hasOwnProperty(W))continue;let Y=!1;p_(V)&&p_(q)?Y=!hj(V,q):Y=V!==q,Y?V!=null?U(W):d.add(W):V!==void 0&&d.has(W)?U(W):w.protectedKeys[W]=!0}w.prevProp=T,w.prevResolvedValues=R,w.isActive&&(p={...p,...R}),r&&t.blockInitialAnimation&&(A=!1),A&&(!(I&&P)||O)&&f.push(...N.map(W=>({animation:W,options:{type:b}})))}if(d.size){const _={};d.forEach(b=>{const w=t.getBaseTarget(b),T=t.getValue(b);T&&(T.liveStyle=!0),_[b]=w??null}),f.push({animation:_})}let x=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(f):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(d=>{var p;return(p=d.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const f=s(l);for(const d in n)n[d].protectedKeys={};return f}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=fC(),r=!0}}}function tW(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!hj(e,t):!1}function ms(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fC(){return{animate:ms(!0),whileInView:ms(),whileHover:ms(),whileTap:ms(),whileDrag:ms(),whileFocus:ms(),exit:ms()}}class Qo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class nW extends Qo{constructor(e){super(e),e.animationState||(e.animationState=eW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ry(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let rW=0;class iW extends Qo{constructor(){super(...arguments),this.id=rW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const oW={animation:{Feature:nW},exit:{Feature:iW}};function wf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ad(t){return{point:{x:t.pageX,y:t.pageY}}}const sW=t=>e=>ZT(e)&&t(e,Ad(e));function Vc(t,e,n,r){return wf(t,e,sW(n),r)}const dC=(t,e)=>Math.abs(t-e);function aW(t,e){const n=dC(t.x,e.x),r=dC(t.y,e.y);return Math.sqrt(n**2+r**2)}class t${constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=E0(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,p=aW(f.offset,{x:0,y:0})>=3;if(!d&&!p)return;const{point:v}=f,{timestamp:x}=Wt;this.history.push({...v,timestamp:x});const{onStart:_,onMove:b}=this.handlers;d||(_&&_(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=T0(d,this.transformPagePoint),nt.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=E0(f.type==="pointercancel"?this.lastMoveEventInfo:T0(d,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,_),v&&v(f,_)},!ZT(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Ad(e),a=T0(s,this.transformPagePoint),{point:l}=a,{timestamp:u}=Wt;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,E0(a,this.history)),this.removeListeners=Sd(Vc(this.contextWindow,"pointermove",this.handlePointerMove),Vc(this.contextWindow,"pointerup",this.handlePointerUp),Vc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Uo(this.updatePoint)}}function T0(t,e){return e?{point:e(t.point)}:t}function hC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function E0({point:t},e){return{point:t,delta:hC(t,n$(e)),offset:hC(t,lW(e)),velocity:uW(e,.1)}}function lW(t){return t[0]}function n$(t){return t[t.length-1]}function uW(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=n$(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ei(e)));)n--;if(!r)return{x:0,y:0};const o=Si(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const r$=1e-4,cW=1-r$,fW=1+r$,i$=.01,dW=0-i$,hW=0+i$;function Jn(t){return t.max-t.min}function pW(t,e,n){return Math.abs(t-e)<=n}function pC(t,e,n,r=.5){t.origin=r,t.originPoint=lt(e.min,e.max,t.origin),t.scale=Jn(n)/Jn(e),t.translate=lt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=cW&&t.scale<=fW||isNaN(t.scale))&&(t.scale=1),(t.translate>=dW&&t.translate<=hW||isNaN(t.translate))&&(t.translate=0)}function Fc(t,e,n,r){pC(t.x,e.x,n.x,r?r.originX:void 0),pC(t.y,e.y,n.y,r?r.originY:void 0)}function mC(t,e,n){t.min=n.min+e.min,t.max=t.min+Jn(e)}function mW(t,e,n){mC(t.x,e.x,n.x),mC(t.y,e.y,n.y)}function gC(t,e,n){t.min=e.min-n.min,t.max=t.min+Jn(e)}function Uc(t,e,n){gC(t.x,e.x,n.x),gC(t.y,e.y,n.y)}function gW(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?lt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?lt(n,t,r.max):Math.min(t,n)),t}function yC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function yW(t,{top:e,left:n,bottom:r,right:i}){return{x:yC(t.x,n,i),y:yC(t.y,e,r)}}function vC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function vW(t,e){return{x:vC(t.x,e.x),y:vC(t.y,e.y)}}function xW(t,e){let n=.5;const r=Jn(t),i=Jn(e);return i>r?n=El(e.min,e.max-r,t.min):r>i&&(n=El(t.min,t.max-i,e.min)),Mi(0,1,n)}function _W(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const S_=.35;function bW(t=S_){return t===!1?t=0:t===!0&&(t=S_),{x:xC(t,"left","right"),y:xC(t,"top","bottom")}}function xC(t,e,n){return{min:_C(t,e),max:_C(t,n)}}function _C(t,e){return typeof t=="number"?t:t[e]||0}const bC=()=>({translate:0,scale:1,origin:0,originPoint:0}),qa=()=>({x:bC(),y:bC()}),wC=()=>({min:0,max:0}),xt=()=>({x:wC(),y:wC()});function or(t){return[t("x"),t("y")]}function o$({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function wW({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function TW(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function S0(t){return t===void 0||t===1}function A_({scale:t,scaleX:e,scaleY:n}){return!S0(t)||!S0(e)||!S0(n)}function bs(t){return A_(t)||s$(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function s$(t){return TC(t.x)||TC(t.y)}function TC(t){return t&&t!=="0%"}function pm(t,e,n){const r=t-n,i=e*r;return n+i}function EC(t,e,n,r,i){return i!==void 0&&(t=pm(t,i,r)),pm(t,n,r)+e}function P_(t,e=0,n=1,r,i){t.min=EC(t.min,e,n,r,i),t.max=EC(t.max,e,n,r,i)}function a$(t,{x:e,y:n}){P_(t.x,e.translate,e.scale,e.originPoint),P_(t.y,n.translate,n.scale,n.originPoint)}const SC=.999999999999,AC=1.0000000000001;function EW(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Wa(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,a$(t,s)),r&&bs(o.latestValues)&&Wa(t,o.latestValues))}e.x<AC&&e.x>SC&&(e.x=1),e.y<AC&&e.y>SC&&(e.y=1)}function Ga(t,e){t.min=t.min+e,t.max=t.max+e}function PC(t,e,n,r,i=.5){const o=lt(t.min,t.max,i);P_(t,e,n,o,r)}function Wa(t,e){PC(t.x,e.x,e.scaleX,e.scale,e.originX),PC(t.y,e.y,e.scaleY,e.scale,e.originY)}function l$(t,e){return o$(TW(t.getBoundingClientRect(),e))}function SW(t,e,n){const r=l$(t,n),{scroll:i}=e;return i&&(Ga(r.x,i.offset.x),Ga(r.y,i.offset.y)),r}const u$=({current:t})=>t?t.ownerDocument.defaultView:null,AW=new WeakMap;class PW{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ad(c).point)},o=(c,f)=>{const{drag:d,dragPropagation:p,onDragStart:v}=this.getProps();if(d&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xq(d),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),or(_=>{let b=this.getAxisMotionValue(_).get()||0;if(Kr.test(b)){const{projection:w}=this.visualElement;if(w&&w.layout){const T=w.layout.layoutBox[_];T&&(b=Jn(T)*(parseFloat(b)/100))}}this.originPoint[_]=b}),v&&nt.postRender(()=>v(c,f)),y_(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},s=(c,f)=>{const{dragPropagation:d,dragDirectionLock:p,onDirectionLock:v,onDrag:x}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:_}=f;if(p&&this.currentDirection===null){this.currentDirection=CW(_),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,_),this.updateAxis("y",f.point,_),this.visualElement.render(),x&&x(c,f)},a=(c,f)=>this.stop(c,f),l=()=>or(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new t$(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:u$(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&nt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Lh(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=gW(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Ba(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=yW(i.layoutBox,n):this.constraints=!1,this.elastic=bW(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&or(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=_W(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ba(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=SW(r,i.root,this.visualElement.getTransformPagePoint());let s=vW(i.layout.layoutBox,o);if(n){const a=n(wW(s));this.hasMutatedConstraints=!!a,a&&(s=o$(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=or(c=>{if(!Lh(c,n,this.currentDirection))return;let f=l&&l[c]||{};s&&(f={min:0,max:0});const d=i?200:1e6,p=i?40:1e7,v={type:"inertia",velocity:r?e[c]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(c,v)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return y_(this.visualElement,e),r.start(fE(e,r,0,n,this.visualElement,!1))}stopAnimation(){or(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){or(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){or(n=>{const{drag:r}=this.getProps();if(!Lh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(e[n]-lt(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ba(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};or(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const l=a.get();i[s]=xW({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),or(s=>{if(!Lh(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(lt(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;AW.set(this.visualElement,this);const e=this.visualElement.current,n=Vc(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ba(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),nt.read(r);const s=wf(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(or(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=S_,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function Lh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function CW(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class IW extends Qo{constructor(e){super(e),this.removeGroupControls=Kn,this.removeListeners=Kn,this.controls=new PW(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kn}unmount(){this.removeGroupControls(),this.removeListeners()}}const CC=t=>(e,n)=>{t&&nt.postRender(()=>t(e,n))};class kW extends Qo{constructor(){super(...arguments),this.removePointerDownListener=Kn}onPointerDown(e){this.session=new t$(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:u$(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:CC(e),onStart:CC(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&nt.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=Vc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _p={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function IC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const tc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(de.test(t))t=parseFloat(t);else return t;const n=IC(t,e.target.x),r=IC(t,e.target.y);return`${n}% ${r}%`}},OW={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Bo.parse(t);if(i.length>5)return r;const o=Bo.createTransformer(t),s=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=a,i[1+s]/=l;const u=lt(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),o(i)}};class NW extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;J8(RW),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),_p.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||nt.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),FT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function c$(t){const[e,n]=WL(),r=j.useContext(NT);return g.jsx(NW,{...t,layoutGroup:r,switchLayoutGroup:j.useContext(ej),isPresent:e,safeToRemove:n})}const RW={borderRadius:{...tc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tc,borderTopRightRadius:tc,borderBottomLeftRadius:tc,borderBottomRightRadius:tc,boxShadow:OW};function MW(t,e,n){const r=gn(t)?t:_f(t);return r.start(fE("",r,e,n)),r.animation}function DW(t){return t instanceof SVGElement&&t.tagName!=="svg"}const LW=(t,e)=>t.depth-e.depth;class jW{constructor(){this.children=[],this.isDirty=!1}add(e){eE(this.children,e),this.isDirty=!0}remove(e){tE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(LW),this.isDirty=!1,this.children.forEach(e)}}function $W(t,e){const n=Yr.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Uo(r),t(o-e))};return nt.read(r,!0),()=>Uo(r)}const f$=["TopLeft","TopRight","BottomLeft","BottomRight"],VW=f$.length,kC=t=>typeof t=="string"?parseFloat(t):t,OC=t=>typeof t=="number"||de.test(t);function FW(t,e,n,r,i,o){i?(t.opacity=lt(0,n.opacity!==void 0?n.opacity:1,UW(r)),t.opacityExit=lt(e.opacity!==void 0?e.opacity:1,0,BW(r))):o&&(t.opacity=lt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<VW;s++){const a=`border${f$[s]}Radius`;let l=NC(e,a),u=NC(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||OC(l)===OC(u)?(t[a]=Math.max(lt(kC(l),kC(u),r),0),(Kr.test(u)||Kr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=lt(e.rotate||0,n.rotate||0,r))}function NC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const UW=d$(0,.5,kj),BW=d$(.5,.95,Kn);function d$(t,e,n){return r=>r<t?0:r>e?1:n(El(t,e,r))}function RC(t,e){t.min=e.min,t.max=e.max}function tr(t,e){RC(t.x,e.x),RC(t.y,e.y)}function MC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function DC(t,e,n,r,i){return t-=e,t=pm(t,1/n,r),i!==void 0&&(t=pm(t,1/i,r)),t}function zW(t,e=0,n=1,r=.5,i,o=t,s=t){if(Kr.test(e)&&(e=parseFloat(e),e=lt(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=lt(o.min,o.max,r);t===o&&(a-=e),t.min=DC(t.min,e,n,a,i),t.max=DC(t.max,e,n,a,i)}function LC(t,e,[n,r,i],o,s){zW(t,e[n],e[r],e[i],e.scale,o,s)}const qW=["x","scaleX","originX"],GW=["y","scaleY","originY"];function jC(t,e,n,r){LC(t.x,e,qW,n?n.x:void 0,r?r.x:void 0),LC(t.y,e,GW,n?n.y:void 0,r?r.y:void 0)}function $C(t){return t.translate===0&&t.scale===1}function h$(t){return $C(t.x)&&$C(t.y)}function VC(t,e){return t.min===e.min&&t.max===e.max}function WW(t,e){return VC(t.x,e.x)&&VC(t.y,e.y)}function FC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function p$(t,e){return FC(t.x,e.x)&&FC(t.y,e.y)}function UC(t){return Jn(t.x)/Jn(t.y)}function BC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class HW{constructor(){this.members=[]}add(e){eE(this.members,e),e.scheduleRender()}remove(e){if(tE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function KW(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:d,skewX:p,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `),p&&(r+=`skewX(${p}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const ws={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},bc=typeof window<"u"&&window.MotionDebug!==void 0,A0=["","X","Y","Z"],YW={visibility:"hidden"},zC=1e3;let XW=0;function P0(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function m$(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Tj(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",nt,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&m$(r)}function g$({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=XW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,bc&&(ws.totalNodes=ws.resolvedTargetDeltas=ws.recalculatedProjection=0),this.nodes.forEach(ZW),this.nodes.forEach(iH),this.nodes.forEach(oH),this.nodes.forEach(eH),bc&&window.MotionDebug.record(ws)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new jW)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new nE),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=DW(s),this.instance=s;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let f;const d=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=$W(d,250),_p.hasAnimatedSinceResize&&(_p.hasAnimatedSinceResize=!1,this.nodes.forEach(GC))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||c.getDefaultTransition()||cH,{onLayoutAnimationStart:_,onLayoutAnimationComplete:b}=c.getProps(),w=!this.targetLayout||!p$(this.targetLayout,v)||p,T=!d&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||d&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,T);const C={...XT(x,"layout"),onPlay:_,onComplete:b};(c.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else d||GC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Uo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sH),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&m$(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qC);return}this.isUpdating||this.nodes.forEach(nH),this.isUpdating=!1,this.nodes.forEach(rH),this.nodes.forEach(QW),this.nodes.forEach(JW),this.clearAllSnapshots();const a=Yr.now();Wt.delta=Mi(0,1e3/60,a-Wt.timestamp),Wt.timestamp=a,Wt.isProcessing=!0,y0.update.process(Wt),y0.preRender.process(Wt),y0.render.process(Wt),Wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,FT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tH),this.sharedNodes.forEach(aH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!h$(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&(a||bs(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),fH(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:a}=this.options;if(!a)return xt();const l=a.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(dH))){const{scroll:c}=this.root;c&&(Ga(l.x,c.offset.x),Ga(l.y,c.offset.y))}return l}removeElementScroll(s){var a;const l=xt();if(tr(l,s),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:d}=c;c!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&tr(l,s),Ga(l.x,f.offset.x),Ga(l.y,f.offset.y))}return l}applyTransform(s,a=!1){const l=xt();tr(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Wa(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),bs(c.latestValues)&&Wa(l,c.latestValues)}return bs(this.latestValues)&&Wa(l,this.latestValues),l}removeTransform(s){const a=xt();tr(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!bs(u.latestValues))continue;A_(u.latestValues)&&u.updateSnapshot();const c=xt(),f=u.measurePageBox();tr(c,f),jC(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return bs(this.latestValues)&&jC(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=Wt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xt(),this.relativeTargetOrigin=xt(),Uc(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=xt(),this.targetWithTransforms=xt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tr(this.target,this.layout.layoutBox),a$(this.target,this.targetDelta)):tr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xt(),this.relativeTargetOrigin=xt(),Uc(this.relativeTargetOrigin,this.target,p.target),tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}bc&&ws.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||A_(this.parent.latestValues)||s$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Wt.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;tr(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;EW(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=xt());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(MC(this.prevProjectionDelta.x,this.projectionDelta.x),MC(this.prevProjectionDelta.y,this.projectionDelta.y)),Fc(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==p||!BC(this.projectionDelta.x,this.prevProjectionDelta.x)||!BC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),bc&&ws.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qa(),this.projectionDelta=qa(),this.projectionDeltaWithTransform=qa()}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=qa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=xt(),p=l?l.source:void 0,v=this.layout?this.layout.source:void 0,x=p!==v,_=this.getStack(),b=!_||_.members.length<=1,w=!!(x&&!b&&this.options.crossfade===!0&&!this.path.some(uH));this.animationProgress=0;let T;this.mixTargetDelta=C=>{const S=C/1e3;WC(f.x,s.x,S),WC(f.y,s.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Uc(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lH(this.relativeTarget,this.relativeTargetOrigin,d,S),T&&WW(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=xt()),tr(T,this.relativeTarget)),x&&(this.animationValues=c,FW(c,u,this.latestValues,S,w,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Uo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nt.update(()=>{_p.hasAnimatedSinceResize=!0,this.currentAnimation=MW(0,zC,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&y$(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||xt();const f=Jn(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const d=Jn(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+d}tr(a,l),Wa(a,c),Fc(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new HW),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&P0("z",s,u,this.animationValues);for(let c=0;c<A0.length;c++)P0(`rotate${A0[c]}`,s,u,this.animationValues),P0(`skew${A0[c]}`,s,u,this.animationValues);s.render();for(const c in u)s.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return YW;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=vp(s==null?void 0:s.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=vp(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!bs(this.latestValues)&&(x.transform=c?c({},""):"none",this.hasProjected=!1),x}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=KW(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:p,y:v}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in um){if(d[x]===void 0)continue;const{correct:_,applyTo:b}=um[x],w=u.transform==="none"?d[x]:_(d[x],f);if(b){const T=b.length;for(let C=0;C<T;C++)u[b[C]]=w}else u[x]=w}return this.options.layoutId&&(u.pointerEvents=f===this?vp(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(qC),this.root.sharedNodes.clear()}}}function QW(t){t.updateLayout()}function JW(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?or(f=>{const d=s?n.measuredBox[f]:n.layoutBox[f],p=Jn(d);d.min=r[f].min,d.max=d.min+p}):y$(o,n.layoutBox,r)&&or(f=>{const d=s?n.measuredBox[f]:n.layoutBox[f],p=Jn(r[f]);d.max=d.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const a=qa();Fc(a,r,n.layoutBox);const l=qa();s?Fc(l,t.applyTransform(i,!0),n.measuredBox):Fc(l,r,n.layoutBox);const u=!h$(a);let c=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:p}=f;if(d&&p){const v=xt();Uc(v,n.layoutBox,d.layoutBox);const x=xt();Uc(x,r,p.layoutBox),p$(v,x)||(c=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function ZW(t){bc&&ws.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function eH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function tH(t){t.clearSnapshot()}function qC(t){t.clearMeasurements()}function nH(t){t.isLayoutDirty=!1}function rH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function GC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function iH(t){t.resolveTargetDelta()}function oH(t){t.calcProjection()}function sH(t){t.resetSkewAndRotation()}function aH(t){t.removeLeadSnapshot()}function WC(t,e,n){t.translate=lt(e.translate,0,n),t.scale=lt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function HC(t,e,n,r){t.min=lt(e.min,n.min,r),t.max=lt(e.max,n.max,r)}function lH(t,e,n,r){HC(t.x,e.x,n.x,r),HC(t.y,e.y,n.y,r)}function uH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const cH={duration:.45,ease:[.4,0,.1,1]},KC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),YC=KC("applewebkit/")&&!KC("chrome/")?Math.round:Kn;function XC(t){t.min=YC(t.min),t.max=YC(t.max)}function fH(t){XC(t.x),XC(t.y)}function y$(t,e,n){return t==="position"||t==="preserve-aspect"&&!pW(UC(e),UC(n),.2)}function dH(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const hH=g$({attachResizeListener:(t,e)=>wf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),C0={current:void 0},v$=g$({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!C0.current){const t=new hH({});t.mount(window),t.setOptions({layoutScroll:!0}),C0.current=t}return C0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),pH={pan:{Feature:kW},drag:{Feature:IW,ProjectionNode:v$,MeasureLayout:c$}};function QC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&nt.postRender(()=>o(e,Ad(e)))}class mH extends Qo{mount(){const{current:e}=this.node;e&&(this.unmount=pq(e,n=>(QC(this.node,n,"Start"),r=>QC(this.node,r,"End"))))}unmount(){}}class gH extends Qo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sd(wf(this.node.current,"focus",()=>this.onFocus()),wf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function JC(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&nt.postRender(()=>o(e,Ad(e)))}class yH extends Qo{mount(){const{current:e}=this.node;e&&(this.unmount=vq(e,n=>(JC(this.node,n,"Start"),(r,{success:i})=>JC(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const C_=new WeakMap,I0=new WeakMap,vH=t=>{const e=C_.get(t.target);e&&e(t)},xH=t=>{t.forEach(vH)};function _H({root:t,...e}){const n=t||document;I0.has(n)||I0.set(n,{});const r=I0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(xH,{root:t,...e})),r[i]}function bH(t,e,n){const r=_H(e);return C_.set(t,n),r.observe(t),()=>{C_.delete(t),r.unobserve(t)}}const wH={some:0,all:1};class TH extends Qo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:wH[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=u?c:f;d&&d(l)};return bH(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(EH(e,n))&&this.startObserver()}unmount(){}}function EH({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const SH={inView:{Feature:TH},tap:{Feature:yH},focus:{Feature:gH},hover:{Feature:mH}},AH={layout:{ProjectionNode:v$,MeasureLayout:c$}},I_={current:null},x$={current:!1};function PH(){if(x$.current=!0,!!DT)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>I_.current=t.matches;t.addListener(e),e()}else I_.current=!1}const CH=[...qj,ln,Bo],IH=t=>CH.find(zj(t)),ZC=new WeakMap;function kH(t,e,n){for(const r in e){const i=e[r],o=n[r];if(gn(i))t.addValue(r,i);else if(gn(o))t.addValue(r,_f(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,_f(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const eI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class OH{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=lE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Yr.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,nt.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:c}=s;this.onUpdate=c,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=iy(n),this.isVariantNode=JL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const v=d[p];l[p]!==void 0&&gn(v)&&v.set(l[p],!1)}}mount(e){this.current=e,ZC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),x$.current||PH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:I_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ZC.delete(this.current),this.projection&&this.projection.unmount(),Uo(this.notifyUpdate),Uo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ua.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&nt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Sl){const n=Sl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<eI.length;r++){const i=eI[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=e[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=kH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=_f(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Uj(i)||Nj(i))?i=parseFloat(i):!IH(i)&&Bo.test(n)&&(i=$j(e,n)),this.setBaseTarget(e,gn(i)?i.get():i)),gn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=BT(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[e])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!gn(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new nE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class _$ extends OH{constructor(){super(...arguments),this.KeyframeResolver=Gj}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function NH(t){return window.getComputedStyle(t)}class RH extends _${constructor(){super(...arguments),this.type="html",this.renderInstance=aj}readValueFromInstance(e,n){if(ua.has(n)){const r=aE(n);return r&&r.default||0}else{const r=NH(e),i=(ij(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return l$(e,n)}build(e,n,r){GT(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return YT(e,n,r)}}class MH extends _${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ua.has(n)){const r=aE(n);return r&&r.default||0}return n=lj.has(n)?n:VT(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return fj(e,n,r)}build(e,n,r){WT(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){uj(e,n,r,i)}mount(e){this.isSVGTag=KT(e.tagName),super.mount(e)}}const DH=(t,e)=>UT(t)?new MH(e):new RH(e,{allowProjection:t!==j.Fragment}),LH=aq({...oW,...SH,...pH,...AH},DH),ue=w8(LH),Et=({children:t,variant:e="primary",size:n="md",className:r="",isLoading:i=!1,disabled:o,...s})=>{const a="inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",l={primary:"bg-primary text-white hover:bg-primary-hover focus:ring-primary shadow-lg shadow-primary/30",secondary:"bg-secondary text-white hover:bg-secondary-hover focus:ring-secondary shadow-lg shadow-secondary/30",outline:"border-2 border-primary text-primary hover:bg-primary/5 focus:ring-primary",ghost:"text-slate-600 hover:text-primary hover:bg-slate-100"},u={sm:"px-3 py-1.5 text-sm",md:"px-5 py-2.5 text-base",lg:"px-8 py-3.5 text-lg"},c=g.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});return g.jsxs("button",{className:`${a} ${l[e]} ${u[n]} ${r}`,disabled:o||i,...s,children:[i&&c,t]})},jH=()=>{const[t,e]=j.useState(!1),[n,r]=j.useState(!1),[i,o]=j.useState(()=>typeof window<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme")||"light":typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),s=Gi();j.useEffect(()=>{const c=()=>{e(window.scrollY>20)};return window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c)},[]),j.useEffect(()=>{i==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",i)},[i]);const a=()=>{o(c=>c==="light"?"dark":"light")},l=[{name:"Home",href:"#"},{name:"Features",href:"#features"},{name:"How It Works",href:"#demo"}],u=()=>{s("/login"),r(!1)};return g.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t||n?"bg-white/80 dark:bg-slate-950/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 shadow-sm":"bg-transparent"}`,children:[g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"flex justify-between items-center h-20",children:[g.jsxs("div",{className:"flex-shrink-0 flex items-center cursor-pointer",onClick:()=>s("/"),children:[g.jsx("div",{className:"bg-primary/10 dark:bg-primary/20 p-2 rounded-lg mr-3",children:g.jsx(ko,{className:"h-6 w-6 text-primary dark:text-blue-400"})}),g.jsxs("span",{className:"font-bold text-xl tracking-tight text-slate-900 dark:text-white",children:["BIS ",g.jsx("span",{className:"text-primary dark:text-blue-400",children:"Smart Grader"})]})]}),g.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[l.map(c=>g.jsx("a",{href:c.href,className:"text-slate-600 dark:text-slate-300 hover:text-primary dark:hover:text-blue-400 font-medium transition-colors",children:c.name},c.name)),g.jsx("button",{onClick:a,className:"p-2 rounded-full text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors focus:outline-none","aria-label":"Toggle Dark Mode",children:i==="light"?g.jsx($P,{size:20}):g.jsx(VP,{size:20})}),g.jsx(Et,{variant:"primary",size:"sm",onClick:u,children:"Faculty Login"})]}),g.jsxs("div",{className:"md:hidden flex items-center gap-4",children:[g.jsx("button",{onClick:a,className:"p-2 rounded-full text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors focus:outline-none",children:i==="light"?g.jsx($P,{size:20}):g.jsx(VP,{size:20})}),g.jsx("button",{onClick:()=>r(!n),className:"text-slate-600 dark:text-slate-200 hover:text-slate-900 dark:hover:text-white focus:outline-none p-2",children:n?g.jsx(Fo,{className:"h-6 w-6"}):g.jsx(GL,{className:"h-6 w-6"})})]})]})}),g.jsx(hr,{children:n&&g.jsx(ue.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 overflow-hidden",children:g.jsxs("div",{className:"px-4 pt-2 pb-6 space-y-2",children:[l.map(c=>g.jsx("a",{href:c.href,onClick:()=>r(!1),className:"block px-3 py-3 rounded-md text-base font-medium text-slate-700 dark:text-slate-200 hover:text-primary dark:hover:text-blue-400 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:c.name},c.name)),g.jsx("div",{className:"pt-4",children:g.jsx(Et,{variant:"primary",className:"w-full justify-center",onClick:u,children:"Faculty Login"})})]})})})]})},$H=()=>{const t=Gi(),e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},n={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.6,ease:"easeOut"}}};return g.jsxs("section",{className:"relative pt-32 pb-20 lg:pt-40 lg:pb-32 overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 -translate-y-12 translate-x-12 w-96 h-96 bg-primary/10 dark:bg-primary/20 rounded-full blur-3xl opacity-70 animate-pulse"}),g.jsx("div",{className:"absolute bottom-0 left-0 translate-y-20 -translate-x-20 w-80 h-80 bg-secondary/10 dark:bg-secondary/20 rounded-full blur-3xl opacity-70"}),g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[g.jsxs(ue.div,{variants:e,initial:"hidden",animate:"visible",className:"text-center lg:text-left",children:[g.jsxs(ue.div,{variants:n,className:"inline-flex items-center px-4 py-1.5 rounded-full bg-blue-50 dark:bg-blue-900/30 border border-blue-100 dark:border-blue-800 text-primary dark:text-blue-300 font-medium text-sm mb-6",children:[g.jsx("span",{className:"flex h-2 w-2 rounded-full bg-secondary mr-2 animate-pulse"}),"v2.0 AI Engine Active"]}),g.jsxs(ue.h1,{variants:n,className:"text-4xl md:text-6xl font-extrabold text-slate-900 dark:text-white tracking-tight mb-6 leading-tight",children:["The AI That Grades ",g.jsx("br",{}),"Like a ",g.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-secondary dark:from-blue-400 dark:to-teal-400",children:"Professor"}),"."]}),g.jsx(ue.p,{variants:n,className:"text-lg md:text-xl text-slate-600 dark:text-slate-300 mb-10 max-w-2xl mx-auto lg:mx-0 leading-relaxed",children:"Automate assessment with the BIS Smart Grader. We combine Gemini's reasoning with OCR to grade handwritten English exams with 99% accuracy."}),g.jsxs(ue.div,{variants:n,className:"flex flex-col sm:flex-row items-center justify-center lg:justify-start gap-4",children:[g.jsxs(Et,{variant:"primary",size:"lg",className:"w-full sm:w-auto min-w-[160px] group shadow-blue-500/20",onClick:()=>t("/login"),children:["Get Started",g.jsx(FL,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]}),g.jsx(Et,{variant:"ghost",size:"lg",className:"w-full sm:w-auto min-w-[160px]",onClick:()=>{const r=document.getElementById("demo");r==null||r.scrollIntoView({behavior:"smooth"})},children:"Live Demo"})]})]}),g.jsx(ue.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"relative flex items-center justify-center lg:justify-end",children:g.jsxs(ue.div,{animate:{y:[0,-15,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},className:"relative",children:[g.jsxs("div",{className:"relative w-72 h-96 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-800 overflow-hidden transform rotate-3 transition-transform duration-500 hover:rotate-0",children:[g.jsxs("div",{className:"p-8 space-y-4 opacity-80",children:[g.jsx("div",{className:"h-4 bg-slate-100 dark:bg-slate-800 rounded w-1/3 mb-6"}),g.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-800 rounded w-full"}),g.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-800 rounded w-full"}),g.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-800 rounded w-5/6"}),g.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-800 rounded w-full mt-6"}),g.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-800 rounded w-4/5"}),g.jsx("div",{className:"h-32 bg-slate-50 dark:bg-slate-800/50 rounded border border-dashed border-slate-200 dark:border-slate-700 mt-6 flex items-center justify-center",children:g.jsx("span",{className:"text-xs text-slate-400",children:"Handwritten Answer Area"})})]}),g.jsx(ue.div,{className:"absolute left-0 w-full h-1 bg-gradient-to-r from-transparent via-cyan-400 to-transparent shadow-[0_0_20px_rgba(34,211,238,0.6)] z-20",animate:{top:["0%","100%","0%"]},transition:{duration:3,repeat:1/0,ease:"linear"}}),g.jsx(ue.div,{className:"absolute inset-0 bg-cyan-400/5 dark:bg-cyan-400/10 pointer-events-none",animate:{opacity:[0,.5,0]},transition:{duration:3,repeat:1/0,ease:"linear"}})]}),g.jsxs(ue.div,{className:"absolute top-12 -right-12 bg-white dark:bg-slate-800 p-3 rounded-lg shadow-xl border border-slate-100 dark:border-slate-700 flex items-center gap-3 text-xs font-bold text-emerald-600 dark:text-emerald-400 z-30",initial:{opacity:0,scale:.8,x:-10},animate:{opacity:[0,1,1,0],scale:[.8,1,1,.8],x:[-10,0,0,-10]},transition:{duration:4,repeat:1/0,times:[0,.1,.8,1],delay:1},children:[g.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/50 p-1.5 rounded-full",children:g.jsx(e8,{size:16})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider",children:"Confidence"}),g.jsx("div",{children:"98.5% Match"})]})]}),g.jsxs(ue.div,{className:"absolute bottom-20 -left-12 bg-white dark:bg-slate-800 p-3 rounded-lg shadow-xl border border-slate-100 dark:border-slate-700 flex items-center gap-3 text-xs font-bold text-primary dark:text-blue-400 z-30",initial:{opacity:0,scale:.8,x:10},animate:{opacity:[0,1,1,0],scale:[.8,1,1,.8],x:[10,0,0,10]},transition:{duration:4,repeat:1/0,times:[0,.1,.8,1],delay:2.5},children:[g.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/50 p-1.5 rounded-full",children:g.jsx(Ua,{size:16})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider",children:"Analysis"}),g.jsx("div",{children:"Handwriting OCR"})]})]})]})})]})})]})},VH=()=>{const[t,e]=j.useState(0);j.useEffect(()=>{const o=setInterval(()=>{e(s=>(s+1)%3)},3500);return()=>clearInterval(o)},[]);const n=[{id:0,title:"Upload & Scan",icon:LP,color:"text-blue-500",description:"Faculty uploads scanned answer sheets. The system identifies student ID and questions."},{id:1,title:"AI Processing",icon:Vo,color:"text-teal-500",description:"Gemini analyzes handwriting context, comparing it against the model answer key."},{id:2,title:"Instant Grading",icon:DP,color:"text-indigo-500",description:"Final grade is generated with annotated feedback. Ready for faculty review."}],r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.2}}},i={hidden:{opacity:0,x:-30},visible:{opacity:1,x:0,transition:{duration:.5,ease:"easeOut"}}};return g.jsx("section",{id:"demo",className:"py-24 bg-slate-50 dark:bg-slate-900 overflow-hidden",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("h2",{className:"text-primary dark:text-blue-400 font-semibold text-sm uppercase tracking-wide mb-2",children:"Live Workflow"}),g.jsx("h3",{className:"text-3xl md:text-4xl font-bold text-slate-900 dark:text-white",children:"Watch It in Action"}),g.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-400 max-w-2xl mx-auto",children:"The system handles the heavy lifting, moving from raw paper to final grade in seconds."})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[g.jsx(ue.div,{className:"space-y-8",variants:r,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},children:n.map((o,s)=>g.jsx(ue.div,{variants:i,children:g.jsxs(ue.div,{className:`flex items-start p-4 rounded-xl transition-colors duration-300 ${t===s?"bg-white dark:bg-slate-800 shadow-lg border border-slate-100 dark:border-slate-700":"opacity-50"}`,animate:{scale:t===s?1.02:1},children:[g.jsx("div",{className:`p-3 rounded-lg mr-4 ${t===s?"bg-slate-100 dark:bg-slate-700":"bg-transparent"}`,children:g.jsx(o.icon,{className:`h-6 w-6 ${o.color}`})}),g.jsxs("div",{children:[g.jsx("h4",{className:`text-lg font-bold ${t===s?"text-slate-900 dark:text-white":"text-slate-500 dark:text-slate-500"}`,children:o.title}),g.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm mt-1",children:o.description})]}),t===s&&g.jsx(ue.div,{layoutId:"active-indicator",className:"ml-auto self-center",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},children:g.jsx(h_,{className:"h-5 w-5 text-primary dark:text-blue-400"})})]})},o.id))}),g.jsxs("div",{className:"relative mx-auto w-full max-w-md aspect-square bg-white dark:bg-slate-950 rounded-2xl shadow-2xl border border-slate-200 dark:border-slate-800 flex items-center justify-center p-8 overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(#94a3b8 1px, transparent 1px)",backgroundSize:"20px 20px"}}),g.jsxs(hr,{mode:"wait",children:[t===0&&g.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20,scale:.9},className:"flex flex-col items-center",children:[g.jsxs(ue.div,{animate:{y:[0,-10,0]},transition:{duration:2,repeat:1/0},className:"mb-6 relative",children:[g.jsx(LP,{className:"h-24 w-24 text-blue-500"}),g.jsx(ue.div,{className:"absolute bottom-0 right-0 bg-green-500 rounded-full p-1",initial:{scale:0},animate:{scale:1},transition:{delay:.5},children:g.jsx(h_,{className:"h-4 w-4 text-white -rotate-45"})})]}),g.jsx("div",{className:"h-2 w-32 bg-slate-100 dark:bg-slate-800 rounded overflow-hidden",children:g.jsx(ue.div,{className:"h-full bg-blue-500",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2.5}})}),g.jsx("p",{className:"mt-4 text-sm font-mono text-slate-500",children:"Uploading Exam_01.pdf..."})]},"step0"),t===1&&g.jsxs(ue.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.1},className:"flex flex-col items-center relative",children:[g.jsx(ue.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"relative z-10",children:g.jsx(Vo,{className:"h-24 w-24 text-teal-500"})}),g.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-20",children:g.jsx("span",{className:"text-4xl font-mono text-teal-500 animate-pulse",children:"10101"})}),g.jsx("p",{className:"mt-6 text-sm font-mono text-teal-600 dark:text-teal-400",children:"Analysing Syntax..."})]},"step1"),t===2&&g.jsxs(ue.div,{initial:{opacity:0,rotateX:90},animate:{opacity:1,rotateX:0},exit:{opacity:0},transition:{type:"spring",stiffness:100},className:"flex flex-col items-center",children:[g.jsxs("div",{className:"relative",children:[g.jsx(DP,{className:"h-28 w-28 text-indigo-500"}),g.jsx(ue.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring"},className:"absolute -top-2 -right-4 bg-white dark:bg-slate-800 shadow-lg rounded-lg px-3 py-1 border border-indigo-100 dark:border-indigo-900",children:g.jsx("span",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:"A+"})})]}),g.jsxs("div",{className:"mt-6 flex gap-2",children:[g.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 text-xs rounded",children:"Grades Saved"}),g.jsx("span",{className:"px-2 py-1 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 text-xs rounded",children:"Notified"})]})]},"step2")]})]})]})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let FH,UH;function BH(){return{geminiUrl:FH,vertexUrl:UH}}function zH(t,e,n){var r,i,o;if(!(!((r=t.httpOptions)===null||r===void 0)&&r.baseUrl)){const s=BH();return t.vertexai?(i=s.vertexUrl)!==null&&i!==void 0?i:e:(o=s.geminiUrl)!==null&&o!==void 0?o:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pd{}function be(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function y(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];y(c,e.slice(o+1),n[u])}else for(const u of l)y(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];y(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function m(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(s=>m(s,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function b$(t,e){const n=vt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function w$(t,e){return Array.isArray(e)?e.map(n=>mm(t,n)):[mm(t,e)]}function mm(t,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function qH(t,e){const n=mm(t,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function GH(t,e){const n=mm(t,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function tI(t,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function T$(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>tI(t,n)):[tI(t,e)]}function k_(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function nI(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function rI(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Rn(t,e){if(e==null)throw new Error("ContentUnion is required");return k_(e)?e:{role:"user",parts:T$(t,e)}}function E$(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Rn(t,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Rn(t,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Rn(t,n)):[Rn(t,e)]}function Jo(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(nI(e)||rI(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Rn(t,e)]}const n=[],r=[],i=k_(e[0]);for(const o of e){const s=k_(o);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)n.push(o);else{if(nI(o)||rI(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(o)}}return i||n.push({role:"user",parts:T$(t,r)}),n}function S$(t,e){return e}function A$(t,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function ay(t,e){return e}function ly(t,e){if(!Array.isArray(e))throw new Error("tool is required and must be an array of Tools");return e}function WH(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Zo(t,e){if(typeof e!="string")throw new Error("name must be a string");return WH(t,e,"cachedContents")}function P$(t,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function es(t,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function C$(t,e){if(typeof e!="string")throw new Error("fromName must be a string");return e.startsWith("files/")?e.split("files/")[1]:e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HH(t,e){const n={};if(m(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=m(e,["thought"]);r!=null&&y(n,["thought"],r);const i=m(e,["codeExecutionResult"]);i!=null&&y(n,["codeExecutionResult"],i);const o=m(e,["executableCode"]);o!=null&&y(n,["executableCode"],o);const s=m(e,["fileData"]);s!=null&&y(n,["fileData"],s);const a=m(e,["functionCall"]);a!=null&&y(n,["functionCall"],a);const l=m(e,["functionResponse"]);l!=null&&y(n,["functionResponse"],l);const u=m(e,["inlineData"]);u!=null&&y(n,["inlineData"],u);const c=m(e,["text"]);return c!=null&&y(n,["text"],c),n}function iI(t,e){const n={},r=m(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>HH(t,s))),y(n,["parts"],o)}const i=m(e,["role"]);return i!=null&&y(n,["role"],i),n}function KH(){return{}}function YH(t,e){const n={},r=m(e,["mode"]);r!=null&&y(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&y(n,["dynamicThreshold"],i),n}function XH(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&y(n,["dynamicRetrievalConfig"],YH(t,r)),n}function QH(t,e){const n={};if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");m(e,["googleSearch"])!=null&&y(n,["googleSearch"],KH());const i=m(e,["googleSearchRetrieval"]);i!=null&&y(n,["googleSearchRetrieval"],XH(t,i));const o=m(e,["codeExecution"]);o!=null&&y(n,["codeExecution"],o);const s=m(e,["functionDeclarations"]);return s!=null&&y(n,["functionDeclarations"],s),n}function JH(t,e){const n={},r=m(e,["mode"]);r!=null&&y(n,["mode"],r);const i=m(e,["allowedFunctionNames"]);return i!=null&&y(n,["allowedFunctionNames"],i),n}function ZH(t,e){const n={},r=m(e,["functionCallingConfig"]);return r!=null&&y(n,["functionCallingConfig"],JH(t,r)),n}function e7(t,e,n){const r={},i=m(e,["ttl"]);n!==void 0&&i!=null&&y(n,["ttl"],i);const o=m(e,["expireTime"]);n!==void 0&&o!=null&&y(n,["expireTime"],o);const s=m(e,["displayName"]);n!==void 0&&s!=null&&y(n,["displayName"],s);const a=m(e,["contents"]);if(n!==void 0&&a!=null){let f=Jo(t,a);Array.isArray(f)&&(f=f.map(d=>iI(t,d))),y(n,["contents"],f)}const l=m(e,["systemInstruction"]);n!==void 0&&l!=null&&y(n,["systemInstruction"],iI(t,Rn(t,l)));const u=m(e,["tools"]);if(n!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(d=>QH(t,d))),y(n,["tools"],f)}const c=m(e,["toolConfig"]);return n!==void 0&&c!=null&&y(n,["toolConfig"],ZH(t,c)),r}function t7(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["model"],b$(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],e7(t,i,n)),n}function n7(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["_url","name"],Zo(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],i),n}function r7(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["_url","name"],Zo(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],i),n}function i7(t,e,n){const r={},i=m(e,["ttl"]);n!==void 0&&i!=null&&y(n,["ttl"],i);const o=m(e,["expireTime"]);return n!==void 0&&o!=null&&y(n,["expireTime"],o),r}function o7(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["_url","name"],Zo(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],i7(t,i,n)),n}function s7(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const o=m(e,["pageToken"]);return n!==void 0&&o!=null&&y(n,["_query","pageToken"],o),r}function a7(t,e){const n={},r=m(e,["config"]);return r!=null&&y(n,["config"],s7(t,r,n)),n}function l7(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&y(n,["videoMetadata"],r);const i=m(e,["thought"]);i!=null&&y(n,["thought"],i);const o=m(e,["codeExecutionResult"]);o!=null&&y(n,["codeExecutionResult"],o);const s=m(e,["executableCode"]);s!=null&&y(n,["executableCode"],s);const a=m(e,["fileData"]);a!=null&&y(n,["fileData"],a);const l=m(e,["functionCall"]);l!=null&&y(n,["functionCall"],l);const u=m(e,["functionResponse"]);u!=null&&y(n,["functionResponse"],u);const c=m(e,["inlineData"]);c!=null&&y(n,["inlineData"],c);const f=m(e,["text"]);return f!=null&&y(n,["text"],f),n}function oI(t,e){const n={},r=m(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>l7(t,s))),y(n,["parts"],o)}const i=m(e,["role"]);return i!=null&&y(n,["role"],i),n}function u7(){return{}}function c7(t,e){const n={},r=m(e,["mode"]);r!=null&&y(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&y(n,["dynamicThreshold"],i),n}function f7(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&y(n,["dynamicRetrievalConfig"],c7(t,r)),n}function d7(t,e){const n={},r=m(e,["retrieval"]);r!=null&&y(n,["retrieval"],r),m(e,["googleSearch"])!=null&&y(n,["googleSearch"],u7());const o=m(e,["googleSearchRetrieval"]);o!=null&&y(n,["googleSearchRetrieval"],f7(t,o));const s=m(e,["codeExecution"]);s!=null&&y(n,["codeExecution"],s);const a=m(e,["functionDeclarations"]);return a!=null&&y(n,["functionDeclarations"],a),n}function h7(t,e){const n={},r=m(e,["mode"]);r!=null&&y(n,["mode"],r);const i=m(e,["allowedFunctionNames"]);return i!=null&&y(n,["allowedFunctionNames"],i),n}function p7(t,e){const n={},r=m(e,["functionCallingConfig"]);return r!=null&&y(n,["functionCallingConfig"],h7(t,r)),n}function m7(t,e,n){const r={},i=m(e,["ttl"]);n!==void 0&&i!=null&&y(n,["ttl"],i);const o=m(e,["expireTime"]);n!==void 0&&o!=null&&y(n,["expireTime"],o);const s=m(e,["displayName"]);n!==void 0&&s!=null&&y(n,["displayName"],s);const a=m(e,["contents"]);if(n!==void 0&&a!=null){let f=Jo(t,a);Array.isArray(f)&&(f=f.map(d=>oI(t,d))),y(n,["contents"],f)}const l=m(e,["systemInstruction"]);n!==void 0&&l!=null&&y(n,["systemInstruction"],oI(t,Rn(t,l)));const u=m(e,["tools"]);if(n!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(d=>d7(t,d))),y(n,["tools"],f)}const c=m(e,["toolConfig"]);return n!==void 0&&c!=null&&y(n,["toolConfig"],p7(t,c)),r}function g7(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["model"],b$(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],m7(t,i,n)),n}function y7(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["_url","name"],Zo(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],i),n}function v7(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["_url","name"],Zo(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],i),n}function x7(t,e,n){const r={},i=m(e,["ttl"]);n!==void 0&&i!=null&&y(n,["ttl"],i);const o=m(e,["expireTime"]);return n!==void 0&&o!=null&&y(n,["expireTime"],o),r}function _7(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["_url","name"],Zo(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],x7(t,i,n)),n}function b7(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const o=m(e,["pageToken"]);return n!==void 0&&o!=null&&y(n,["_query","pageToken"],o),r}function w7(t,e){const n={},r=m(e,["config"]);return r!=null&&y(n,["config"],b7(t,r,n)),n}function bp(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["name"],r);const i=m(e,["displayName"]);i!=null&&y(n,["displayName"],i);const o=m(e,["model"]);o!=null&&y(n,["model"],o);const s=m(e,["createTime"]);s!=null&&y(n,["createTime"],s);const a=m(e,["updateTime"]);a!=null&&y(n,["updateTime"],a);const l=m(e,["expireTime"]);l!=null&&y(n,["expireTime"],l);const u=m(e,["usageMetadata"]);return u!=null&&y(n,["usageMetadata"],u),n}function T7(){return{}}function E7(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&y(n,["nextPageToken"],r);const i=m(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>bp(t,s))),y(n,["cachedContents"],o)}return n}function wp(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["name"],r);const i=m(e,["displayName"]);i!=null&&y(n,["displayName"],i);const o=m(e,["model"]);o!=null&&y(n,["model"],o);const s=m(e,["createTime"]);s!=null&&y(n,["createTime"],s);const a=m(e,["updateTime"]);a!=null&&y(n,["updateTime"],a);const l=m(e,["expireTime"]);l!=null&&y(n,["expireTime"],l);const u=m(e,["usageMetadata"]);return u!=null&&y(n,["usageMetadata"],u),n}function S7(){return{}}function A7(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&y(n,["nextPageToken"],r);const i=m(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>wp(t,s))),y(n,["cachedContents"],o)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Tf;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Tf||(Tf={}));class dE{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};r?typeof r=="object"?s=Object.assign({},r):s=r:s={config:{}},s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var sI;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(sI||(sI={}));var aI;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(aI||(aI={}));var lI;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(lI||(lI={}));var uI;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(uI||(uI={}));var cI;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(cI||(cI={}));var fI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(fI||(fI={}));var dI;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT"})(dI||(dI={}));var hI;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY"})(hI||(hI={}));var pI;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(pI||(pI={}));var mI;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(mI||(mI={}));var gI;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(gI||(gI={}));var yI;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(yI||(yI={}));var gm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(gm||(gm={}));var vI;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(vI||(vI={}));var O_;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(O_||(O_={}));var xI;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(xI||(xI={}));var _I;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(_I||(_I={}));var bI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(bI||(bI={}));var wI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(wI||(wI={}));var TI;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(TI||(TI={}));var EI;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(EI||(EI={}));var SI;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(SI||(SI={}));var AI;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(AI||(AI={}));var PI;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(PI||(PI={}));var CI;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(CI||(CI={}));var II;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(II||(II={}));var kI;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(kI||(kI={}));var OI;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(OI||(OI={}));var NI;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(NI||(NI={}));var RI;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(RI||(RI={}));var MI;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(MI||(MI={}));var DI;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(DI||(DI={}));class jh{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const d of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[p,v]of Object.entries(d))p!=="text"&&p!=="thought"&&(v!==null||v!==void 0)&&f.push(p);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;c=!0,u+=d.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[d,p]of Object.entries(f))d!=="inlineData"&&(p!==null||p!==void 0)&&c.push(d);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class LI{}class jI{}class $I{}class VI{}class P7{}class FI{}class UI{}class BI{}class C7{}class N_{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class I7{}class k7{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class O7 extends Pd{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new dE(Tf.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=g7(this.apiClient,e);return a=be("cachedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>wp(this.apiClient,c))}else{const u=t7(this.apiClient,e);return a=be("cachedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>bp(this.apiClient,c))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=y7(this.apiClient,e);return a=be("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>wp(this.apiClient,c))}else{const u=n7(this.apiClient,e);return a=be("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>bp(this.apiClient,c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=v7(this.apiClient,e);return a=be("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(()=>{const c=S7(),f=new UI;return Object.assign(f,c),f})}else{const u=r7(this.apiClient,e);return a=be("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(()=>{const c=T7(),f=new UI;return Object.assign(f,c),f})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=_7(this.apiClient,e);return a=be("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>wp(this.apiClient,c))}else{const u=o7(this.apiClient,e);return a=be("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>bp(this.apiClient,c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=w7(this.apiClient,e);return a=be("cachedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=A7(this.apiClient,c),d=new BI;return Object.assign(d,f),d})}else{const u=a7(this.apiClient,e);return a=be("cachedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const f=E7(this.apiClient,c),d=new BI;return Object.assign(d,f),d})}}}function zI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function cn(t){return this instanceof cn?(this.v=t,this):new cn(t)}function ym(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(v){return Promise.resolve(v).then(p,f)}}function a(p,v){r[p]&&(i[p]=function(x){return new Promise(function(_,b){o.push([p,x,_,b])>1||l(p,x)})},v&&(i[p]=v(i[p])))}function l(p,v){try{u(r[p](v))}catch(x){d(o[0][3],x)}}function u(p){p.value instanceof cn?Promise.resolve(p.value.v).then(c,f):d(o[0][2],p)}function c(p){l("next",p)}function f(p){l("throw",p)}function d(p,v){p(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function R_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof zI=="function"?zI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N7(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:I$(n)}function I$(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||e.text!==void 0&&e.text==="")return!1;return!0}function R7(t){if(t.length!==0){if(t[0].role!=="user")throw new Error("History must start with a user turn.");for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function M7(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0,i=t[0];for(;r<n;)if(t[r].role==="user")i=t[r],r++;else{const o=[];let s=!0;for(;r<n&&t[r].role==="model";)o.push(t[r]),s&&!I$(t[r])&&(s=!1),r++;s&&(e.push(i),e.push(...o))}return e}class D7{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new L7(this.apiClient,this.modelsModule,e.model,e.config,e.history)}}class L7{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),R7(o)}async sendMessage(e){var n;await this.sendPromise;const r=Rn(this.apiClient,e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s;const l=(s=(o=(await i).candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,u=l?[l]:[];this.recordHistory(r,u)})(),await this.sendPromise,i}async sendMessageStream(e){var n;await this.sendPromise;const r=Rn(this.apiClient,e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){return e?M7(this.history):this.history}processStreamResponse(e,n){var r,i;return ym(this,arguments,function*(){var s,a,l,u;const c=[];try{for(var f=!0,d=R_(e),p;p=yield cn(d.next()),s=p.done,!s;f=!0){u=p.value,f=!1;const v=u;if(N7(v)){const x=(i=(r=v.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;x!==void 0&&c.push(x)}yield yield cn(v)}}catch(v){a={error:v}}finally{try{!f&&!s&&(l=d.return)&&(yield cn(l.call(d)))}finally{if(a)throw a.error}}this.recordHistory(n,c)})}recordHistory(e,n){let r=[];n.length>0&&n.every(i=>i.role==="model")?r=n:r.push({role:"model",parts:[]}),this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j7(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const o=m(e,["pageToken"]);return n!==void 0&&o!=null&&y(n,["_query","pageToken"],o),r}function $7(t,e){const n={},r=m(e,["config"]);return r!=null&&y(n,["config"],j7(t,r,n)),n}function V7(t,e){const n={},r=m(e,["details"]);r!=null&&y(n,["details"],r);const i=m(e,["message"]);i!=null&&y(n,["message"],i);const o=m(e,["code"]);return o!=null&&y(n,["code"],o),n}function F7(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["name"],r);const i=m(e,["displayName"]);i!=null&&y(n,["displayName"],i);const o=m(e,["mimeType"]);o!=null&&y(n,["mimeType"],o);const s=m(e,["sizeBytes"]);s!=null&&y(n,["sizeBytes"],s);const a=m(e,["createTime"]);a!=null&&y(n,["createTime"],a);const l=m(e,["expirationTime"]);l!=null&&y(n,["expirationTime"],l);const u=m(e,["updateTime"]);u!=null&&y(n,["updateTime"],u);const c=m(e,["sha256Hash"]);c!=null&&y(n,["sha256Hash"],c);const f=m(e,["uri"]);f!=null&&y(n,["uri"],f);const d=m(e,["downloadUri"]);d!=null&&y(n,["downloadUri"],d);const p=m(e,["state"]);p!=null&&y(n,["state"],p);const v=m(e,["source"]);v!=null&&y(n,["source"],v);const x=m(e,["videoMetadata"]);x!=null&&y(n,["videoMetadata"],x);const _=m(e,["error"]);return _!=null&&y(n,["error"],V7(t,_)),n}function U7(t,e){const n={},r=m(e,["file"]);r!=null&&y(n,["file"],F7(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],i),n}function B7(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["_url","file"],C$(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],i),n}function z7(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["_url","file"],C$(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],i),n}function q7(t,e){const n={},r=m(e,["details"]);r!=null&&y(n,["details"],r);const i=m(e,["message"]);i!=null&&y(n,["message"],i);const o=m(e,["code"]);return o!=null&&y(n,["code"],o),n}function M_(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["name"],r);const i=m(e,["displayName"]);i!=null&&y(n,["displayName"],i);const o=m(e,["mimeType"]);o!=null&&y(n,["mimeType"],o);const s=m(e,["sizeBytes"]);s!=null&&y(n,["sizeBytes"],s);const a=m(e,["createTime"]);a!=null&&y(n,["createTime"],a);const l=m(e,["expirationTime"]);l!=null&&y(n,["expirationTime"],l);const u=m(e,["updateTime"]);u!=null&&y(n,["updateTime"],u);const c=m(e,["sha256Hash"]);c!=null&&y(n,["sha256Hash"],c);const f=m(e,["uri"]);f!=null&&y(n,["uri"],f);const d=m(e,["downloadUri"]);d!=null&&y(n,["downloadUri"],d);const p=m(e,["state"]);p!=null&&y(n,["state"],p);const v=m(e,["source"]);v!=null&&y(n,["source"],v);const x=m(e,["videoMetadata"]);x!=null&&y(n,["videoMetadata"],x);const _=m(e,["error"]);return _!=null&&y(n,["error"],q7(t,_)),n}function G7(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&y(n,["nextPageToken"],r);const i=m(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>M_(t,s))),y(n,["files"],o)}return n}function W7(){return{}}function H7(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K7 extends Pd{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new dE(Tf.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>M_(this.apiClient,n))}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=$7(this.apiClient,e);return o=be("files",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=G7(this.apiClient,l),c=new C7;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=U7(this.apiClient,e);return o=be("upload/v1beta/files",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(()=>{const l=W7(),u=new I7;return Object.assign(u,l),u})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=B7(this.apiClient,e);return o=be("files/{file}",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>M_(this.apiClient,l))}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=z7(this.apiClient,e);return o=be("files/{file}",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(()=>{const l=H7(),u=new k7;return Object.assign(u,l),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y7(t,e){const n={};if(m(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=m(e,["thought"]);r!=null&&y(n,["thought"],r);const i=m(e,["codeExecutionResult"]);i!=null&&y(n,["codeExecutionResult"],i);const o=m(e,["executableCode"]);o!=null&&y(n,["executableCode"],o);const s=m(e,["fileData"]);s!=null&&y(n,["fileData"],s);const a=m(e,["functionCall"]);a!=null&&y(n,["functionCall"],a);const l=m(e,["functionResponse"]);l!=null&&y(n,["functionResponse"],l);const u=m(e,["inlineData"]);u!=null&&y(n,["inlineData"],u);const c=m(e,["text"]);return c!=null&&y(n,["text"],c),n}function X7(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&y(n,["videoMetadata"],r);const i=m(e,["thought"]);i!=null&&y(n,["thought"],i);const o=m(e,["codeExecutionResult"]);o!=null&&y(n,["codeExecutionResult"],o);const s=m(e,["executableCode"]);s!=null&&y(n,["executableCode"],s);const a=m(e,["fileData"]);a!=null&&y(n,["fileData"],a);const l=m(e,["functionCall"]);l!=null&&y(n,["functionCall"],l);const u=m(e,["functionResponse"]);u!=null&&y(n,["functionResponse"],u);const c=m(e,["inlineData"]);c!=null&&y(n,["inlineData"],c);const f=m(e,["text"]);return f!=null&&y(n,["text"],f),n}function Q7(t,e){const n={},r=m(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Y7(t,s))),y(n,["parts"],o)}const i=m(e,["role"]);return i!=null&&y(n,["role"],i),n}function J7(t,e){const n={},r=m(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>X7(t,s))),y(n,["parts"],o)}const i=m(e,["role"]);return i!=null&&y(n,["role"],i),n}function Z7(){return{}}function eK(){return{}}function tK(t,e){const n={},r=m(e,["mode"]);r!=null&&y(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&y(n,["dynamicThreshold"],i),n}function nK(t,e){const n={},r=m(e,["mode"]);r!=null&&y(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&y(n,["dynamicThreshold"],i),n}function rK(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&y(n,["dynamicRetrievalConfig"],tK(t,r)),n}function iK(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&y(n,["dynamicRetrievalConfig"],nK(t,r)),n}function oK(t,e){const n={};if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");m(e,["googleSearch"])!=null&&y(n,["googleSearch"],Z7());const i=m(e,["googleSearchRetrieval"]);i!=null&&y(n,["googleSearchRetrieval"],rK(t,i));const o=m(e,["codeExecution"]);o!=null&&y(n,["codeExecution"],o);const s=m(e,["functionDeclarations"]);return s!=null&&y(n,["functionDeclarations"],s),n}function sK(t,e){const n={},r=m(e,["retrieval"]);r!=null&&y(n,["retrieval"],r),m(e,["googleSearch"])!=null&&y(n,["googleSearch"],eK());const o=m(e,["googleSearchRetrieval"]);o!=null&&y(n,["googleSearchRetrieval"],iK(t,o));const s=m(e,["codeExecution"]);s!=null&&y(n,["codeExecution"],s);const a=m(e,["functionDeclarations"]);return a!=null&&y(n,["functionDeclarations"],a),n}function aK(t,e){const n={},r=m(e,["handle"]);if(r!=null&&y(n,["handle"],r),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function lK(t,e){const n={},r=m(e,["handle"]);r!=null&&y(n,["handle"],r);const i=m(e,["transparent"]);return i!=null&&y(n,["transparent"],i),n}function uK(){return{}}function qI(){return{}}function cK(t,e){const n={},r=m(e,["disabled"]);r!=null&&y(n,["disabled"],r);const i=m(e,["startOfSpeechSensitivity"]);i!=null&&y(n,["startOfSpeechSensitivity"],i);const o=m(e,["endOfSpeechSensitivity"]);o!=null&&y(n,["endOfSpeechSensitivity"],o);const s=m(e,["prefixPaddingMs"]);s!=null&&y(n,["prefixPaddingMs"],s);const a=m(e,["silenceDurationMs"]);return a!=null&&y(n,["silenceDurationMs"],a),n}function fK(t,e){const n={},r=m(e,["disabled"]);r!=null&&y(n,["disabled"],r);const i=m(e,["startOfSpeechSensitivity"]);i!=null&&y(n,["startOfSpeechSensitivity"],i);const o=m(e,["endOfSpeechSensitivity"]);o!=null&&y(n,["endOfSpeechSensitivity"],o);const s=m(e,["prefixPaddingMs"]);s!=null&&y(n,["prefixPaddingMs"],s);const a=m(e,["silenceDurationMs"]);return a!=null&&y(n,["silenceDurationMs"],a),n}function dK(t,e){const n={},r=m(e,["automaticActivityDetection"]);r!=null&&y(n,["automaticActivityDetection"],cK(t,r));const i=m(e,["activityHandling"]);i!=null&&y(n,["activityHandling"],i);const o=m(e,["turnCoverage"]);return o!=null&&y(n,["turnCoverage"],o),n}function hK(t,e){const n={},r=m(e,["automaticActivityDetection"]);r!=null&&y(n,["automaticActivityDetection"],fK(t,r));const i=m(e,["activityHandling"]);i!=null&&y(n,["activityHandling"],i);const o=m(e,["turnCoverage"]);return o!=null&&y(n,["turnCoverage"],o),n}function pK(t,e){const n={},r=m(e,["targetTokens"]);return r!=null&&y(n,["targetTokens"],r),n}function mK(t,e){const n={},r=m(e,["targetTokens"]);return r!=null&&y(n,["targetTokens"],r),n}function gK(t,e){const n={},r=m(e,["triggerTokens"]);r!=null&&y(n,["triggerTokens"],r);const i=m(e,["slidingWindow"]);return i!=null&&y(n,["slidingWindow"],pK(t,i)),n}function yK(t,e){const n={},r=m(e,["triggerTokens"]);r!=null&&y(n,["triggerTokens"],r);const i=m(e,["slidingWindow"]);return i!=null&&y(n,["slidingWindow"],mK(t,i)),n}function vK(t,e,n){const r={},i=m(e,["generationConfig"]);n!==void 0&&i!=null&&y(n,["setup","generationConfig"],i);const o=m(e,["responseModalities"]);n!==void 0&&o!=null&&y(n,["setup","generationConfig","responseModalities"],o);const s=m(e,["temperature"]);n!==void 0&&s!=null&&y(n,["setup","generationConfig","temperature"],s);const a=m(e,["topP"]);n!==void 0&&a!=null&&y(n,["setup","generationConfig","topP"],a);const l=m(e,["topK"]);n!==void 0&&l!=null&&y(n,["setup","generationConfig","topK"],l);const u=m(e,["maxOutputTokens"]);n!==void 0&&u!=null&&y(n,["setup","generationConfig","maxOutputTokens"],u);const c=m(e,["mediaResolution"]);n!==void 0&&c!=null&&y(n,["setup","generationConfig","mediaResolution"],c);const f=m(e,["seed"]);n!==void 0&&f!=null&&y(n,["setup","generationConfig","seed"],f);const d=m(e,["speechConfig"]);n!==void 0&&d!=null&&y(n,["setup","generationConfig","speechConfig"],d);const p=m(e,["systemInstruction"]);n!==void 0&&p!=null&&y(n,["setup","systemInstruction"],Q7(t,Rn(t,p)));const v=m(e,["tools"]);if(n!==void 0&&v!=null){let T=ly(t,v);Array.isArray(T)&&(T=T.map(C=>oK(t,ay(t,C)))),y(n,["setup","tools"],T)}const x=m(e,["sessionResumption"]);if(n!==void 0&&x!=null&&y(n,["setup","sessionResumption"],aK(t,x)),m(e,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");const _=m(e,["outputAudioTranscription"]);n!==void 0&&_!=null&&y(n,["setup","outputAudioTranscription"],uK());const b=m(e,["realtimeInputConfig"]);n!==void 0&&b!=null&&y(n,["setup","realtimeInputConfig"],dK(t,b));const w=m(e,["contextWindowCompression"]);return n!==void 0&&w!=null&&y(n,["setup","contextWindowCompression"],gK(t,w)),r}function xK(t,e,n){const r={},i=m(e,["generationConfig"]);n!==void 0&&i!=null&&y(n,["setup","generationConfig"],i);const o=m(e,["responseModalities"]);n!==void 0&&o!=null&&y(n,["setup","generationConfig","responseModalities"],o);const s=m(e,["temperature"]);n!==void 0&&s!=null&&y(n,["setup","generationConfig","temperature"],s);const a=m(e,["topP"]);n!==void 0&&a!=null&&y(n,["setup","generationConfig","topP"],a);const l=m(e,["topK"]);n!==void 0&&l!=null&&y(n,["setup","generationConfig","topK"],l);const u=m(e,["maxOutputTokens"]);n!==void 0&&u!=null&&y(n,["setup","generationConfig","maxOutputTokens"],u);const c=m(e,["mediaResolution"]);n!==void 0&&c!=null&&y(n,["setup","generationConfig","mediaResolution"],c);const f=m(e,["seed"]);n!==void 0&&f!=null&&y(n,["setup","generationConfig","seed"],f);const d=m(e,["speechConfig"]);n!==void 0&&d!=null&&y(n,["setup","generationConfig","speechConfig"],d);const p=m(e,["systemInstruction"]);n!==void 0&&p!=null&&y(n,["setup","systemInstruction"],J7(t,Rn(t,p)));const v=m(e,["tools"]);if(n!==void 0&&v!=null){let C=ly(t,v);Array.isArray(C)&&(C=C.map(S=>sK(t,ay(t,S)))),y(n,["setup","tools"],C)}const x=m(e,["sessionResumption"]);n!==void 0&&x!=null&&y(n,["setup","sessionResumption"],lK(t,x));const _=m(e,["inputAudioTranscription"]);n!==void 0&&_!=null&&y(n,["setup","inputAudioTranscription"],qI());const b=m(e,["outputAudioTranscription"]);n!==void 0&&b!=null&&y(n,["setup","outputAudioTranscription"],qI());const w=m(e,["realtimeInputConfig"]);n!==void 0&&w!=null&&y(n,["setup","realtimeInputConfig"],hK(t,w));const T=m(e,["contextWindowCompression"]);return n!==void 0&&T!=null&&y(n,["setup","contextWindowCompression"],yK(t,T)),r}function _K(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["setup","model"],vt(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],vK(t,i,n)),n}function bK(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["setup","model"],vt(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],xK(t,i,n)),n}function wK(){return{}}function TK(){return{}}function EK(){return{}}function SK(){return{}}function AK(t,e){const n={},r=m(e,["media"]);r!=null&&y(n,["mediaChunks"],w$(t,r));const i=m(e,["audio"]);i!=null&&y(n,["audio"],GH(t,i));const o=m(e,["audioStreamEnd"]);o!=null&&y(n,["audioStreamEnd"],o);const s=m(e,["video"]);s!=null&&y(n,["video"],qH(t,s));const a=m(e,["text"]);return a!=null&&y(n,["text"],a),m(e,["activityStart"])!=null&&y(n,["activityStart"],wK()),m(e,["activityEnd"])!=null&&y(n,["activityEnd"],EK()),n}function PK(t,e){const n={},r=m(e,["media"]);if(r!=null&&y(n,["mediaChunks"],w$(t,r)),m(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=m(e,["audioStreamEnd"]);if(i!=null&&y(n,["audioStreamEnd"],i),m(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(m(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return m(e,["activityStart"])!=null&&y(n,["activityStart"],TK()),m(e,["activityEnd"])!=null&&y(n,["activityEnd"],SK()),n}function CK(){return{}}function IK(){return{}}function kK(t,e){const n={},r=m(e,["thought"]);r!=null&&y(n,["thought"],r);const i=m(e,["codeExecutionResult"]);i!=null&&y(n,["codeExecutionResult"],i);const o=m(e,["executableCode"]);o!=null&&y(n,["executableCode"],o);const s=m(e,["fileData"]);s!=null&&y(n,["fileData"],s);const a=m(e,["functionCall"]);a!=null&&y(n,["functionCall"],a);const l=m(e,["functionResponse"]);l!=null&&y(n,["functionResponse"],l);const u=m(e,["inlineData"]);u!=null&&y(n,["inlineData"],u);const c=m(e,["text"]);return c!=null&&y(n,["text"],c),n}function OK(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&y(n,["videoMetadata"],r);const i=m(e,["thought"]);i!=null&&y(n,["thought"],i);const o=m(e,["codeExecutionResult"]);o!=null&&y(n,["codeExecutionResult"],o);const s=m(e,["executableCode"]);s!=null&&y(n,["executableCode"],s);const a=m(e,["fileData"]);a!=null&&y(n,["fileData"],a);const l=m(e,["functionCall"]);l!=null&&y(n,["functionCall"],l);const u=m(e,["functionResponse"]);u!=null&&y(n,["functionResponse"],u);const c=m(e,["inlineData"]);c!=null&&y(n,["inlineData"],c);const f=m(e,["text"]);return f!=null&&y(n,["text"],f),n}function NK(t,e){const n={},r=m(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>kK(t,s))),y(n,["parts"],o)}const i=m(e,["role"]);return i!=null&&y(n,["role"],i),n}function RK(t,e){const n={},r=m(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>OK(t,s))),y(n,["parts"],o)}const i=m(e,["role"]);return i!=null&&y(n,["role"],i),n}function GI(t,e){const n={},r=m(e,["text"]);r!=null&&y(n,["text"],r);const i=m(e,["finished"]);return i!=null&&y(n,["finished"],i),n}function WI(t,e){const n={},r=m(e,["text"]);r!=null&&y(n,["text"],r);const i=m(e,["finished"]);return i!=null&&y(n,["finished"],i),n}function MK(t,e){const n={},r=m(e,["modelTurn"]);r!=null&&y(n,["modelTurn"],NK(t,r));const i=m(e,["turnComplete"]);i!=null&&y(n,["turnComplete"],i);const o=m(e,["interrupted"]);o!=null&&y(n,["interrupted"],o);const s=m(e,["generationComplete"]);s!=null&&y(n,["generationComplete"],s);const a=m(e,["inputTranscription"]);a!=null&&y(n,["inputTranscription"],GI(t,a));const l=m(e,["outputTranscription"]);return l!=null&&y(n,["outputTranscription"],GI(t,l)),n}function DK(t,e){const n={},r=m(e,["modelTurn"]);r!=null&&y(n,["modelTurn"],RK(t,r));const i=m(e,["turnComplete"]);i!=null&&y(n,["turnComplete"],i);const o=m(e,["interrupted"]);o!=null&&y(n,["interrupted"],o);const s=m(e,["generationComplete"]);s!=null&&y(n,["generationComplete"],s);const a=m(e,["inputTranscription"]);a!=null&&y(n,["inputTranscription"],WI(t,a));const l=m(e,["outputTranscription"]);return l!=null&&y(n,["outputTranscription"],WI(t,l)),n}function LK(t,e){const n={},r=m(e,["id"]);r!=null&&y(n,["id"],r);const i=m(e,["args"]);i!=null&&y(n,["args"],i);const o=m(e,["name"]);return o!=null&&y(n,["name"],o),n}function jK(t,e){const n={},r=m(e,["args"]);r!=null&&y(n,["args"],r);const i=m(e,["name"]);return i!=null&&y(n,["name"],i),n}function $K(t,e){const n={},r=m(e,["functionCalls"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>LK(t,o))),y(n,["functionCalls"],i)}return n}function VK(t,e){const n={},r=m(e,["functionCalls"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>jK(t,o))),y(n,["functionCalls"],i)}return n}function FK(t,e){const n={},r=m(e,["ids"]);return r!=null&&y(n,["ids"],r),n}function UK(t,e){const n={},r=m(e,["ids"]);return r!=null&&y(n,["ids"],r),n}function $h(t,e){const n={},r=m(e,["modality"]);r!=null&&y(n,["modality"],r);const i=m(e,["tokenCount"]);return i!=null&&y(n,["tokenCount"],i),n}function Vh(t,e){const n={},r=m(e,["modality"]);r!=null&&y(n,["modality"],r);const i=m(e,["tokenCount"]);return i!=null&&y(n,["tokenCount"],i),n}function BK(t,e){const n={},r=m(e,["promptTokenCount"]);r!=null&&y(n,["promptTokenCount"],r);const i=m(e,["cachedContentTokenCount"]);i!=null&&y(n,["cachedContentTokenCount"],i);const o=m(e,["responseTokenCount"]);o!=null&&y(n,["responseTokenCount"],o);const s=m(e,["toolUsePromptTokenCount"]);s!=null&&y(n,["toolUsePromptTokenCount"],s);const a=m(e,["thoughtsTokenCount"]);a!=null&&y(n,["thoughtsTokenCount"],a);const l=m(e,["totalTokenCount"]);l!=null&&y(n,["totalTokenCount"],l);const u=m(e,["promptTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(v=>$h(t,v))),y(n,["promptTokensDetails"],p)}const c=m(e,["cacheTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(v=>$h(t,v))),y(n,["cacheTokensDetails"],p)}const f=m(e,["responseTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(v=>$h(t,v))),y(n,["responseTokensDetails"],p)}const d=m(e,["toolUsePromptTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(v=>$h(t,v))),y(n,["toolUsePromptTokensDetails"],p)}return n}function zK(t,e){const n={},r=m(e,["promptTokenCount"]);r!=null&&y(n,["promptTokenCount"],r);const i=m(e,["cachedContentTokenCount"]);i!=null&&y(n,["cachedContentTokenCount"],i);const o=m(e,["candidatesTokenCount"]);o!=null&&y(n,["responseTokenCount"],o);const s=m(e,["toolUsePromptTokenCount"]);s!=null&&y(n,["toolUsePromptTokenCount"],s);const a=m(e,["thoughtsTokenCount"]);a!=null&&y(n,["thoughtsTokenCount"],a);const l=m(e,["totalTokenCount"]);l!=null&&y(n,["totalTokenCount"],l);const u=m(e,["promptTokensDetails"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(x=>Vh(t,x))),y(n,["promptTokensDetails"],v)}const c=m(e,["cacheTokensDetails"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(x=>Vh(t,x))),y(n,["cacheTokensDetails"],v)}const f=m(e,["candidatesTokensDetails"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(x=>Vh(t,x))),y(n,["responseTokensDetails"],v)}const d=m(e,["toolUsePromptTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(x=>Vh(t,x))),y(n,["toolUsePromptTokensDetails"],v)}const p=m(e,["trafficType"]);return p!=null&&y(n,["trafficType"],p),n}function qK(t,e){const n={},r=m(e,["timeLeft"]);return r!=null&&y(n,["timeLeft"],r),n}function GK(t,e){const n={},r=m(e,["timeLeft"]);return r!=null&&y(n,["timeLeft"],r),n}function WK(t,e){const n={},r=m(e,["newHandle"]);r!=null&&y(n,["newHandle"],r);const i=m(e,["resumable"]);i!=null&&y(n,["resumable"],i);const o=m(e,["lastConsumedClientMessageIndex"]);return o!=null&&y(n,["lastConsumedClientMessageIndex"],o),n}function HK(t,e){const n={},r=m(e,["newHandle"]);r!=null&&y(n,["newHandle"],r);const i=m(e,["resumable"]);i!=null&&y(n,["resumable"],i);const o=m(e,["lastConsumedClientMessageIndex"]);return o!=null&&y(n,["lastConsumedClientMessageIndex"],o),n}function KK(t,e){const n={};m(e,["setupComplete"])!=null&&y(n,["setupComplete"],CK());const i=m(e,["serverContent"]);i!=null&&y(n,["serverContent"],MK(t,i));const o=m(e,["toolCall"]);o!=null&&y(n,["toolCall"],$K(t,o));const s=m(e,["toolCallCancellation"]);s!=null&&y(n,["toolCallCancellation"],FK(t,s));const a=m(e,["usageMetadata"]);a!=null&&y(n,["usageMetadata"],BK(t,a));const l=m(e,["goAway"]);l!=null&&y(n,["goAway"],qK(t,l));const u=m(e,["sessionResumptionUpdate"]);return u!=null&&y(n,["sessionResumptionUpdate"],WK(t,u)),n}function YK(t,e){const n={};m(e,["setupComplete"])!=null&&y(n,["setupComplete"],IK());const i=m(e,["serverContent"]);i!=null&&y(n,["serverContent"],DK(t,i));const o=m(e,["toolCall"]);o!=null&&y(n,["toolCall"],VK(t,o));const s=m(e,["toolCallCancellation"]);s!=null&&y(n,["toolCallCancellation"],UK(t,s));const a=m(e,["usageMetadata"]);a!=null&&y(n,["usageMetadata"],zK(t,a));const l=m(e,["goAway"]);l!=null&&y(n,["goAway"],GK(t,l));const u=m(e,["sessionResumptionUpdate"]);return u!=null&&y(n,["sessionResumptionUpdate"],HK(t,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XK(t,e){const n={};if(m(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=m(e,["thought"]);r!=null&&y(n,["thought"],r);const i=m(e,["codeExecutionResult"]);i!=null&&y(n,["codeExecutionResult"],i);const o=m(e,["executableCode"]);o!=null&&y(n,["executableCode"],o);const s=m(e,["fileData"]);s!=null&&y(n,["fileData"],s);const a=m(e,["functionCall"]);a!=null&&y(n,["functionCall"],a);const l=m(e,["functionResponse"]);l!=null&&y(n,["functionResponse"],l);const u=m(e,["inlineData"]);u!=null&&y(n,["inlineData"],u);const c=m(e,["text"]);return c!=null&&y(n,["text"],c),n}function uy(t,e){const n={},r=m(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>XK(t,s))),y(n,["parts"],o)}const i=m(e,["role"]);return i!=null&&y(n,["role"],i),n}function QK(t,e){const n={};if(m(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(e,["category"]);r!=null&&y(n,["category"],r);const i=m(e,["threshold"]);return i!=null&&y(n,["threshold"],i),n}function JK(){return{}}function ZK(t,e){const n={},r=m(e,["mode"]);r!=null&&y(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&y(n,["dynamicThreshold"],i),n}function eY(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&y(n,["dynamicRetrievalConfig"],ZK(t,r)),n}function tY(t,e){const n={};if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");m(e,["googleSearch"])!=null&&y(n,["googleSearch"],JK());const i=m(e,["googleSearchRetrieval"]);i!=null&&y(n,["googleSearchRetrieval"],eY(t,i));const o=m(e,["codeExecution"]);o!=null&&y(n,["codeExecution"],o);const s=m(e,["functionDeclarations"]);return s!=null&&y(n,["functionDeclarations"],s),n}function nY(t,e){const n={},r=m(e,["mode"]);r!=null&&y(n,["mode"],r);const i=m(e,["allowedFunctionNames"]);return i!=null&&y(n,["allowedFunctionNames"],i),n}function rY(t,e){const n={},r=m(e,["functionCallingConfig"]);return r!=null&&y(n,["functionCallingConfig"],nY(t,r)),n}function iY(t,e){const n={},r=m(e,["voiceName"]);return r!=null&&y(n,["voiceName"],r),n}function oY(t,e){const n={},r=m(e,["prebuiltVoiceConfig"]);return r!=null&&y(n,["prebuiltVoiceConfig"],iY(t,r)),n}function sY(t,e){const n={},r=m(e,["voiceConfig"]);r!=null&&y(n,["voiceConfig"],oY(t,r));const i=m(e,["languageCode"]);return i!=null&&y(n,["languageCode"],i),n}function aY(t,e){const n={},r=m(e,["includeThoughts"]);r!=null&&y(n,["includeThoughts"],r);const i=m(e,["thinkingBudget"]);return i!=null&&y(n,["thinkingBudget"],i),n}function lY(t,e,n){const r={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],uy(t,Rn(t,i)));const o=m(e,["temperature"]);o!=null&&y(r,["temperature"],o);const s=m(e,["topP"]);s!=null&&y(r,["topP"],s);const a=m(e,["topK"]);a!=null&&y(r,["topK"],a);const l=m(e,["candidateCount"]);l!=null&&y(r,["candidateCount"],l);const u=m(e,["maxOutputTokens"]);u!=null&&y(r,["maxOutputTokens"],u);const c=m(e,["stopSequences"]);c!=null&&y(r,["stopSequences"],c);const f=m(e,["responseLogprobs"]);f!=null&&y(r,["responseLogprobs"],f);const d=m(e,["logprobs"]);d!=null&&y(r,["logprobs"],d);const p=m(e,["presencePenalty"]);p!=null&&y(r,["presencePenalty"],p);const v=m(e,["frequencyPenalty"]);v!=null&&y(r,["frequencyPenalty"],v);const x=m(e,["seed"]);x!=null&&y(r,["seed"],x);const _=m(e,["responseMimeType"]);_!=null&&y(r,["responseMimeType"],_);const b=m(e,["responseSchema"]);if(b!=null&&y(r,["responseSchema"],S$(t,b)),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=m(e,["safetySettings"]);if(n!==void 0&&w!=null){let N=w;Array.isArray(N)&&(N=N.map(R=>QK(t,R))),y(n,["safetySettings"],N)}const T=m(e,["tools"]);if(n!==void 0&&T!=null){let N=ly(t,T);Array.isArray(N)&&(N=N.map(R=>tY(t,ay(t,R)))),y(n,["tools"],N)}const C=m(e,["toolConfig"]);if(n!==void 0&&C!=null&&y(n,["toolConfig"],rY(t,C)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=m(e,["cachedContent"]);n!==void 0&&S!=null&&y(n,["cachedContent"],Zo(t,S));const I=m(e,["responseModalities"]);I!=null&&y(r,["responseModalities"],I);const P=m(e,["mediaResolution"]);P!=null&&y(r,["mediaResolution"],P);const A=m(e,["speechConfig"]);if(A!=null&&y(r,["speechConfig"],sY(t,A$(t,A))),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=m(e,["thinkingConfig"]);return O!=null&&y(r,["thinkingConfig"],aY(t,O)),r}function HI(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],vt(t,r));const i=m(e,["contents"]);if(i!=null){let s=Jo(t,i);Array.isArray(s)&&(s=s.map(a=>uy(t,a))),y(n,["contents"],s)}const o=m(e,["config"]);return o!=null&&y(n,["generationConfig"],lY(t,o,n)),n}function uY(t,e,n){const r={},i=m(e,["taskType"]);n!==void 0&&i!=null&&y(n,["requests[]","taskType"],i);const o=m(e,["title"]);n!==void 0&&o!=null&&y(n,["requests[]","title"],o);const s=m(e,["outputDimensionality"]);if(n!==void 0&&s!=null&&y(n,["requests[]","outputDimensionality"],s),m(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function cY(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],vt(t,r));const i=m(e,["contents"]);i!=null&&y(n,["requests[]","content"],E$(t,i));const o=m(e,["config"]);o!=null&&y(n,["config"],uY(t,o,n));const s=m(e,["model"]);return s!==void 0&&y(n,["requests[]","model"],vt(t,s)),n}function fY(t,e,n){const r={};if(m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=m(e,["numberOfImages"]);n!==void 0&&i!=null&&y(n,["parameters","sampleCount"],i);const o=m(e,["aspectRatio"]);n!==void 0&&o!=null&&y(n,["parameters","aspectRatio"],o);const s=m(e,["guidanceScale"]);if(n!==void 0&&s!=null&&y(n,["parameters","guidanceScale"],s),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=m(e,["safetyFilterLevel"]);n!==void 0&&a!=null&&y(n,["parameters","safetySetting"],a);const l=m(e,["personGeneration"]);n!==void 0&&l!=null&&y(n,["parameters","personGeneration"],l);const u=m(e,["includeSafetyAttributes"]);n!==void 0&&u!=null&&y(n,["parameters","includeSafetyAttributes"],u);const c=m(e,["includeRaiReason"]);n!==void 0&&c!=null&&y(n,["parameters","includeRaiReason"],c);const f=m(e,["language"]);n!==void 0&&f!=null&&y(n,["parameters","language"],f);const d=m(e,["outputMimeType"]);n!==void 0&&d!=null&&y(n,["parameters","outputOptions","mimeType"],d);const p=m(e,["outputCompressionQuality"]);if(n!==void 0&&p!=null&&y(n,["parameters","outputOptions","compressionQuality"],p),m(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function dY(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],vt(t,r));const i=m(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=m(e,["config"]);return o!=null&&y(n,["config"],fY(t,o,n)),n}function hY(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","name"],vt(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],i),n}function pY(t,e,n){const r={},i=m(e,["displayName"]);n!==void 0&&i!=null&&y(n,["displayName"],i);const o=m(e,["description"]);return n!==void 0&&o!=null&&y(n,["description"],o),r}function mY(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","name"],vt(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],pY(t,i,n)),n}function gY(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","name"],vt(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],i),n}function yY(t,e){const n={};if(m(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function vY(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],vt(t,r));const i=m(e,["contents"]);if(i!=null){let s=Jo(t,i);Array.isArray(s)&&(s=s.map(a=>uy(t,a))),y(n,["contents"],s)}const o=m(e,["config"]);return o!=null&&y(n,["config"],yY(t,o)),n}function xY(t,e){const n={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=m(e,["imageBytes"]);r!=null&&y(n,["bytesBase64Encoded"],es(t,r));const i=m(e,["mimeType"]);return i!=null&&y(n,["mimeType"],i),n}function _Y(t,e,n){const r={},i=m(e,["numberOfVideos"]);if(n!==void 0&&i!=null&&y(n,["parameters","sampleCount"],i),m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=m(e,["durationSeconds"]);if(n!==void 0&&o!=null&&y(n,["parameters","durationSeconds"],o),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=m(e,["aspectRatio"]);if(n!==void 0&&s!=null&&y(n,["parameters","aspectRatio"],s),m(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const a=m(e,["personGeneration"]);if(n!==void 0&&a!=null&&y(n,["parameters","personGeneration"],a),m(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=m(e,["negativePrompt"]);if(n!==void 0&&l!=null&&y(n,["parameters","negativePrompt"],l),m(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function bY(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],vt(t,r));const i=m(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=m(e,["image"]);o!=null&&y(n,["instances[0]","image"],xY(t,o));const s=m(e,["config"]);return s!=null&&y(n,["config"],_Y(t,s,n)),n}function wY(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&y(n,["videoMetadata"],r);const i=m(e,["thought"]);i!=null&&y(n,["thought"],i);const o=m(e,["codeExecutionResult"]);o!=null&&y(n,["codeExecutionResult"],o);const s=m(e,["executableCode"]);s!=null&&y(n,["executableCode"],s);const a=m(e,["fileData"]);a!=null&&y(n,["fileData"],a);const l=m(e,["functionCall"]);l!=null&&y(n,["functionCall"],l);const u=m(e,["functionResponse"]);u!=null&&y(n,["functionResponse"],u);const c=m(e,["inlineData"]);c!=null&&y(n,["inlineData"],c);const f=m(e,["text"]);return f!=null&&y(n,["text"],f),n}function hu(t,e){const n={},r=m(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>wY(t,s))),y(n,["parts"],o)}const i=m(e,["role"]);return i!=null&&y(n,["role"],i),n}function TY(t,e){const n={},r=m(e,["featureSelectionPreference"]);return r!=null&&y(n,["featureSelectionPreference"],r),n}function EY(t,e){const n={},r=m(e,["method"]);r!=null&&y(n,["method"],r);const i=m(e,["category"]);i!=null&&y(n,["category"],i);const o=m(e,["threshold"]);return o!=null&&y(n,["threshold"],o),n}function SY(){return{}}function AY(t,e){const n={},r=m(e,["mode"]);r!=null&&y(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&y(n,["dynamicThreshold"],i),n}function PY(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&y(n,["dynamicRetrievalConfig"],AY(t,r)),n}function k$(t,e){const n={},r=m(e,["retrieval"]);r!=null&&y(n,["retrieval"],r),m(e,["googleSearch"])!=null&&y(n,["googleSearch"],SY());const o=m(e,["googleSearchRetrieval"]);o!=null&&y(n,["googleSearchRetrieval"],PY(t,o));const s=m(e,["codeExecution"]);s!=null&&y(n,["codeExecution"],s);const a=m(e,["functionDeclarations"]);return a!=null&&y(n,["functionDeclarations"],a),n}function CY(t,e){const n={},r=m(e,["mode"]);r!=null&&y(n,["mode"],r);const i=m(e,["allowedFunctionNames"]);return i!=null&&y(n,["allowedFunctionNames"],i),n}function IY(t,e){const n={},r=m(e,["functionCallingConfig"]);return r!=null&&y(n,["functionCallingConfig"],CY(t,r)),n}function kY(t,e){const n={},r=m(e,["voiceName"]);return r!=null&&y(n,["voiceName"],r),n}function OY(t,e){const n={},r=m(e,["prebuiltVoiceConfig"]);return r!=null&&y(n,["prebuiltVoiceConfig"],kY(t,r)),n}function NY(t,e){const n={},r=m(e,["voiceConfig"]);r!=null&&y(n,["voiceConfig"],OY(t,r));const i=m(e,["languageCode"]);return i!=null&&y(n,["languageCode"],i),n}function RY(t,e){const n={},r=m(e,["includeThoughts"]);r!=null&&y(n,["includeThoughts"],r);const i=m(e,["thinkingBudget"]);return i!=null&&y(n,["thinkingBudget"],i),n}function MY(t,e,n){const r={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],hu(t,Rn(t,i)));const o=m(e,["temperature"]);o!=null&&y(r,["temperature"],o);const s=m(e,["topP"]);s!=null&&y(r,["topP"],s);const a=m(e,["topK"]);a!=null&&y(r,["topK"],a);const l=m(e,["candidateCount"]);l!=null&&y(r,["candidateCount"],l);const u=m(e,["maxOutputTokens"]);u!=null&&y(r,["maxOutputTokens"],u);const c=m(e,["stopSequences"]);c!=null&&y(r,["stopSequences"],c);const f=m(e,["responseLogprobs"]);f!=null&&y(r,["responseLogprobs"],f);const d=m(e,["logprobs"]);d!=null&&y(r,["logprobs"],d);const p=m(e,["presencePenalty"]);p!=null&&y(r,["presencePenalty"],p);const v=m(e,["frequencyPenalty"]);v!=null&&y(r,["frequencyPenalty"],v);const x=m(e,["seed"]);x!=null&&y(r,["seed"],x);const _=m(e,["responseMimeType"]);_!=null&&y(r,["responseMimeType"],_);const b=m(e,["responseSchema"]);b!=null&&y(r,["responseSchema"],S$(t,b));const w=m(e,["routingConfig"]);w!=null&&y(r,["routingConfig"],w);const T=m(e,["modelSelectionConfig"]);T!=null&&y(r,["modelConfig"],TY(t,T));const C=m(e,["safetySettings"]);if(n!==void 0&&C!=null){let U=C;Array.isArray(U)&&(U=U.map(z=>EY(t,z))),y(n,["safetySettings"],U)}const S=m(e,["tools"]);if(n!==void 0&&S!=null){let U=ly(t,S);Array.isArray(U)&&(U=U.map(z=>k$(t,ay(t,z)))),y(n,["tools"],U)}const I=m(e,["toolConfig"]);n!==void 0&&I!=null&&y(n,["toolConfig"],IY(t,I));const P=m(e,["labels"]);n!==void 0&&P!=null&&y(n,["labels"],P);const A=m(e,["cachedContent"]);n!==void 0&&A!=null&&y(n,["cachedContent"],Zo(t,A));const O=m(e,["responseModalities"]);O!=null&&y(r,["responseModalities"],O);const N=m(e,["mediaResolution"]);N!=null&&y(r,["mediaResolution"],N);const R=m(e,["speechConfig"]);R!=null&&y(r,["speechConfig"],NY(t,A$(t,R)));const D=m(e,["audioTimestamp"]);D!=null&&y(r,["audioTimestamp"],D);const M=m(e,["thinkingConfig"]);return M!=null&&y(r,["thinkingConfig"],RY(t,M)),r}function KI(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],vt(t,r));const i=m(e,["contents"]);if(i!=null){let s=Jo(t,i);Array.isArray(s)&&(s=s.map(a=>hu(t,a))),y(n,["contents"],s)}const o=m(e,["config"]);return o!=null&&y(n,["generationConfig"],MY(t,o,n)),n}function DY(t,e,n){const r={},i=m(e,["taskType"]);n!==void 0&&i!=null&&y(n,["instances[]","task_type"],i);const o=m(e,["title"]);n!==void 0&&o!=null&&y(n,["instances[]","title"],o);const s=m(e,["outputDimensionality"]);n!==void 0&&s!=null&&y(n,["parameters","outputDimensionality"],s);const a=m(e,["mimeType"]);n!==void 0&&a!=null&&y(n,["instances[]","mimeType"],a);const l=m(e,["autoTruncate"]);return n!==void 0&&l!=null&&y(n,["parameters","autoTruncate"],l),r}function LY(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],vt(t,r));const i=m(e,["contents"]);i!=null&&y(n,["instances[]","content"],E$(t,i));const o=m(e,["config"]);return o!=null&&y(n,["config"],DY(t,o,n)),n}function jY(t,e,n){const r={},i=m(e,["outputGcsUri"]);n!==void 0&&i!=null&&y(n,["parameters","storageUri"],i);const o=m(e,["negativePrompt"]);n!==void 0&&o!=null&&y(n,["parameters","negativePrompt"],o);const s=m(e,["numberOfImages"]);n!==void 0&&s!=null&&y(n,["parameters","sampleCount"],s);const a=m(e,["aspectRatio"]);n!==void 0&&a!=null&&y(n,["parameters","aspectRatio"],a);const l=m(e,["guidanceScale"]);n!==void 0&&l!=null&&y(n,["parameters","guidanceScale"],l);const u=m(e,["seed"]);n!==void 0&&u!=null&&y(n,["parameters","seed"],u);const c=m(e,["safetyFilterLevel"]);n!==void 0&&c!=null&&y(n,["parameters","safetySetting"],c);const f=m(e,["personGeneration"]);n!==void 0&&f!=null&&y(n,["parameters","personGeneration"],f);const d=m(e,["includeSafetyAttributes"]);n!==void 0&&d!=null&&y(n,["parameters","includeSafetyAttributes"],d);const p=m(e,["includeRaiReason"]);n!==void 0&&p!=null&&y(n,["parameters","includeRaiReason"],p);const v=m(e,["language"]);n!==void 0&&v!=null&&y(n,["parameters","language"],v);const x=m(e,["outputMimeType"]);n!==void 0&&x!=null&&y(n,["parameters","outputOptions","mimeType"],x);const _=m(e,["outputCompressionQuality"]);n!==void 0&&_!=null&&y(n,["parameters","outputOptions","compressionQuality"],_);const b=m(e,["addWatermark"]);n!==void 0&&b!=null&&y(n,["parameters","addWatermark"],b);const w=m(e,["enhancePrompt"]);return n!==void 0&&w!=null&&y(n,["parameters","enhancePrompt"],w),r}function $Y(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],vt(t,r));const i=m(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=m(e,["config"]);return o!=null&&y(n,["config"],jY(t,o,n)),n}function VY(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","name"],vt(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],i),n}function FY(t,e,n){const r={},i=m(e,["displayName"]);n!==void 0&&i!=null&&y(n,["displayName"],i);const o=m(e,["description"]);return n!==void 0&&o!=null&&y(n,["description"],o),r}function UY(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],vt(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],FY(t,i,n)),n}function BY(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","name"],vt(t,r));const i=m(e,["config"]);return i!=null&&y(n,["config"],i),n}function zY(t,e,n){const r={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],hu(t,Rn(t,i)));const o=m(e,["tools"]);if(n!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>k$(t,l))),y(n,["tools"],a)}const s=m(e,["generationConfig"]);return n!==void 0&&s!=null&&y(n,["generationConfig"],s),r}function qY(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],vt(t,r));const i=m(e,["contents"]);if(i!=null){let s=Jo(t,i);Array.isArray(s)&&(s=s.map(a=>hu(t,a))),y(n,["contents"],s)}const o=m(e,["config"]);return o!=null&&y(n,["config"],zY(t,o,n)),n}function GY(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],vt(t,r));const i=m(e,["contents"]);if(i!=null){let s=Jo(t,i);Array.isArray(s)&&(s=s.map(a=>hu(t,a))),y(n,["contents"],s)}const o=m(e,["config"]);return o!=null&&y(n,["config"],o),n}function WY(t,e){const n={},r=m(e,["gcsUri"]);r!=null&&y(n,["gcsUri"],r);const i=m(e,["imageBytes"]);i!=null&&y(n,["bytesBase64Encoded"],es(t,i));const o=m(e,["mimeType"]);return o!=null&&y(n,["mimeType"],o),n}function HY(t,e,n){const r={},i=m(e,["numberOfVideos"]);n!==void 0&&i!=null&&y(n,["parameters","sampleCount"],i);const o=m(e,["outputGcsUri"]);n!==void 0&&o!=null&&y(n,["parameters","storageUri"],o);const s=m(e,["fps"]);n!==void 0&&s!=null&&y(n,["parameters","fps"],s);const a=m(e,["durationSeconds"]);n!==void 0&&a!=null&&y(n,["parameters","durationSeconds"],a);const l=m(e,["seed"]);n!==void 0&&l!=null&&y(n,["parameters","seed"],l);const u=m(e,["aspectRatio"]);n!==void 0&&u!=null&&y(n,["parameters","aspectRatio"],u);const c=m(e,["resolution"]);n!==void 0&&c!=null&&y(n,["parameters","resolution"],c);const f=m(e,["personGeneration"]);n!==void 0&&f!=null&&y(n,["parameters","personGeneration"],f);const d=m(e,["pubsubTopic"]);n!==void 0&&d!=null&&y(n,["parameters","pubsubTopic"],d);const p=m(e,["negativePrompt"]);n!==void 0&&p!=null&&y(n,["parameters","negativePrompt"],p);const v=m(e,["enhancePrompt"]);return n!==void 0&&v!=null&&y(n,["parameters","enhancePrompt"],v),r}function KY(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["_url","model"],vt(t,r));const i=m(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=m(e,["image"]);o!=null&&y(n,["instances[0]","image"],WY(t,o));const s=m(e,["config"]);return s!=null&&y(n,["config"],HY(t,s,n)),n}function YY(t,e){const n={},r=m(e,["thought"]);r!=null&&y(n,["thought"],r);const i=m(e,["codeExecutionResult"]);i!=null&&y(n,["codeExecutionResult"],i);const o=m(e,["executableCode"]);o!=null&&y(n,["executableCode"],o);const s=m(e,["fileData"]);s!=null&&y(n,["fileData"],s);const a=m(e,["functionCall"]);a!=null&&y(n,["functionCall"],a);const l=m(e,["functionResponse"]);l!=null&&y(n,["functionResponse"],l);const u=m(e,["inlineData"]);u!=null&&y(n,["inlineData"],u);const c=m(e,["text"]);return c!=null&&y(n,["text"],c),n}function XY(t,e){const n={},r=m(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>YY(t,s))),y(n,["parts"],o)}const i=m(e,["role"]);return i!=null&&y(n,["role"],i),n}function QY(t,e){const n={},r=m(e,["citationSources"]);return r!=null&&y(n,["citations"],r),n}function JY(t,e){const n={},r=m(e,["content"]);r!=null&&y(n,["content"],XY(t,r));const i=m(e,["citationMetadata"]);i!=null&&y(n,["citationMetadata"],QY(t,i));const o=m(e,["tokenCount"]);o!=null&&y(n,["tokenCount"],o);const s=m(e,["finishReason"]);s!=null&&y(n,["finishReason"],s);const a=m(e,["avgLogprobs"]);a!=null&&y(n,["avgLogprobs"],a);const l=m(e,["groundingMetadata"]);l!=null&&y(n,["groundingMetadata"],l);const u=m(e,["index"]);u!=null&&y(n,["index"],u);const c=m(e,["logprobsResult"]);c!=null&&y(n,["logprobsResult"],c);const f=m(e,["safetyRatings"]);return f!=null&&y(n,["safetyRatings"],f),n}function YI(t,e){const n={},r=m(e,["candidates"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>JY(t,l))),y(n,["candidates"],a)}const i=m(e,["modelVersion"]);i!=null&&y(n,["modelVersion"],i);const o=m(e,["promptFeedback"]);o!=null&&y(n,["promptFeedback"],o);const s=m(e,["usageMetadata"]);return s!=null&&y(n,["usageMetadata"],s),n}function ZY(t,e){const n={},r=m(e,["values"]);return r!=null&&y(n,["values"],r),n}function eX(){return{}}function tX(t,e){const n={},r=m(e,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>ZY(t,s))),y(n,["embeddings"],o)}return m(e,["metadata"])!=null&&y(n,["metadata"],eX()),n}function nX(t,e){const n={},r=m(e,["bytesBase64Encoded"]);r!=null&&y(n,["imageBytes"],es(t,r));const i=m(e,["mimeType"]);return i!=null&&y(n,["mimeType"],i),n}function O$(t,e){const n={},r=m(e,["safetyAttributes","categories"]);r!=null&&y(n,["categories"],r);const i=m(e,["safetyAttributes","scores"]);i!=null&&y(n,["scores"],i);const o=m(e,["contentType"]);return o!=null&&y(n,["contentType"],o),n}function rX(t,e){const n={},r=m(e,["_self"]);r!=null&&y(n,["image"],nX(t,r));const i=m(e,["raiFilteredReason"]);i!=null&&y(n,["raiFilteredReason"],i);const o=m(e,["_self"]);return o!=null&&y(n,["safetyAttributes"],O$(t,o)),n}function iX(t,e){const n={},r=m(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>rX(t,s))),y(n,["generatedImages"],o)}const i=m(e,["positivePromptSafetyAttributes"]);return i!=null&&y(n,["positivePromptSafetyAttributes"],O$(t,i)),n}function oX(t,e){const n={},r=m(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=m(e,["createTime"]);i!=null&&y(n,["createTime"],i);const o=m(e,["updateTime"]);return o!=null&&y(n,["updateTime"],o),n}function XI(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["name"],r);const i=m(e,["displayName"]);i!=null&&y(n,["displayName"],i);const o=m(e,["description"]);o!=null&&y(n,["description"],o);const s=m(e,["version"]);s!=null&&y(n,["version"],s);const a=m(e,["_self"]);a!=null&&y(n,["tunedModelInfo"],oX(t,a));const l=m(e,["inputTokenLimit"]);l!=null&&y(n,["inputTokenLimit"],l);const u=m(e,["outputTokenLimit"]);u!=null&&y(n,["outputTokenLimit"],u);const c=m(e,["supportedGenerationMethods"]);return c!=null&&y(n,["supportedActions"],c),n}function sX(){return{}}function aX(t,e){const n={},r=m(e,["totalTokens"]);r!=null&&y(n,["totalTokens"],r);const i=m(e,["cachedContentTokenCount"]);return i!=null&&y(n,["cachedContentTokenCount"],i),n}function lX(t,e){const n={},r=m(e,["video","uri"]);r!=null&&y(n,["uri"],r);const i=m(e,["video","encodedVideo"]);i!=null&&y(n,["videoBytes"],es(t,i));const o=m(e,["encoding"]);return o!=null&&y(n,["mimeType"],o),n}function uX(t,e){const n={},r=m(e,["_self"]);return r!=null&&y(n,["video"],lX(t,r)),n}function cX(t,e){const n={},r=m(e,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>uX(t,a))),y(n,["generatedVideos"],s)}const i=m(e,["raiMediaFilteredCount"]);i!=null&&y(n,["raiMediaFilteredCount"],i);const o=m(e,["raiMediaFilteredReasons"]);return o!=null&&y(n,["raiMediaFilteredReasons"],o),n}function fX(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["name"],r);const i=m(e,["metadata"]);i!=null&&y(n,["metadata"],i);const o=m(e,["done"]);o!=null&&y(n,["done"],o);const s=m(e,["error"]);s!=null&&y(n,["error"],s);const a=m(e,["response","generateVideoResponse"]);return a!=null&&y(n,["response"],cX(t,a)),n}function dX(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&y(n,["videoMetadata"],r);const i=m(e,["thought"]);i!=null&&y(n,["thought"],i);const o=m(e,["codeExecutionResult"]);o!=null&&y(n,["codeExecutionResult"],o);const s=m(e,["executableCode"]);s!=null&&y(n,["executableCode"],s);const a=m(e,["fileData"]);a!=null&&y(n,["fileData"],a);const l=m(e,["functionCall"]);l!=null&&y(n,["functionCall"],l);const u=m(e,["functionResponse"]);u!=null&&y(n,["functionResponse"],u);const c=m(e,["inlineData"]);c!=null&&y(n,["inlineData"],c);const f=m(e,["text"]);return f!=null&&y(n,["text"],f),n}function hX(t,e){const n={},r=m(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>dX(t,s))),y(n,["parts"],o)}const i=m(e,["role"]);return i!=null&&y(n,["role"],i),n}function pX(t,e){const n={},r=m(e,["citations"]);return r!=null&&y(n,["citations"],r),n}function mX(t,e){const n={},r=m(e,["content"]);r!=null&&y(n,["content"],hX(t,r));const i=m(e,["citationMetadata"]);i!=null&&y(n,["citationMetadata"],pX(t,i));const o=m(e,["finishMessage"]);o!=null&&y(n,["finishMessage"],o);const s=m(e,["finishReason"]);s!=null&&y(n,["finishReason"],s);const a=m(e,["avgLogprobs"]);a!=null&&y(n,["avgLogprobs"],a);const l=m(e,["groundingMetadata"]);l!=null&&y(n,["groundingMetadata"],l);const u=m(e,["index"]);u!=null&&y(n,["index"],u);const c=m(e,["logprobsResult"]);c!=null&&y(n,["logprobsResult"],c);const f=m(e,["safetyRatings"]);return f!=null&&y(n,["safetyRatings"],f),n}function QI(t,e){const n={},r=m(e,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>mX(t,c))),y(n,["candidates"],u)}const i=m(e,["createTime"]);i!=null&&y(n,["createTime"],i);const o=m(e,["responseId"]);o!=null&&y(n,["responseId"],o);const s=m(e,["modelVersion"]);s!=null&&y(n,["modelVersion"],s);const a=m(e,["promptFeedback"]);a!=null&&y(n,["promptFeedback"],a);const l=m(e,["usageMetadata"]);return l!=null&&y(n,["usageMetadata"],l),n}function gX(t,e){const n={},r=m(e,["truncated"]);r!=null&&y(n,["truncated"],r);const i=m(e,["token_count"]);return i!=null&&y(n,["tokenCount"],i),n}function yX(t,e){const n={},r=m(e,["values"]);r!=null&&y(n,["values"],r);const i=m(e,["statistics"]);return i!=null&&y(n,["statistics"],gX(t,i)),n}function vX(t,e){const n={},r=m(e,["billableCharacterCount"]);return r!=null&&y(n,["billableCharacterCount"],r),n}function xX(t,e){const n={},r=m(e,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>yX(t,s))),y(n,["embeddings"],o)}const i=m(e,["metadata"]);return i!=null&&y(n,["metadata"],vX(t,i)),n}function _X(t,e){const n={},r=m(e,["gcsUri"]);r!=null&&y(n,["gcsUri"],r);const i=m(e,["bytesBase64Encoded"]);i!=null&&y(n,["imageBytes"],es(t,i));const o=m(e,["mimeType"]);return o!=null&&y(n,["mimeType"],o),n}function N$(t,e){const n={},r=m(e,["safetyAttributes","categories"]);r!=null&&y(n,["categories"],r);const i=m(e,["safetyAttributes","scores"]);i!=null&&y(n,["scores"],i);const o=m(e,["contentType"]);return o!=null&&y(n,["contentType"],o),n}function bX(t,e){const n={},r=m(e,["_self"]);r!=null&&y(n,["image"],_X(t,r));const i=m(e,["raiFilteredReason"]);i!=null&&y(n,["raiFilteredReason"],i);const o=m(e,["_self"]);o!=null&&y(n,["safetyAttributes"],N$(t,o));const s=m(e,["prompt"]);return s!=null&&y(n,["enhancedPrompt"],s),n}function wX(t,e){const n={},r=m(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>bX(t,s))),y(n,["generatedImages"],o)}const i=m(e,["positivePromptSafetyAttributes"]);return i!=null&&y(n,["positivePromptSafetyAttributes"],N$(t,i)),n}function TX(t,e){const n={},r=m(e,["endpoint"]);r!=null&&y(n,["name"],r);const i=m(e,["deployedModelId"]);return i!=null&&y(n,["deployedModelId"],i),n}function EX(t,e){const n={},r=m(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&y(n,["baseModel"],r);const i=m(e,["createTime"]);i!=null&&y(n,["createTime"],i);const o=m(e,["updateTime"]);return o!=null&&y(n,["updateTime"],o),n}function JI(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["name"],r);const i=m(e,["displayName"]);i!=null&&y(n,["displayName"],i);const o=m(e,["description"]);o!=null&&y(n,["description"],o);const s=m(e,["versionId"]);s!=null&&y(n,["version"],s);const a=m(e,["deployedModels"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>TX(t,f))),y(n,["endpoints"],c)}const l=m(e,["labels"]);l!=null&&y(n,["labels"],l);const u=m(e,["_self"]);return u!=null&&y(n,["tunedModelInfo"],EX(t,u)),n}function SX(){return{}}function AX(t,e){const n={},r=m(e,["totalTokens"]);return r!=null&&y(n,["totalTokens"],r),n}function PX(t,e){const n={},r=m(e,["tokensInfo"]);return r!=null&&y(n,["tokensInfo"],r),n}function CX(t,e){const n={},r=m(e,["gcsUri"]);r!=null&&y(n,["uri"],r);const i=m(e,["bytesBase64Encoded"]);i!=null&&y(n,["videoBytes"],es(t,i));const o=m(e,["mimeType"]);return o!=null&&y(n,["mimeType"],o),n}function IX(t,e){const n={},r=m(e,["_self"]);return r!=null&&y(n,["video"],CX(t,r)),n}function kX(t,e){const n={},r=m(e,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>IX(t,a))),y(n,["generatedVideos"],s)}const i=m(e,["raiMediaFilteredCount"]);i!=null&&y(n,["raiMediaFilteredCount"],i);const o=m(e,["raiMediaFilteredReasons"]);return o!=null&&y(n,["raiMediaFilteredReasons"],o),n}function OX(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["name"],r);const i=m(e,["metadata"]);i!=null&&y(n,["metadata"],i);const o=m(e,["done"]);o!=null&&y(n,["done"],o);const s=m(e,["error"]);s!=null&&y(n,["error"],s);const a=m(e,["response"]);return a!=null&&y(n,["response"],kX(t,a)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NX="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function RX(t,e,n){let r,i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),t.isVertexAI()?r=YK(t,i):r=KK(t,i),e(r)}class MX{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r,i,o;const s=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion();let l;const u=$X(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())l=`${s}/ws/google.cloud.aiplatform.${a}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(u);else{const C=this.apiClient.getApiKey();l=`${s}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateContent?key=${C}`}let c=()=>{};const f=new Promise(C=>{c=C}),d=e.callbacks,p=function(){var C;(C=d==null?void 0:d.onopen)===null||C===void 0||C.call(d),c({})},v=this.apiClient,x={onopen:p,onmessage:C=>{RX(v,d.onmessage,C)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(C){}},_=this.webSocketFactory.create(l,jX(u),x);_.connect(),await f;let b=vt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&b.startsWith("publishers/")){const C=this.apiClient.getProject(),S=this.apiClient.getLocation();b=`projects/${C}/locations/${S}/`+b}let w={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[gm.AUDIO]}:e.config.responseModalities=[gm.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const T={model:b,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?w=bK(this.apiClient,T):w=_K(this.apiClient,T),delete w.config,_.send(JSON.stringify(w)),new LX(_,this.apiClient)}}const DX={turnComplete:!0};class LX{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Jo(e,n.turns),e.isVertexAI()?r=r.map(i=>hu(e,i)):r=r.map(i=>uy(e,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(NX)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},DX),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:PK(this.apiClient,e)}:n={realtimeInput:AK(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function jX(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function $X(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VX extends Pd{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o}:a={generatedImages:s},a})}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=KI(this.apiClient,e);return a=be("{model}:generateContent",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=QI(this.apiClient,c),d=new jh;return Object.assign(d,f),d})}else{const u=HI(this.apiClient,e);return a=be("{model}:generateContent",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const f=YI(this.apiClient,c),d=new jh;return Object.assign(d,f),d})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=KI(this.apiClient,e);a=be("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const c=this.apiClient;return s=c.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(f){return ym(this,arguments,function*(){var d,p,v,x;try{for(var _=!0,b=R_(f),w;w=yield cn(b.next()),d=w.done,!d;_=!0){x=w.value,_=!1;const C=QI(c,yield cn(x.json())),S=new jh;Object.assign(S,C),yield yield cn(S)}}catch(T){p={error:T}}finally{try{!_&&!d&&(v=b.return)&&(yield cn(v.call(b)))}finally{if(p)throw p.error}}})})}else{const u=HI(this.apiClient,e);a=be("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const c=this.apiClient;return s=c.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(f){return ym(this,arguments,function*(){var d,p,v,x;try{for(var _=!0,b=R_(f),w;w=yield cn(b.next()),d=w.done,!d;_=!0){x=w.value,_=!1;const C=YI(c,yield cn(x.json())),S=new jh;Object.assign(S,C),yield yield cn(S)}}catch(T){p={error:T}}finally{try{!_&&!d&&(v=b.return)&&(yield cn(v.call(b)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=LY(this.apiClient,e);return a=be("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=xX(this.apiClient,c),d=new LI;return Object.assign(d,f),d})}else{const u=cY(this.apiClient,e);return a=be("{model}:batchEmbedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const f=tX(this.apiClient,c),d=new LI;return Object.assign(d,f),d})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=$Y(this.apiClient,e);return a=be("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=wX(this.apiClient,c),d=new jI;return Object.assign(d,f),d})}else{const u=dY(this.apiClient,e);return a=be("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const f=iX(this.apiClient,c),d=new jI;return Object.assign(d,f),d})}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=VY(this.apiClient,e);return a=be("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>JI(this.apiClient,c))}else{const u=hY(this.apiClient,e);return a=be("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>XI(this.apiClient,c))}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=UY(this.apiClient,e);return a=be("{model}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>JI(this.apiClient,c))}else{const u=mY(this.apiClient,e);return a=be("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>XI(this.apiClient,c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=BY(this.apiClient,e);return a=be("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(()=>{const c=SX(),f=new $I;return Object.assign(f,c),f})}else{const u=gY(this.apiClient,e);return a=be("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(()=>{const c=sX(),f=new $I;return Object.assign(f,c),f})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=qY(this.apiClient,e);return a=be("{model}:countTokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=AX(this.apiClient,c),d=new VI;return Object.assign(d,f),d})}else{const u=vY(this.apiClient,e);return a=be("{model}:countTokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const f=aX(this.apiClient,c),d=new VI;return Object.assign(d,f),d})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=GY(this.apiClient,e);return o=be("{model}:computeTokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=PX(this.apiClient,l),c=new P7;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=KY(this.apiClient,e);return a=be("{model}:predictLongRunning",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>OX(this.apiClient,c))}else{const u=bY(this.apiClient,e);return a=be("{model}:predictLongRunning",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>fX(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FX(t,e){const n={},r=m(e,["operationName"]);r!=null&&y(n,["_url","operationName"],r);const i=m(e,["config"]);return i!=null&&y(n,["config"],i),n}function UX(t,e){const n={},r=m(e,["operationName"]);r!=null&&y(n,["_url","operationName"],r);const i=m(e,["config"]);return i!=null&&y(n,["config"],i),n}function BX(t,e){const n={},r=m(e,["operationName"]);r!=null&&y(n,["operationName"],r);const i=m(e,["resourceName"]);i!=null&&y(n,["_url","resourceName"],i);const o=m(e,["config"]);return o!=null&&y(n,["config"],o),n}function zX(t,e){const n={},r=m(e,["video","uri"]);r!=null&&y(n,["uri"],r);const i=m(e,["video","encodedVideo"]);i!=null&&y(n,["videoBytes"],es(t,i));const o=m(e,["encoding"]);return o!=null&&y(n,["mimeType"],o),n}function qX(t,e){const n={},r=m(e,["_self"]);return r!=null&&y(n,["video"],zX(t,r)),n}function GX(t,e){const n={},r=m(e,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>qX(t,a))),y(n,["generatedVideos"],s)}const i=m(e,["raiMediaFilteredCount"]);i!=null&&y(n,["raiMediaFilteredCount"],i);const o=m(e,["raiMediaFilteredReasons"]);return o!=null&&y(n,["raiMediaFilteredReasons"],o),n}function WX(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["name"],r);const i=m(e,["metadata"]);i!=null&&y(n,["metadata"],i);const o=m(e,["done"]);o!=null&&y(n,["done"],o);const s=m(e,["error"]);s!=null&&y(n,["error"],s);const a=m(e,["response","generateVideoResponse"]);return a!=null&&y(n,["response"],GX(t,a)),n}function HX(t,e){const n={},r=m(e,["gcsUri"]);r!=null&&y(n,["uri"],r);const i=m(e,["bytesBase64Encoded"]);i!=null&&y(n,["videoBytes"],es(t,i));const o=m(e,["mimeType"]);return o!=null&&y(n,["mimeType"],o),n}function KX(t,e){const n={},r=m(e,["_self"]);return r!=null&&y(n,["video"],HX(t,r)),n}function YX(t,e){const n={},r=m(e,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>KX(t,a))),y(n,["generatedVideos"],s)}const i=m(e,["raiMediaFilteredCount"]);i!=null&&y(n,["raiMediaFilteredCount"],i);const o=m(e,["raiMediaFilteredReasons"]);return o!=null&&y(n,["raiMediaFilteredReasons"],o),n}function ZI(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["name"],r);const i=m(e,["metadata"]);i!=null&&y(n,["metadata"],i);const o=m(e,["done"]);o!=null&&y(n,["done"],o);const s=m(e,["error"]);s!=null&&y(n,["error"],s);const a=m(e,["response"]);return a!=null&&y(n,["response"],YX(t,a)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XX extends Pd{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;return r&&"httpOptions"in r&&(o=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=UX(this.apiClient,e);return a=be("{operationName}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>ZI(this.apiClient,c))}else{const u=FX(this.apiClient,e);return a=be("{operationName}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>WX(this.apiClient,c))}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=BX(this.apiClient,e);return o=be("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>ZI(this.apiClient,l))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QX="Content-Type",JX="X-Server-Timeout",ZX="User-Agent",eQ="x-goog-api-client",tQ="0.11.0",nQ=`google-genai-sdk/${tQ}`,rQ="v1beta1",iQ="v1beta",ek=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class R$ extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class D_ extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class oQ{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:rQ,this.getProject()||this.getLocation()?(i.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(i.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:iQ,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,o=i.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>i.abort(),n.timeout),r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=o}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await tk(i),new N_(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await tk(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return ym(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:a,value:l}=yield cn(i.read());if(a){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=o.decode(l);try{const f=JSON.parse(u);if("error"in f){const d=JSON.parse(JSON.stringify(f.error)),p=d.status,v=d.code,x=`got status: ${p}. ${JSON.stringify(f)}`;if(v>=400&&v<500)throw new R$(x);if(v>=500&&v<600)throw new D_(x)}}catch(f){const d=f;if(d.name==="ClientError"||d.name==="ServerError")throw f}s+=u;let c=s.match(ek);for(;c;){const f=c[1];try{const d=new Response(f,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield cn(new N_(d)),s=s.slice(c[0].length),c=s.match(ek)}catch(d){throw new Error(`exception parsing stream chunk ${f}. ${d}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=nQ+" "+this.clientOptions.userAgentExtra;return e[ZX]=n,e[eQ]=n,e[QX]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(JX,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l=await this.fetchUploadUrl(i,n);return o.upload(e,l,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},s=await this.request({path:be("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:i});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const a=(r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(a===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return a}}async function tk(t){var e;if(t===void 0)throw new D_("response is undefined");if(!t.ok){const n=t.status,r=t.statusText;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=`got status: ${n} ${r}. ${JSON.stringify(i)}`;throw n>=400&&n<500?new R$(o):n>=500&&n<600?new D_(o):new Error(o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sQ(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["_url","name"],r);const i=m(e,["config"]);return i!=null&&y(n,["config"],i),n}function aQ(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const o=m(e,["pageToken"]);n!==void 0&&o!=null&&y(n,["_query","pageToken"],o);const s=m(e,["filter"]);return n!==void 0&&s!=null&&y(n,["_query","filter"],s),r}function lQ(t,e){const n={},r=m(e,["config"]);return r!=null&&y(n,["config"],aQ(t,r,n)),n}function uQ(t,e){const n={},r=m(e,["textInput"]);r!=null&&y(n,["textInput"],r);const i=m(e,["output"]);return i!=null&&y(n,["output"],i),n}function cQ(t,e){const n={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=m(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>uQ(t,o))),y(n,["examples","examples"],i)}return n}function fQ(t,e,n){const r={};if(m(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=m(e,["tunedModelDisplayName"]);if(n!==void 0&&i!=null&&y(n,["displayName"],i),m(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=m(e,["epochCount"]);n!==void 0&&o!=null&&y(n,["tuningTask","hyperparameters","epochCount"],o);const s=m(e,["learningRateMultiplier"]);if(s!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),m(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=m(e,["batchSize"]);n!==void 0&&a!=null&&y(n,["tuningTask","hyperparameters","batchSize"],a);const l=m(e,["learningRate"]);return n!==void 0&&l!=null&&y(n,["tuningTask","hyperparameters","learningRate"],l),r}function dQ(t,e){const n={},r=m(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=m(e,["trainingDataset"]);i!=null&&y(n,["tuningTask","trainingData"],cQ(t,i));const o=m(e,["config"]);return o!=null&&y(n,["config"],fQ(t,o,n)),n}function hQ(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["_url","name"],r);const i=m(e,["config"]);return i!=null&&y(n,["config"],i),n}function pQ(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const o=m(e,["pageToken"]);n!==void 0&&o!=null&&y(n,["_query","pageToken"],o);const s=m(e,["filter"]);return n!==void 0&&s!=null&&y(n,["_query","filter"],s),r}function mQ(t,e){const n={},r=m(e,["config"]);return r!=null&&y(n,["config"],pQ(t,r,n)),n}function gQ(t,e,n){const r={},i=m(e,["gcsUri"]);if(n!==void 0&&i!=null&&y(n,["supervisedTuningSpec","trainingDatasetUri"],i),m(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function yQ(t,e){const n={},r=m(e,["gcsUri"]);return r!=null&&y(n,["validationDatasetUri"],r),n}function vQ(t,e,n){const r={},i=m(e,["validationDataset"]);n!==void 0&&i!=null&&y(n,["supervisedTuningSpec"],yQ(t,i));const o=m(e,["tunedModelDisplayName"]);n!==void 0&&o!=null&&y(n,["tunedModelDisplayName"],o);const s=m(e,["description"]);n!==void 0&&s!=null&&y(n,["description"],s);const a=m(e,["epochCount"]);n!==void 0&&a!=null&&y(n,["supervisedTuningSpec","hyperParameters","epochCount"],a);const l=m(e,["learningRateMultiplier"]);n!==void 0&&l!=null&&y(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],l);const u=m(e,["adapterSize"]);if(n!==void 0&&u!=null&&y(n,["supervisedTuningSpec","hyperParameters","adapterSize"],u),m(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(m(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function xQ(t,e){const n={},r=m(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=m(e,["trainingDataset"]);i!=null&&y(n,["supervisedTuningSpec","trainingDatasetUri"],gQ(t,i,n));const o=m(e,["config"]);return o!=null&&y(n,["config"],vQ(t,o,n)),n}function _Q(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["model"],r);const i=m(e,["name"]);return i!=null&&y(n,["endpoint"],i),n}function M$(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["name"],r);const i=m(e,["state"]);i!=null&&y(n,["state"],P$(t,i));const o=m(e,["createTime"]);o!=null&&y(n,["createTime"],o);const s=m(e,["tuningTask","startTime"]);s!=null&&y(n,["startTime"],s);const a=m(e,["tuningTask","completeTime"]);a!=null&&y(n,["endTime"],a);const l=m(e,["updateTime"]);l!=null&&y(n,["updateTime"],l);const u=m(e,["description"]);u!=null&&y(n,["description"],u);const c=m(e,["baseModel"]);c!=null&&y(n,["baseModel"],c);const f=m(e,["_self"]);f!=null&&y(n,["tunedModel"],_Q(t,f));const d=m(e,["distillationSpec"]);d!=null&&y(n,["distillationSpec"],d);const p=m(e,["experiment"]);p!=null&&y(n,["experiment"],p);const v=m(e,["labels"]);v!=null&&y(n,["labels"],v);const x=m(e,["pipelineJob"]);x!=null&&y(n,["pipelineJob"],x);const _=m(e,["tunedModelDisplayName"]);return _!=null&&y(n,["tunedModelDisplayName"],_),n}function bQ(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&y(n,["nextPageToken"],r);const i=m(e,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>M$(t,s))),y(n,["tuningJobs"],o)}return n}function wQ(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["name"],r);const i=m(e,["metadata"]);i!=null&&y(n,["metadata"],i);const o=m(e,["done"]);o!=null&&y(n,["done"],o);const s=m(e,["error"]);return s!=null&&y(n,["error"],s),n}function TQ(t,e){const n={},r=m(e,["model"]);r!=null&&y(n,["model"],r);const i=m(e,["endpoint"]);return i!=null&&y(n,["endpoint"],i),n}function L_(t,e){const n={},r=m(e,["name"]);r!=null&&y(n,["name"],r);const i=m(e,["state"]);i!=null&&y(n,["state"],P$(t,i));const o=m(e,["createTime"]);o!=null&&y(n,["createTime"],o);const s=m(e,["startTime"]);s!=null&&y(n,["startTime"],s);const a=m(e,["endTime"]);a!=null&&y(n,["endTime"],a);const l=m(e,["updateTime"]);l!=null&&y(n,["updateTime"],l);const u=m(e,["error"]);u!=null&&y(n,["error"],u);const c=m(e,["description"]);c!=null&&y(n,["description"],c);const f=m(e,["baseModel"]);f!=null&&y(n,["baseModel"],f);const d=m(e,["tunedModel"]);d!=null&&y(n,["tunedModel"],TQ(t,d));const p=m(e,["supervisedTuningSpec"]);p!=null&&y(n,["supervisedTuningSpec"],p);const v=m(e,["tuningDataStats"]);v!=null&&y(n,["tuningDataStats"],v);const x=m(e,["encryptionSpec"]);x!=null&&y(n,["encryptionSpec"],x);const _=m(e,["partnerModelTuningSpec"]);_!=null&&y(n,["partnerModelTuningSpec"],_);const b=m(e,["distillationSpec"]);b!=null&&y(n,["distillationSpec"],b);const w=m(e,["experiment"]);w!=null&&y(n,["experiment"],w);const T=m(e,["labels"]);T!=null&&y(n,["labels"],T);const C=m(e,["pipelineJob"]);C!=null&&y(n,["pipelineJob"],C);const S=m(e,["tunedModelDisplayName"]);return S!=null&&y(n,["tunedModelDisplayName"],S),n}function EQ(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&y(n,["nextPageToken"],r);const i=m(e,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>L_(t,s))),y(n,["tuningJobs"],o)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SQ extends Pd{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new dE(Tf.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let i="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?i=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(i=r.name.split("/operations/")[0]),{name:i,state:O_.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=hQ(this.apiClient,e);return a=be("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>L_(this.apiClient,c))}else{const u=sQ(this.apiClient,e);return a=be("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>M$(this.apiClient,c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=mQ(this.apiClient,e);return a=be("tuningJobs",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=EQ(this.apiClient,c),d=new FI;return Object.assign(d,f),d})}else{const u=lQ(this.apiClient,e);return a=be("tunedModels",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const f=bQ(this.apiClient,c),d=new FI;return Object.assign(d,f),d})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=xQ(this.apiClient,e);return o=be("tuningJobs",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>L_(this.apiClient,l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=dQ(this.apiClient,e);return o=be("tunedModels",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>wQ(this.apiClient,l))}}}const AQ=1024*1024*8;async function PQ(t,e,n){var r,i;let o=0,s=0,a=new N_(new Response),l="upload";for(o=t.size;s<o;){const c=Math.min(AQ,o-s),f=t.slice(s,s+c);if(s+c>=o&&(l+=", finalize"),a=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(c)}}}),s+=c,((r=a==null?void 0:a.headers)===null||r===void 0?void 0:r["x-goog-upload-status"])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const u=await(a==null?void 0:a.json());if(((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function CQ(t){return{size:t.size,type:t.type}}class IQ{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await PQ(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await CQ(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kQ{create(e,n,r){return new OQ(e,n,r)}}class OQ{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nk="x-goog-api-key";class NQ{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(nk)===null&&e.append(nk,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RQ="gl-node/";class MQ{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=zH(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new NQ(this.apiKey);this.apiClient=new oQ({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:RQ+"web",uploader:new IQ}),this.models=new VX(this.apiClient),this.live=new MX(this.apiClient,i,new kQ),this.chats=new D7(this.models,this.apiClient),this.caches=new O7(this.apiClient),this.files=new K7(this.apiClient),this.operations=new XX(this.apiClient),this.tunings=new SQ(this.apiClient)}}var DQ={GEMINI_API_KEY:"PLACEHOLDER_API_KEY",ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\Bavly Hamdy\\AppData\\Roaming",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"134049506887811361",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_23068_PYVRRJKOCPYNDAQX",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"BAVLY",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",CURSOR_TRACE_ID:"a1c74ae32fc647ff9f252338025a18c7",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_7228_1592913036:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Program Files\\cursor\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\Bavly Hamdy",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\Bavly Hamdy",INIT_CWD:"D:\\BIS-Smart-Grader-V2",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\Bavly Hamdy\\AppData\\Local",LOGONSERVER:"\\\\BAVLY",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Users\\Bavly Hamdy\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run",npm_config_cache:"C:\\Users\\Bavly Hamdy\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\Bavly Hamdy\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\Bavly Hamdy\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\Bavly Hamdy\\.npm-init.js",npm_config_local_prefix:"D:\\BIS-Smart-Grader-V2",npm_config_node_gyp:"C:\\Users\\Bavly Hamdy\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"11.6.3",npm_config_prefix:"C:\\Users\\Bavly Hamdy\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\Bavly Hamdy\\.npmrc",npm_config_user_agent:"npm/11.6.3 node/v24.10.0 win32 x64 workspaces/false",npm_execpath:"C:\\Users\\Bavly Hamdy\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"tsc && vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"D:\\BIS-Smart-Grader-V2\\package.json",npm_package_name:"bis-smart-grader",npm_package_version:"1.0.0",NPM_PREFIX_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-prefix.js",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\Bavly Hamdy\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"12",OneDrive:"C:\\Users\\Bavly Hamdy\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"D:\\BIS-Smart-Grader-V2\\node_modules\\.bin;D:\\node_modules\\.bin;C:\\Users\\Bavly Hamdy\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;D:\\BIS-Smart-Grader-V2\\node_modules\\.bin;D:\\node_modules\\.bin;C:\\Users\\Bavly Hamdy\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\java8path;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Python314\\Scripts\\;C:\\Python314\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\cursor\\resources\\app\\bin;C:\\Program Files\\Void\\bin;C:\\Program Files\\nodejs\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\Program Files\\Git\\cmd;C:\\Program Files\\Cloudflare\\Cloudflare WARP\\;c:\\Users\\Bavly Hamdy\\AppData\\Local\\Programs\\Trae\\bin;C:\\Users\\Bavly Hamdy\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Bavly Hamdy\\AppData\\Local\\Programs\\Windsurf\\bin;C:\\Users\\Bavly Hamdy\\AppData\\Local\\Programs\\Kiro\\bin;C:\\Users\\Bavly Hamdy\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\Bavly Hamdy\\AppData\\Roaming\\npm;C:\\Users\\Bavly Hamdy\\AppData\\Local\\Python\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"AMD64 Family 25 Model 80 Stepping 0, AuthenticAMD",PROCESSOR_LEVEL:"25",PROCESSOR_REVISION:"5000",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\Bavly Hamdy\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\BAVLYH~1\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"2.1.34",TMP:"C:\\Users\\BAVLYH~1\\AppData\\Local\\Temp",USERDOMAIN:"Bavly",USERDOMAIN_ROAMINGPROFILE:"Bavly",USERNAME:"Bavly Hamdy",USERPROFILE:"C:\\Users\\Bavly Hamdy",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Program Files\\cursor\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Program Files\\cursor\\Cursor.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-55dbcb88e2-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS"};const LQ=({title:t,uri:e})=>{const[n,r]=j.useState(!1),i=75,o=t.length>i,s=n||!o?t:`${t.slice(0,i).trim()}...`;return g.jsxs("div",{className:"flex items-start gap-2",children:[g.jsx("div",{className:"mt-2 w-1.5 h-1.5 bg-purple-500 rounded-full shrink-0"}),g.jsxs("div",{className:"text-sm",children:[g.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-slate-700 dark:text-slate-300 hover:text-purple-600 dark:hover:text-purple-400 transition-colors inline",children:[s,g.jsx(n8,{className:"inline ml-1 h-3 w-3 mb-0.5 opacity-70"})]}),o&&g.jsx("button",{onClick:()=>r(!n),className:"ml-2 text-xs font-semibold text-slate-500 hover:text-purple-600 dark:text-slate-500 dark:hover:text-purple-400 transition-colors focus:outline-none",children:n?"Show less":"Read more"})]})]})},jQ=()=>g.jsx("div",{className:"space-y-4 mb-6",children:[1,2,3].map(t=>g.jsxs("div",{className:"flex items-start gap-2 animate-pulse",children:[g.jsx("div",{className:"mt-2 w-1.5 h-1.5 bg-slate-300 dark:bg-slate-700 rounded-full shrink-0"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full mb-2"}),g.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-2/3"})]})]},t))}),$Q=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(!1),[i,o]=j.useState(null),s=async()=>{var l,u,c;r(!0),o(null),e([]);try{const d=await new MQ({apiKey:DQ.API_KEY}).models.generateContent({model:"gemini-2.5-flash",contents:'Find 3 recent news headlines about "AI in Education" or "EdTech Innovation".',config:{tools:[{googleSearch:{}}]}}),p=(c=(u=(l=d.candidates)==null?void 0:l[0])==null?void 0:u.groundingMetadata)==null?void 0:c.groundingChunks,v=(p==null?void 0:p.filter(x=>x.web).map(x=>({title:x.web.title,uri:x.web.uri})).slice(0,3))||[];if(v.length===0){if(!d.text)throw new Error("No content returned");o("No linked news found. Try again.")}else e(v)}catch(f){console.error("Error fetching news:",f),o("Unable to fetch news updates.")}finally{r(!1)}},a={initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.7,delay:.4}};return g.jsxs(ue.div,{...a,className:"group p-8 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800 hover:shadow-xl dark:hover:shadow-purple-900/10 hover:border-purple-200 dark:hover:border-purple-500/30 transition-all duration-300 hover:-translate-y-1 flex flex-col h-full",children:[g.jsx("div",{className:"w-14 h-14 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:g.jsx(a8,{className:"h-7 w-7 text-purple-600 dark:text-purple-400"})}),g.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"Industry Updates"}),g.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed mb-6 text-sm flex-grow",children:"Stay informed with real-time news about AI in education, powered by Google Search."}),n?g.jsx(jQ,{}):t.length>0&&g.jsx("div",{className:"space-y-4 mb-6",children:t.map((l,u)=>g.jsx(LQ,{title:l.title,uri:l.uri},u))}),i&&g.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 flex items-start gap-3",children:[g.jsx(Zg,{className:"h-4 w-4 text-red-600 dark:text-red-400 mt-0.5 shrink-0"}),g.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 font-medium leading-tight",children:i})]}),g.jsx(Et,{onClick:s,isLoading:n,variant:"outline",size:"sm",className:"w-full mt-auto border-purple-200 text-purple-700 hover:bg-purple-50 dark:border-purple-800 dark:text-purple-300 dark:hover:bg-purple-900/20",children:t.length>0?"Refresh News":"Fetch Latest News"})]})},VQ=()=>{const[t,e]=j.useState(!1);j.useEffect(()=>{const r=()=>{window.scrollY>300?e(!0):e(!1)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return g.jsx(hr,{children:t&&g.jsx(ue.button,{initial:{opacity:0,scale:.5,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5,y:20},transition:{duration:.2},onClick:n,className:"fixed bottom-8 right-8 z-40 p-3 rounded-full bg-primary dark:bg-blue-600 text-white shadow-lg hover:shadow-primary/50 dark:hover:shadow-blue-900/50 hover:bg-primary-hover dark:hover:bg-blue-500 transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary","aria-label":"Scroll to top",children:g.jsx(Xz,{className:"h-6 w-6"})})})},FQ=()=>{const t=Gi(),e={initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.7}};return g.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 transition-colors duration-300 overflow-hidden selection:bg-primary/20 selection:text-primary",children:[g.jsx(jH,{}),g.jsx(VQ,{}),g.jsx($H,{}),g.jsx("section",{id:"features",className:"py-24 bg-white dark:bg-slate-900/50 relative",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs(ue.div,{...e,className:"text-center mb-16",children:[g.jsx("h2",{className:"text-primary dark:text-blue-400 font-semibold text-sm uppercase tracking-wide mb-2",children:"Why Choose Smart Grader?"}),g.jsx("h3",{className:"text-3xl md:text-4xl font-bold text-slate-900 dark:text-white",children:"Advanced features for modern faculty"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[g.jsxs(ue.div,{...e,transition:{delay:.1},className:"group p-8 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800 hover:shadow-xl dark:hover:shadow-cyan-900/10 hover:border-blue-200 dark:hover:border-cyan-500/30 transition-all duration-300 hover:-translate-y-1 h-full",children:[g.jsx("div",{className:"w-14 h-14 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:g.jsx(l8,{className:"h-7 w-7 text-primary dark:text-blue-400"})}),g.jsx("h4",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"AI-Powered OCR"}),g.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed text-sm",children:"Reads complex student handwriting instantly using Google Gemini's multimodal capabilities, converting physical papers to digital data."})]}),g.jsxs(ue.div,{...e,transition:{delay:.2},className:"group p-8 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800 hover:shadow-xl dark:hover:shadow-teal-900/10 hover:border-teal-200 dark:hover:border-teal-500/30 transition-all duration-300 hover:-translate-y-1 h-full",children:[g.jsx("div",{className:"w-14 h-14 bg-teal-100 dark:bg-teal-900/30 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:g.jsx(Qz,{className:"h-7 w-7 text-secondary dark:text-teal-400"})}),g.jsx("h4",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"Smart Analytics"}),g.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed text-sm",children:"Visualize class performance with automatic grade distribution charts. Identify weak points in curriculum based on student answers."})]}),g.jsxs(ue.div,{...e,transition:{delay:.3},className:"group p-8 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800 hover:shadow-xl dark:hover:shadow-indigo-900/10 hover:border-indigo-200 dark:hover:border-indigo-500/30 transition-all duration-300 hover:-translate-y-1 h-full",children:[g.jsx("div",{className:"w-14 h-14 bg-indigo-100 dark:bg-indigo-900/30 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:g.jsx(c8,{className:"h-7 w-7 text-indigo-600 dark:text-indigo-400"})}),g.jsx("h4",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"Secure & Private"}),g.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed text-sm",children:"Built with strict enterprise security standards. Student data is encrypted and processed securely within the university's private cloud."})]}),g.jsx($Q,{})]})]})}),g.jsx(VH,{}),g.jsxs("section",{className:"py-20 bg-primary-gradient bg-gradient-to-br from-primary to-blue-900 dark:from-slate-900 dark:to-blue-950 text-white relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),g.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 relative z-10",children:[g.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Ready to modernize your grading process?"}),g.jsx("p",{className:"text-blue-100 dark:text-slate-300 text-lg mb-10",children:"Join the BIS Faculty early access program and start saving hours on grading today."}),g.jsx(Et,{variant:"secondary",size:"lg",className:"shadow-xl hover:shadow-2xl transition-shadow",onClick:()=>t("/login"),children:"Access Portal"})]})]}),g.jsx("footer",{className:"bg-slate-900 dark:bg-slate-950 text-slate-400 py-12 border-t border-slate-800",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center",children:[g.jsx("div",{className:"mb-4 md:mb-0",children:g.jsxs("span",{className:"font-bold text-xl text-white tracking-tight",children:["BIS ",g.jsx("span",{className:"text-primary dark:text-blue-400",children:"Smart Grader"})]})}),g.jsx("div",{className:"text-sm",children:" 2025 BIS Faculty, Assiut University. All rights reserved."})]})})]})};var rk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},UQ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},L$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(d=64)),r.push(n[c],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(D$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UQ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new BQ;const d=o<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zQ=function(t){const e=D$(t);return L$.encodeByteArray(e,!0)},vm=function(t){return zQ(t).replace(/\./g,"")},j$=function(t){try{return L$.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GQ=()=>qQ().__FIREBASE_DEFAULTS__,WQ=()=>{if(typeof process>"u"||typeof rk>"u")return;const t=rk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HQ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&j$(t[1]);return e&&JSON.parse(e)},cy=()=>{try{return GQ()||WQ()||HQ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$$=t=>{var e,n;return(n=(e=cy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},KQ=t=>{const e=$$(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},V$=()=>{var t;return(t=cy())===null||t===void 0?void 0:t.config},F$=t=>{var e;return(e=cy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XQ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[vm(JSON.stringify(n)),vm(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function JQ(){var t;const e=(t=cy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZQ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eJ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tJ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nJ(){const t=xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rJ(){return!JQ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iJ(){try{return typeof indexedDB=="object"}catch{return!1}}function oJ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sJ="FirebaseError";class Wi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sJ,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cd.prototype.create)}}class Cd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?aJ(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Wi(i,a,r)}}function aJ(t,e){return t.replace(lJ,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const lJ=/\{\$([^}]+)}/g;function uJ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(ik(o)&&ik(s)){if(!xm(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ik(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Tc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function cJ(t,e){const n=new fJ(t,e);return n.subscribe.bind(n)}class fJ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dJ(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=k0),i.error===void 0&&(i.error=k0),i.complete===void 0&&(i.complete=k0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dJ(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function k0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class Ks{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hJ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YQ;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mJ(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pJ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pJ(t){return t===Ts?void 0:t}function mJ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hJ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const yJ={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},vJ=Ie.INFO,xJ={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},_J=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=xJ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hE{constructor(e){this.name=e,this._logLevel=vJ,this._logHandler=_J,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yJ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const bJ=(t,e)=>e.some(n=>t instanceof n);let ok,sk;function wJ(){return ok||(ok=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TJ(){return sk||(sk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U$=new WeakMap,j_=new WeakMap,B$=new WeakMap,O0=new WeakMap,pE=new WeakMap;function EJ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Oo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&U$.set(n,t)}).catch(()=>{}),pE.set(e,t),e}function SJ(t){if(j_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});j_.set(t,e)}let $_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return j_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||B$.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AJ(t){$_=t($_)}function PJ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(N0(this),e,...n);return B$.set(r,e.sort?e.sort():[e]),Oo(r)}:TJ().includes(t)?function(...e){return t.apply(N0(this),e),Oo(U$.get(this))}:function(...e){return Oo(t.apply(N0(this),e))}}function CJ(t){return typeof t=="function"?PJ(t):(t instanceof IDBTransaction&&SJ(t),bJ(t,wJ())?new Proxy(t,$_):t)}function Oo(t){if(t instanceof IDBRequest)return EJ(t);if(O0.has(t))return O0.get(t);const e=CJ(t);return e!==t&&(O0.set(t,e),pE.set(e,t)),e}const N0=t=>pE.get(t);function IJ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Oo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Oo(s.result),l.oldVersion,l.newVersion,Oo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const kJ=["get","getKey","getAll","getAllKeys","count"],OJ=["put","add","delete","clear"],R0=new Map;function ak(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(R0.get(e))return R0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=OJ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kJ.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return R0.set(e,o),o}AJ(t=>({...t,get:(e,n,r)=>ak(e,n)||t.get(e,n,r),has:(e,n)=>!!ak(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RJ(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function RJ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const V_="@firebase/app",lk="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new hE("@firebase/app"),MJ="@firebase/app-compat",DJ="@firebase/analytics-compat",LJ="@firebase/analytics",jJ="@firebase/app-check-compat",$J="@firebase/app-check",VJ="@firebase/auth",FJ="@firebase/auth-compat",UJ="@firebase/database",BJ="@firebase/data-connect",zJ="@firebase/database-compat",qJ="@firebase/functions",GJ="@firebase/functions-compat",WJ="@firebase/installations",HJ="@firebase/installations-compat",KJ="@firebase/messaging",YJ="@firebase/messaging-compat",XJ="@firebase/performance",QJ="@firebase/performance-compat",JJ="@firebase/remote-config",ZJ="@firebase/remote-config-compat",eZ="@firebase/storage",tZ="@firebase/storage-compat",nZ="@firebase/firestore",rZ="@firebase/vertexai-preview",iZ="@firebase/firestore-compat",oZ="firebase",sZ="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="[DEFAULT]",aZ={[V_]:"fire-core",[MJ]:"fire-core-compat",[LJ]:"fire-analytics",[DJ]:"fire-analytics-compat",[$J]:"fire-app-check",[jJ]:"fire-app-check-compat",[VJ]:"fire-auth",[FJ]:"fire-auth-compat",[UJ]:"fire-rtdb",[BJ]:"fire-data-connect",[zJ]:"fire-rtdb-compat",[qJ]:"fire-fn",[GJ]:"fire-fn-compat",[WJ]:"fire-iid",[HJ]:"fire-iid-compat",[KJ]:"fire-fcm",[YJ]:"fire-fcm-compat",[XJ]:"fire-perf",[QJ]:"fire-perf-compat",[JJ]:"fire-rc",[ZJ]:"fire-rc-compat",[eZ]:"fire-gcs",[tZ]:"fire-gcs-compat",[nZ]:"fire-fst",[iZ]:"fire-fst-compat",[rZ]:"fire-vertex","fire-js":"fire-js",[oZ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=new Map,lZ=new Map,U_=new Map;function uk(t,e){try{t.container.addComponent(e)}catch(n){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pl(t){const e=t.name;if(U_.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;U_.set(e,t);for(const n of _m.values())uk(n,t);for(const n of lZ.values())uk(n,t);return!0}function mE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},No=new Cd("app","Firebase",uZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cZ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw No.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=sZ;function z$(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:F_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw No.create("bad-app-name",{appName:String(i)});if(n||(n=V$()),!n)throw No.create("no-options");const o=_m.get(i);if(o){if(xm(n,o.options)&&xm(r,o.config))return o;throw No.create("duplicate-app",{appName:i})}const s=new gJ(i);for(const l of U_.values())s.addComponent(l);const a=new cZ(n,r,s);return _m.set(i,a),a}function q$(t=F_){const e=_m.get(t);if(!e&&t===F_&&V$())return z$();if(!e)throw No.create("no-app",{appName:t});return e}function Ro(t,e,n){var r;let i=(r=aZ[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(a.join(" "));return}Pl(new Ks(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fZ="firebase-heartbeat-database",dZ=1,Ef="firebase-heartbeat-store";let M0=null;function G$(){return M0||(M0=IJ(fZ,dZ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ef)}catch(n){console.warn(n)}}}}).catch(t=>{throw No.create("idb-open",{originalErrorMessage:t.message})})),M0}async function hZ(t){try{const n=(await G$()).transaction(Ef),r=await n.objectStore(Ef).get(W$(t));return await n.done,r}catch(e){if(e instanceof Wi)Di.warn(e.message);else{const n=No.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(n.message)}}}async function ck(t,e){try{const r=(await G$()).transaction(Ef,"readwrite");await r.objectStore(Ef).put(e,W$(t)),await r.done}catch(n){if(n instanceof Wi)Di.warn(n.message);else{const r=No.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Di.warn(r.message)}}}function W$(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pZ=1024,mZ=30*24*60*60*1e3;class gZ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vZ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=fk();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=mZ}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Di.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fk(),{heartbeatsToSend:r,unsentEntries:i}=yZ(this._heartbeatsCache.heartbeats),o=vm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Di.warn(n),""}}}function fk(){return new Date().toISOString().substring(0,10)}function yZ(t,e=pZ){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),dk(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iJ()?oJ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hZ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ck(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ck(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function dk(t){return vm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xZ(t){Pl(new Ks("platform-logger",e=>new NJ(e),"PRIVATE")),Pl(new Ks("heartbeat",e=>new gZ(e),"PRIVATE")),Ro(V_,lk,t),Ro(V_,lk,"esm2017"),Ro("fire-js","")}xZ("");var _Z="firebase",bZ="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ro(_Z,bZ,"app");function gE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function H$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wZ=H$,K$=new Cd("auth","Firebase",H$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=new hE("@firebase/auth");function TZ(t,...e){bm.logLevel<=Ie.WARN&&bm.warn(`Auth (${pu}): ${t}`,...e)}function Tp(t,...e){bm.logLevel<=Ie.ERROR&&bm.error(`Auth (${pu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t,...e){throw yE(t,...e)}function Xr(t,...e){return yE(t,...e)}function Y$(t,e,n){const r=Object.assign(Object.assign({},wZ()),{[e]:n});return new Cd("auth","Firebase",r).create(e,{appName:t.name})}function Ai(t){return Y$(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return K$.create(t,...e)}function he(t,e,...n){if(!t)throw yE(e,...n)}function yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tp(e),new Error(e)}function Li(t,e){t||yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function EZ(){return hk()==="http:"||hk()==="https:"}function hk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EZ()||eJ()||"connection"in navigator)?navigator.onLine:!0}function AZ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Li(n>e,"Short delay should be less than long delay!"),this.isMobile=QQ()||tJ()}get(){return SZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t,e){Li(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CZ=new kd(3e4,6e4);function ts(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ns(t,e,n,r,i={}){return Q$(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Id(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return ZQ()||(u.referrerPolicy="no-referrer"),X$.fetch()(J$(t,t.config.apiHost,n,a),u)})}async function Q$(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},PZ),e);try{const i=new kZ(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Fh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Fh(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Fh(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Y$(t,c,u);Mr(t,c)}}catch(i){if(i instanceof Wi)throw i;Mr(t,"network-request-failed",{message:String(i)})}}async function Od(t,e,n,r,i={}){const o=await ns(t,e,n,r,i);return"mfaPendingCredential"in o&&Mr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function J$(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?vE(t.config,i):`${t.config.apiScheme}://${i}`}function IZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kZ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xr(this.auth,"network-request-failed")),CZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xr(t,e,r);return i.customData._tokenResponse=n,i}function pk(t){return t!==void 0&&t.enterprise!==void 0}class OZ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IZ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function NZ(t,e){return ns(t,"GET","/v2/recaptchaConfig",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RZ(t,e){return ns(t,"POST","/v1/accounts:delete",e)}async function Z$(t,e){return ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MZ(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),i=xE(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Bc(D0(i.auth_time)),issuedAtTime:Bc(D0(i.iat)),expirationTime:Bc(D0(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function D0(t){return Number(t)*1e3}function xE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Tp("JWT malformed, contained fewer than 3 sections"),null;try{const i=j$(n);return i?JSON.parse(i):(Tp("Failed to decode base64 JWT payload"),null)}catch(i){return Tp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function mk(t){const e=xE(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wi&&DZ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function DZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bc(this.lastLoginAt),this.creationTime=Bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Sf(t,Z$(n,{idToken:r}));he(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?eV(o.providerUserInfo):[],a=$Z(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new z_(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function jZ(t){const e=Ct(t);await wm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $Z(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function eV(t){return t.map(e=>{var{providerId:n}=e,r=gE(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VZ(t,e){const n=await Q$(t,{},async()=>{const r=Id({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=J$(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",X$.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FZ(t,e){return ns(t,"POST","/v2/accounts:revokeToken",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=mk(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await VZ(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new al;return r&&(he(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(he(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new al,this.toJSON())}_performRefresh(){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=gE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new z_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Sf(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MZ(this,e)}reload(){return jZ(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qr(this.auth.app))return Promise.reject(Ai(this.auth));const e=await this.getIdToken();return await Sf(this,RZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:T,emailVerified:C,isAnonymous:S,providerData:I,stsTokenManager:P}=n;he(T&&P,e,"internal-error");const A=al.fromJSON(this.name,P);he(typeof T=="string",e,"internal-error"),no(f,e.name),no(d,e.name),he(typeof C=="boolean",e,"internal-error"),he(typeof S=="boolean",e,"internal-error"),no(p,e.name),no(v,e.name),no(x,e.name),no(_,e.name),no(b,e.name),no(w,e.name);const O=new vi({uid:T,auth:e,email:d,emailVerified:C,displayName:f,isAnonymous:S,photoURL:v,phoneNumber:p,tenantId:x,stsTokenManager:A,createdAt:b,lastLoginAt:w});return I&&Array.isArray(I)&&(O.providerData=I.map(N=>Object.assign({},N))),_&&(O._redirectEventId=_),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new al;i.updateFromServerResponse(n);const o=new vi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];he(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?eV(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new al;a.updateFromIdToken(r);const l=new vi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new z_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=new Map;function xi(t){Li(t instanceof Function,"Expected a class definition");let e=gk.get(t);return e?(Li(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tV.type="NONE";const yk=tV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(t,e,n){return`firebase:${t}:${e}:${n}`}class ll{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ep(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ep("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ll(xi(yk),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||xi(yk);const s=Ep(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const f=vi._fromJSON(e,c);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ll(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new ll(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aV(e))return"Blackberry";if(lV(e))return"Webos";if(rV(e))return"Safari";if((e.includes("chrome/")||iV(e))&&!e.includes("edge/"))return"Chrome";if(sV(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nV(t=xn()){return/firefox\//i.test(t)}function rV(t=xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iV(t=xn()){return/crios\//i.test(t)}function oV(t=xn()){return/iemobile/i.test(t)}function sV(t=xn()){return/android/i.test(t)}function aV(t=xn()){return/blackberry/i.test(t)}function lV(t=xn()){return/webos/i.test(t)}function _E(t=xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UZ(t=xn()){var e;return _E(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BZ(){return nJ()&&document.documentMode===10}function uV(t=xn()){return _E(t)||sV(t)||lV(t)||aV(t)||/windows phone/i.test(t)||oV(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t,e=[]){let n;switch(t){case"Browser":n=vk(xn());break;case"Worker":n=`${vk(xn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qZ(t,e={}){return ns(t,"GET","/v2/passwordPolicy",ts(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GZ=6;class WZ{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:GZ,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HZ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xk(this),this.idTokenSubscription=new xk(this),this.beforeStateQueue=new zZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ll.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Z$(this,{idToken:e}),r=await vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AZ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qr(this.app))return Promise.reject(Ai(this));const n=e?Ct(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qr(this.app)?Promise.reject(Ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qr(this.app)?Promise.reject(Ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qZ(this),n=new WZ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await FZ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xi(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await ll.create(this,[xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&TZ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ca(t){return Ct(t)}class xk{constructor(e){this.auth=e,this.observer=null,this.addObserver=cJ(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KZ(t){fy=t}function fV(t){return fy.loadJS(t)}function YZ(){return fy.recaptchaEnterpriseScript}function XZ(){return fy.gapiScript}function QZ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const JZ="recaptcha-enterprise",ZZ="NO_RECAPTCHA";class eee{constructor(e){this.type=JZ,this.auth=ca(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{NZ(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new OZ(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;pk(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(ZZ)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&pk(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=YZ();l.length!==0&&(l+=a),fV(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function _k(t,e,n,r=!1){const i=new eee(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function q_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await _k(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await _k(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tee(t,e){const n=mE(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(xm(o,e??{}))return i;Mr(i,"already-initialized")}return n.initialize({options:e})}function nee(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ree(t,e,n){const r=ca(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=dV(e),{host:s,port:a}=iee(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),oee()}function dV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iee(t){const e=dV(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:bk(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:bk(s)}}}function bk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oee(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,n){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}async function see(t,e){return ns(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aee(t,e){return Od(t,"POST","/v1/accounts:signInWithPassword",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lee(t,e){return Od(t,"POST","/v1/accounts:signInWithEmailLink",ts(t,e))}async function uee(t,e){return Od(t,"POST","/v1/accounts:signInWithEmailLink",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af extends bE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Af(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Af(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return q_(e,n,"signInWithPassword",aee);case"emailLink":return lee(e,{email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return q_(e,r,"signUpPassword",see);case"emailLink":return uee(e,{idToken:n,email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(t,e){return Od(t,"POST","/v1/accounts:signInWithIdp",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cee="http://localhost";class Ys extends bE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=gE(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Ys(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ul(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ul(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ul(e,n)}buildRequest(){const e={requestUri:cee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Id(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dee(t){const e=wc(Tc(t)).link,n=e?wc(Tc(e)).deep_link_id:null,r=wc(Tc(t)).deep_link_id;return(r?wc(Tc(r)).link:null)||r||n||e||t}class wE{constructor(e){var n,r,i,o,s,a;const l=wc(Tc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=fee((i=l.mode)!==null&&i!==void 0?i:null);he(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=dee(e);try{return new wE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(){this.providerId=mu.PROVIDER_ID}static credential(e,n){return Af._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=wE.parseLink(n);return he(r,"argument-error"),Af._fromEmailAndCode(e,r.code,r.tenantId)}}mu.PROVIDER_ID="password";mu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends hV{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends Nd{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return co.credential(e.oauthAccessToken)}catch{return null}}}co.FACEBOOK_SIGN_IN_METHOD="facebook.com";co.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends Nd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ys._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fo.credential(n,r)}catch{return null}}}fo.GOOGLE_SIGN_IN_METHOD="google.com";fo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends Nd{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ho.credential(e.oauthAccessToken)}catch{return null}}}ho.GITHUB_SIGN_IN_METHOD="github.com";ho.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends Nd{constructor(){super("twitter.com")}static credential(e,n){return Ys._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return po.credential(n,r)}catch{return null}}}po.TWITTER_SIGN_IN_METHOD="twitter.com";po.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hee(t,e){return Od(t,"POST","/v1/accounts:signUp",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await vi._fromIdTokenResponse(e,r,i),s=wk(r);return new Xs({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=wk(r);return new Xs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function wk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm extends Wi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Tm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Tm(e,n,r,i)}}function pV(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Tm._fromErrorAndOperation(t,o,e,r):o})}async function pee(t,e,n=!1){const r=await Sf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mee(t,e,n=!1){const{auth:r}=t;if(qr(r.app))return Promise.reject(Ai(r));const i="reauthenticate";try{const o=await Sf(t,pV(r,i,e,t),n);he(o.idToken,r,"internal-error");const s=xE(o.idToken);he(s,r,"internal-error");const{sub:a}=s;return he(t.uid===a,r,"user-mismatch"),Xs._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Mr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mV(t,e,n=!1){if(qr(t.app))return Promise.reject(Ai(t));const r="signIn",i=await pV(t,r,e),o=await Xs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function gee(t,e){return mV(ca(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(t){const e=ca(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yee(t,e,n){if(qr(t.app))return Promise.reject(Ai(t));const r=ca(t),s=await q_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hee).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&gV(t),l}),a=await Xs._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function vee(t,e,n){return qr(t.app)?Promise.reject(Ai(t)):gee(Ct(t),mu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gV(t),r})}function xee(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function _ee(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function bee(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}function wee(t){return Ct(t).signOut()}const Em="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Em,"1"),this.storage.removeItem(Em),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tee=1e3,Eee=10;class vV extends yV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);BZ()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Eee):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Tee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vV.type="LOCAL";const See=vV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV extends yV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xV.type="SESSION";const _V=xV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new dy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await Aee(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=TE("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(d.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(){return window}function Cee(t){Qr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(){return typeof Qr().WorkerGlobalScope<"u"&&typeof Qr().importScripts=="function"}async function Iee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Oee(){return bV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV="firebaseLocalStorageDb",Nee=1,Sm="firebaseLocalStorage",TV="fbase_key";class Rd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hy(t,e){return t.transaction([Sm],e?"readwrite":"readonly").objectStore(Sm)}function Ree(){const t=indexedDB.deleteDatabase(wV);return new Rd(t).toPromise()}function G_(){const t=indexedDB.open(wV,Nee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Sm,{keyPath:TV})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Sm)?e(r):(r.close(),await Ree(),e(await G_()))})})}async function Tk(t,e,n){const r=hy(t,!0).put({[TV]:e,value:n});return new Rd(r).toPromise()}async function Mee(t,e){const n=hy(t,!1).get(e),r=await new Rd(n).toPromise();return r===void 0?null:r.value}function Ek(t,e){const n=hy(t,!0).delete(e);return new Rd(n).toPromise()}const Dee=800,Lee=3;class EV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await G_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Lee)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dy._getInstance(Oee()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Iee(),!this.activeServiceWorker)return;this.sender=new Pee(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await G_();return await Tk(e,Em,"1"),await Ek(e,Em),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Tk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Mee(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ek(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=hy(i,!1).getAll();return new Rd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Dee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EV.type="LOCAL";const jee=EV;new kd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ee(t,e){return e?xi(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE extends bE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ul(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ul(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Vee(t){return mV(t.auth,new EE(t),t.bypassAuthState)}function Fee(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),mee(n,new EE(t),t.bypassAuthState)}async function Uee(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),pee(n,new EE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vee;case"linkViaPopup":case"linkViaRedirect":return Uee;case"reauthViaPopup":case"reauthViaRedirect":return Fee;default:Mr(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bee=new kd(2e3,1e4);class Ha extends SV{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=TE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Bee.get())};e()}}Ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zee="pendingRedirect",Sp=new Map;class qee extends SV{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Sp.get(this.auth._key());if(!e){try{const r=await Gee(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Sp.set(this.auth._key(),e)}return this.bypassAuthState||Sp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gee(t,e){const n=Kee(e),r=Hee(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Wee(t,e){Sp.set(t._key(),e)}function Hee(t){return xi(t._redirectPersistence)}function Kee(t){return Ep(zee,t.config.apiKey,t.name)}async function Yee(t,e,n=!1){if(qr(t.app))return Promise.reject(Ai(t));const r=ca(t),i=$ee(r,e),s=await new qee(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xee=10*60*1e3;class Qee{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Jee(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AV(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Xee&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sk(e))}saveEventToCache(e){this.cachedEventUids.add(Sk(e)),this.lastProcessedEventTime=Date.now()}}function Sk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AV({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Jee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AV(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zee(t,e={}){return ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ete=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tte=/^https?/;async function nte(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Zee(t);for(const n of e)try{if(rte(n))return}catch{}Mr(t,"unauthorized-domain")}function rte(t){const e=B_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!tte.test(n))return!1;if(ete.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ite=new kd(3e4,6e4);function Ak(){const t=Qr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ote(t){return new Promise((e,n)=>{var r,i,o;function s(){Ak(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ak(),n(Xr(t,"network-request-failed"))},timeout:ite.get()})}if(!((i=(r=Qr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Qr().gapi)===null||o===void 0)&&o.load)s();else{const a=QZ("iframefcb");return Qr()[a]=()=>{gapi.load?s():n(Xr(t,"network-request-failed"))},fV(`${XZ()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ap=null,e})}let Ap=null;function ste(t){return Ap=Ap||ote(t),Ap}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ate=new kd(5e3,15e3),lte="__/auth/iframe",ute="emulator/auth/iframe",cte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dte(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vE(e,ute):`https://${t.config.authDomain}/${lte}`,r={apiKey:e.apiKey,appName:t.name,v:pu},i=fte.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Id(r).slice(1)}`}async function hte(t){const e=await ste(t),n=Qr().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:dte(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cte,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Xr(t,"network-request-failed"),a=Qr().setTimeout(()=>{o(s)},ate.get());function l(){Qr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mte=500,gte=600,yte="_blank",vte="http://localhost";class Pk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xte(t,e,n,r=mte,i=gte){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},pte),{width:r.toString(),height:i.toString(),top:o,left:s}),u=xn().toLowerCase();n&&(a=iV(u)?yte:n),nV(u)&&(e=e||vte,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,v])=>`${d}${p}=${v},`,"");if(UZ(u)&&a!=="_self")return _te(e||"",a),new Pk(null);const f=window.open(e||"",a,c);he(f,t,"popup-blocked");try{f.focus()}catch{}return new Pk(f)}function _te(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bte="__/auth/handler",wte="emulator/auth/handler",Tte=encodeURIComponent("fac");async function Ck(t,e,n,r,i,o){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pu,eventId:i};if(e instanceof hV){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",uJ(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(e instanceof Nd){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${Tte}=${encodeURIComponent(l)}`:"";return`${Ete(t)}?${Id(a).slice(1)}${u}`}function Ete({config:t}){return t.emulator?vE(t,wte):`https://${t.authDomain}/${bte}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="webStorageSupport";class Ste{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_V,this._completeRedirectFn=Yee,this._overrideRedirectResult=Wee}async _openPopup(e,n,r,i){var o;Li((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Ck(e,n,r,B_(),i);return xte(e,s,TE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Ck(e,n,r,B_(),i);return Cee(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Li(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await hte(e),r=new Qee(e);return n.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(L0,{type:L0},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[L0];s!==void 0&&n(!!s),Mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nte(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uV()||rV()||_E()}}const Ate=Ste;var Ik="@firebase/auth",kk="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ite(t){Pl(new Ks("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;he(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cV(t)},u=new HZ(r,i,o,l);return nee(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Pl(new Ks("auth-internal",e=>{const n=ca(e.getProvider("auth").getImmediate());return(r=>new Pte(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ro(Ik,kk,Cte(t)),Ro(Ik,kk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kte=5*60,Ote=F$("authIdTokenMaxAge")||kte;let Ok=null;const Nte=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Ote)return;const i=n==null?void 0:n.token;Ok!==i&&(Ok=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Rte(t=q$()){const e=mE(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tee(t,{popupRedirectResolver:Ate,persistence:[jee,See,_V]}),r=F$("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Nte(o.toString());_ee(n,s,()=>s(n.currentUser)),xee(n,a=>s(a))}}const i=$$("auth");return i&&ree(n,`http://${i}`),n}function Mte(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}KZ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Xr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Mte().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ite("Browser");var Nk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fs,PV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,A){function O(){}O.prototype=A.prototype,P.D=A.prototype,P.prototype=new O,P.prototype.constructor=P,P.C=function(N,R,D){for(var M=Array(arguments.length-2),U=2;U<arguments.length;U++)M[U-2]=arguments[U];return A.prototype[R].apply(N,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,A,O){O||(O=0);var N=Array(16);if(typeof A=="string")for(var R=0;16>R;++R)N[R]=A.charCodeAt(O++)|A.charCodeAt(O++)<<8|A.charCodeAt(O++)<<16|A.charCodeAt(O++)<<24;else for(R=0;16>R;++R)N[R]=A[O++]|A[O++]<<8|A[O++]<<16|A[O++]<<24;A=P.g[0],O=P.g[1],R=P.g[2];var D=P.g[3],M=A+(D^O&(R^D))+N[0]+3614090360&4294967295;A=O+(M<<7&4294967295|M>>>25),M=D+(R^A&(O^R))+N[1]+3905402710&4294967295,D=A+(M<<12&4294967295|M>>>20),M=R+(O^D&(A^O))+N[2]+606105819&4294967295,R=D+(M<<17&4294967295|M>>>15),M=O+(A^R&(D^A))+N[3]+3250441966&4294967295,O=R+(M<<22&4294967295|M>>>10),M=A+(D^O&(R^D))+N[4]+4118548399&4294967295,A=O+(M<<7&4294967295|M>>>25),M=D+(R^A&(O^R))+N[5]+1200080426&4294967295,D=A+(M<<12&4294967295|M>>>20),M=R+(O^D&(A^O))+N[6]+2821735955&4294967295,R=D+(M<<17&4294967295|M>>>15),M=O+(A^R&(D^A))+N[7]+4249261313&4294967295,O=R+(M<<22&4294967295|M>>>10),M=A+(D^O&(R^D))+N[8]+1770035416&4294967295,A=O+(M<<7&4294967295|M>>>25),M=D+(R^A&(O^R))+N[9]+2336552879&4294967295,D=A+(M<<12&4294967295|M>>>20),M=R+(O^D&(A^O))+N[10]+4294925233&4294967295,R=D+(M<<17&4294967295|M>>>15),M=O+(A^R&(D^A))+N[11]+2304563134&4294967295,O=R+(M<<22&4294967295|M>>>10),M=A+(D^O&(R^D))+N[12]+1804603682&4294967295,A=O+(M<<7&4294967295|M>>>25),M=D+(R^A&(O^R))+N[13]+4254626195&4294967295,D=A+(M<<12&4294967295|M>>>20),M=R+(O^D&(A^O))+N[14]+2792965006&4294967295,R=D+(M<<17&4294967295|M>>>15),M=O+(A^R&(D^A))+N[15]+1236535329&4294967295,O=R+(M<<22&4294967295|M>>>10),M=A+(R^D&(O^R))+N[1]+4129170786&4294967295,A=O+(M<<5&4294967295|M>>>27),M=D+(O^R&(A^O))+N[6]+3225465664&4294967295,D=A+(M<<9&4294967295|M>>>23),M=R+(A^O&(D^A))+N[11]+643717713&4294967295,R=D+(M<<14&4294967295|M>>>18),M=O+(D^A&(R^D))+N[0]+3921069994&4294967295,O=R+(M<<20&4294967295|M>>>12),M=A+(R^D&(O^R))+N[5]+3593408605&4294967295,A=O+(M<<5&4294967295|M>>>27),M=D+(O^R&(A^O))+N[10]+38016083&4294967295,D=A+(M<<9&4294967295|M>>>23),M=R+(A^O&(D^A))+N[15]+3634488961&4294967295,R=D+(M<<14&4294967295|M>>>18),M=O+(D^A&(R^D))+N[4]+3889429448&4294967295,O=R+(M<<20&4294967295|M>>>12),M=A+(R^D&(O^R))+N[9]+568446438&4294967295,A=O+(M<<5&4294967295|M>>>27),M=D+(O^R&(A^O))+N[14]+3275163606&4294967295,D=A+(M<<9&4294967295|M>>>23),M=R+(A^O&(D^A))+N[3]+4107603335&4294967295,R=D+(M<<14&4294967295|M>>>18),M=O+(D^A&(R^D))+N[8]+1163531501&4294967295,O=R+(M<<20&4294967295|M>>>12),M=A+(R^D&(O^R))+N[13]+2850285829&4294967295,A=O+(M<<5&4294967295|M>>>27),M=D+(O^R&(A^O))+N[2]+4243563512&4294967295,D=A+(M<<9&4294967295|M>>>23),M=R+(A^O&(D^A))+N[7]+1735328473&4294967295,R=D+(M<<14&4294967295|M>>>18),M=O+(D^A&(R^D))+N[12]+2368359562&4294967295,O=R+(M<<20&4294967295|M>>>12),M=A+(O^R^D)+N[5]+4294588738&4294967295,A=O+(M<<4&4294967295|M>>>28),M=D+(A^O^R)+N[8]+2272392833&4294967295,D=A+(M<<11&4294967295|M>>>21),M=R+(D^A^O)+N[11]+1839030562&4294967295,R=D+(M<<16&4294967295|M>>>16),M=O+(R^D^A)+N[14]+4259657740&4294967295,O=R+(M<<23&4294967295|M>>>9),M=A+(O^R^D)+N[1]+2763975236&4294967295,A=O+(M<<4&4294967295|M>>>28),M=D+(A^O^R)+N[4]+1272893353&4294967295,D=A+(M<<11&4294967295|M>>>21),M=R+(D^A^O)+N[7]+4139469664&4294967295,R=D+(M<<16&4294967295|M>>>16),M=O+(R^D^A)+N[10]+3200236656&4294967295,O=R+(M<<23&4294967295|M>>>9),M=A+(O^R^D)+N[13]+681279174&4294967295,A=O+(M<<4&4294967295|M>>>28),M=D+(A^O^R)+N[0]+3936430074&4294967295,D=A+(M<<11&4294967295|M>>>21),M=R+(D^A^O)+N[3]+3572445317&4294967295,R=D+(M<<16&4294967295|M>>>16),M=O+(R^D^A)+N[6]+76029189&4294967295,O=R+(M<<23&4294967295|M>>>9),M=A+(O^R^D)+N[9]+3654602809&4294967295,A=O+(M<<4&4294967295|M>>>28),M=D+(A^O^R)+N[12]+3873151461&4294967295,D=A+(M<<11&4294967295|M>>>21),M=R+(D^A^O)+N[15]+530742520&4294967295,R=D+(M<<16&4294967295|M>>>16),M=O+(R^D^A)+N[2]+3299628645&4294967295,O=R+(M<<23&4294967295|M>>>9),M=A+(R^(O|~D))+N[0]+4096336452&4294967295,A=O+(M<<6&4294967295|M>>>26),M=D+(O^(A|~R))+N[7]+1126891415&4294967295,D=A+(M<<10&4294967295|M>>>22),M=R+(A^(D|~O))+N[14]+2878612391&4294967295,R=D+(M<<15&4294967295|M>>>17),M=O+(D^(R|~A))+N[5]+4237533241&4294967295,O=R+(M<<21&4294967295|M>>>11),M=A+(R^(O|~D))+N[12]+1700485571&4294967295,A=O+(M<<6&4294967295|M>>>26),M=D+(O^(A|~R))+N[3]+2399980690&4294967295,D=A+(M<<10&4294967295|M>>>22),M=R+(A^(D|~O))+N[10]+4293915773&4294967295,R=D+(M<<15&4294967295|M>>>17),M=O+(D^(R|~A))+N[1]+2240044497&4294967295,O=R+(M<<21&4294967295|M>>>11),M=A+(R^(O|~D))+N[8]+1873313359&4294967295,A=O+(M<<6&4294967295|M>>>26),M=D+(O^(A|~R))+N[15]+4264355552&4294967295,D=A+(M<<10&4294967295|M>>>22),M=R+(A^(D|~O))+N[6]+2734768916&4294967295,R=D+(M<<15&4294967295|M>>>17),M=O+(D^(R|~A))+N[13]+1309151649&4294967295,O=R+(M<<21&4294967295|M>>>11),M=A+(R^(O|~D))+N[4]+4149444226&4294967295,A=O+(M<<6&4294967295|M>>>26),M=D+(O^(A|~R))+N[11]+3174756917&4294967295,D=A+(M<<10&4294967295|M>>>22),M=R+(A^(D|~O))+N[2]+718787259&4294967295,R=D+(M<<15&4294967295|M>>>17),M=O+(D^(R|~A))+N[9]+3951481745&4294967295,P.g[0]=P.g[0]+A&4294967295,P.g[1]=P.g[1]+(R+(M<<21&4294967295|M>>>11))&4294967295,P.g[2]=P.g[2]+R&4294967295,P.g[3]=P.g[3]+D&4294967295}r.prototype.u=function(P,A){A===void 0&&(A=P.length);for(var O=A-this.blockSize,N=this.B,R=this.h,D=0;D<A;){if(R==0)for(;D<=O;)i(this,P,D),D+=this.blockSize;if(typeof P=="string"){for(;D<A;)if(N[R++]=P.charCodeAt(D++),R==this.blockSize){i(this,N),R=0;break}}else for(;D<A;)if(N[R++]=P[D++],R==this.blockSize){i(this,N),R=0;break}}this.h=R,this.o+=A},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var A=1;A<P.length-8;++A)P[A]=0;var O=8*this.o;for(A=P.length-8;A<P.length;++A)P[A]=O&255,O/=256;for(this.u(P),P=Array(16),A=O=0;4>A;++A)for(var N=0;32>N;N+=8)P[O++]=this.g[A]>>>N&255;return P};function o(P,A){var O=a;return Object.prototype.hasOwnProperty.call(O,P)?O[P]:O[P]=A(P)}function s(P,A){this.h=A;for(var O=[],N=!0,R=P.length-1;0<=R;R--){var D=P[R]|0;N&&D==A||(O[R]=D,N=!1)}this.g=O}var a={};function l(P){return-128<=P&&128>P?o(P,function(A){return new s([A|0],0>A?-1:0)}):new s([P|0],0>P?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return f;if(0>P)return _(u(-P));for(var A=[],O=1,N=0;P>=O;N++)A[N]=P/O|0,O*=4294967296;return new s(A,0)}function c(P,A){if(P.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(P.charAt(0)=="-")return _(c(P.substring(1),A));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=u(Math.pow(A,8)),N=f,R=0;R<P.length;R+=8){var D=Math.min(8,P.length-R),M=parseInt(P.substring(R,R+D),A);8>D?(D=u(Math.pow(A,D)),N=N.j(D).add(u(M))):(N=N.j(O),N=N.add(u(M)))}return N}var f=l(0),d=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(x(this))return-_(this).m();for(var P=0,A=1,O=0;O<this.g.length;O++){var N=this.i(O);P+=(0<=N?N:4294967296+N)*A,A*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(v(this))return"0";if(x(this))return"-"+_(this).toString(P);for(var A=u(Math.pow(P,6)),O=this,N="";;){var R=C(O,A).g;O=b(O,R.j(A));var D=((0<O.g.length?O.g[0]:O.h)>>>0).toString(P);if(O=R,v(O))return D+N;for(;6>D.length;)D="0"+D;N=D+N}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function v(P){if(P.h!=0)return!1;for(var A=0;A<P.g.length;A++)if(P.g[A]!=0)return!1;return!0}function x(P){return P.h==-1}t.l=function(P){return P=b(this,P),x(P)?-1:v(P)?0:1};function _(P){for(var A=P.g.length,O=[],N=0;N<A;N++)O[N]=~P.g[N];return new s(O,~P.h).add(d)}t.abs=function(){return x(this)?_(this):this},t.add=function(P){for(var A=Math.max(this.g.length,P.g.length),O=[],N=0,R=0;R<=A;R++){var D=N+(this.i(R)&65535)+(P.i(R)&65535),M=(D>>>16)+(this.i(R)>>>16)+(P.i(R)>>>16);N=M>>>16,D&=65535,M&=65535,O[R]=M<<16|D}return new s(O,O[O.length-1]&-2147483648?-1:0)};function b(P,A){return P.add(_(A))}t.j=function(P){if(v(this)||v(P))return f;if(x(this))return x(P)?_(this).j(_(P)):_(_(this).j(P));if(x(P))return _(this.j(_(P)));if(0>this.l(p)&&0>P.l(p))return u(this.m()*P.m());for(var A=this.g.length+P.g.length,O=[],N=0;N<2*A;N++)O[N]=0;for(N=0;N<this.g.length;N++)for(var R=0;R<P.g.length;R++){var D=this.i(N)>>>16,M=this.i(N)&65535,U=P.i(R)>>>16,z=P.i(R)&65535;O[2*N+2*R]+=M*z,w(O,2*N+2*R),O[2*N+2*R+1]+=D*z,w(O,2*N+2*R+1),O[2*N+2*R+1]+=M*U,w(O,2*N+2*R+1),O[2*N+2*R+2]+=D*U,w(O,2*N+2*R+2)}for(N=0;N<A;N++)O[N]=O[2*N+1]<<16|O[2*N];for(N=A;N<2*A;N++)O[N]=0;return new s(O,0)};function w(P,A){for(;(P[A]&65535)!=P[A];)P[A+1]+=P[A]>>>16,P[A]&=65535,A++}function T(P,A){this.g=P,this.h=A}function C(P,A){if(v(A))throw Error("division by zero");if(v(P))return new T(f,f);if(x(P))return A=C(_(P),A),new T(_(A.g),_(A.h));if(x(A))return A=C(P,_(A)),new T(_(A.g),A.h);if(30<P.g.length){if(x(P)||x(A))throw Error("slowDivide_ only works with positive integers.");for(var O=d,N=A;0>=N.l(P);)O=S(O),N=S(N);var R=I(O,1),D=I(N,1);for(N=I(N,2),O=I(O,2);!v(N);){var M=D.add(N);0>=M.l(P)&&(R=R.add(O),D=M),N=I(N,1),O=I(O,1)}return A=b(P,R.j(A)),new T(R,A)}for(R=f;0<=P.l(A);){for(O=Math.max(1,Math.floor(P.m()/A.m())),N=Math.ceil(Math.log(O)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),D=u(O),M=D.j(A);x(M)||0<M.l(P);)O-=N,D=u(O),M=D.j(A);v(D)&&(D=d),R=R.add(D),P=b(P,M)}return new T(R,P)}t.A=function(P){return C(this,P).h},t.and=function(P){for(var A=Math.max(this.g.length,P.g.length),O=[],N=0;N<A;N++)O[N]=this.i(N)&P.i(N);return new s(O,this.h&P.h)},t.or=function(P){for(var A=Math.max(this.g.length,P.g.length),O=[],N=0;N<A;N++)O[N]=this.i(N)|P.i(N);return new s(O,this.h|P.h)},t.xor=function(P){for(var A=Math.max(this.g.length,P.g.length),O=[],N=0;N<A;N++)O[N]=this.i(N)^P.i(N);return new s(O,this.h^P.h)};function S(P){for(var A=P.g.length+1,O=[],N=0;N<A;N++)O[N]=P.i(N)<<1|P.i(N-1)>>>31;return new s(O,P.h)}function I(P,A){var O=A>>5;A%=32;for(var N=P.g.length-O,R=[],D=0;D<N;D++)R[D]=0<A?P.i(D+O)>>>A|P.i(D+O+1)<<32-A:P.i(D+O);return new s(R,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,PV=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,Fs=s}).apply(typeof Nk<"u"?Nk:typeof self<"u"?self:typeof window<"u"?window:{});var Uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CV,Ec,IV,Pp,W_,kV,OV,NV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,E,k){return h==Array.prototype||h==Object.prototype||(h[E]=k.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uh=="object"&&Uh];for(var E=0;E<h.length;++E){var k=h[E];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(h,E){if(E)e:{var k=r;h=h.split(".");for(var L=0;L<h.length-1;L++){var F=h[L];if(!(F in k))break e;k=k[F]}h=h[h.length-1],L=k[h],E=E(L),E!=L&&E!=null&&e(k,h,{configurable:!0,writable:!0,value:E})}}function o(h,E){h instanceof String&&(h+="");var k=0,L=!1,F={next:function(){if(!L&&k<h.length){var B=k++;return{value:E(B,h[B]),done:!1}}return L=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(h){return h||function(){return o(this,function(E,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(h){var E=typeof h;return E=E!="object"?E:h?Array.isArray(h)?"array":E:"null",E=="array"||E=="object"&&typeof h.length=="number"}function u(h){var E=typeof h;return E=="object"&&h!=null||E=="function"}function c(h,E,k){return h.call.apply(h.bind,arguments)}function f(h,E,k){if(!h)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,L),h.apply(E,F)}}return function(){return h.apply(E,arguments)}}function d(h,E,k){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,d.apply(null,arguments)}function p(h,E){var k=Array.prototype.slice.call(arguments,1);return function(){var L=k.slice();return L.push.apply(L,arguments),h.apply(this,L)}}function v(h,E){function k(){}k.prototype=E.prototype,h.aa=E.prototype,h.prototype=new k,h.prototype.constructor=h,h.Qb=function(L,F,B){for(var te=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)te[ze-2]=arguments[ze];return E.prototype[F].apply(L,te)}}function x(h){const E=h.length;if(0<E){const k=Array(E);for(let L=0;L<E;L++)k[L]=h[L];return k}return[]}function _(h,E){for(let k=1;k<arguments.length;k++){const L=arguments[k];if(l(L)){const F=h.length||0,B=L.length||0;h.length=F+B;for(let te=0;te<B;te++)h[F+te]=L[te]}else h.push(L)}}class b{constructor(E,k){this.i=E,this.j=k,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function w(h){return/^[\s\xa0]*$/.test(h)}function T(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function C(h){return C[" "](h),h}C[" "]=function(){};var S=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function I(h,E,k){for(const L in h)E.call(k,h[L],L,h)}function P(h,E){for(const k in h)E.call(void 0,h[k],k,h)}function A(h){const E={};for(const k in h)E[k]=h[k];return E}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(h,E){let k,L;for(let F=1;F<arguments.length;F++){L=arguments[F];for(k in L)h[k]=L[k];for(let B=0;B<O.length;B++)k=O[B],Object.prototype.hasOwnProperty.call(L,k)&&(h[k]=L[k])}}function R(h){var E=1;h=h.split(":");const k=[];for(;0<E&&h.length;)k.push(h.shift()),E--;return h.length&&k.push(h.join(":")),k}function D(h){a.setTimeout(()=>{throw h},0)}function M(){var h=q;let E=null;return h.g&&(E=h.g,h.g=h.g.next,h.g||(h.h=null),E.next=null),E}class U{constructor(){this.h=this.g=null}add(E,k){const L=z.get();L.set(E,k),this.h?this.h.next=L:this.g=L,this.h=L}}var z=new b(()=>new K,h=>h.reset());class K{constructor(){this.next=this.g=this.h=null}set(E,k){this.h=E,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let W,V=!1,q=new U,Y=()=>{const h=a.Promise.resolve(void 0);W=()=>{h.then(re)}};var re=()=>{for(var h;h=M();){try{h.h.call(h.g)}catch(k){D(k)}var E=z;E.j(h),100>E.h&&(E.h++,h.next=E.g,E.g=h)}V=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(h,E){this.type=h,this.g=this.target=E,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,E=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const k=()=>{};a.addEventListener("test",k,E),a.removeEventListener("test",k,E)}catch{}return h}();function De(h,E){if(oe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var k=this.type=h.type,L=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=E,E=h.relatedTarget){if(S){e:{try{C(E.nodeName);var F=!0;break e}catch{}F=!1}F||(E=null)}}else k=="mouseover"?E=h.fromElement:k=="mouseout"&&(E=h.toElement);this.relatedTarget=E,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ot[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&De.aa.h.call(this)}}v(De,oe);var ot={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Bt="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function ie(h,E,k,L,F){this.listener=h,this.proxy=null,this.src=E,this.type=k,this.capture=!!L,this.ha=F,this.key=++Zt,this.da=this.fa=!1}function me(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ve(h){this.src=h,this.g={},this.h=0}ve.prototype.add=function(h,E,k,L,F){var B=h.toString();h=this.g[B],h||(h=this.g[B]=[],this.h++);var te=Ge(h,E,L,F);return-1<te?(E=h[te],k||(E.fa=!1)):(E=new ie(E,this.src,B,!!L,F),E.fa=k,h.push(E)),E};function X(h,E){var k=E.type;if(k in h.g){var L=h.g[k],F=Array.prototype.indexOf.call(L,E,void 0),B;(B=0<=F)&&Array.prototype.splice.call(L,F,1),B&&(me(E),h.g[k].length==0&&(delete h.g[k],h.h--))}}function Ge(h,E,k,L){for(var F=0;F<h.length;++F){var B=h[F];if(!B.da&&B.listener==E&&B.capture==!!k&&B.ha==L)return F}return-1}var Se="closure_lm_"+(1e6*Math.random()|0),st={};function ht(h,E,k,L,F){if(Array.isArray(E)){for(var B=0;B<E.length;B++)ht(h,E[B],k,L,F);return null}return k=Ru(k),h&&h[Bt]?h.K(E,k,u(L)?!!L.capture:!1,F):en(h,E,k,!1,L,F)}function en(h,E,k,L,F,B){if(!E)throw Error("Invalid event type");var te=u(F)?!!F.capture:!!F,ze=cs(h);if(ze||(h[Se]=ze=new ve(h)),k=ze.add(E,k,L,te,B),k.proxy)return k;if(L=Vr(),k.proxy=L,L.src=h,L.listener=k,h.addEventListener)Ce||(F=te),F===void 0&&(F=!1),h.addEventListener(E.toString(),L,F);else if(h.attachEvent)h.attachEvent(Fr(E.toString()),L);else if(h.addListener&&h.removeListener)h.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Vr(){function h(k){return E.call(h.src,h.listener,k)}const E=li;return h}function ai(h,E,k,L,F){if(Array.isArray(E))for(var B=0;B<E.length;B++)ai(h,E[B],k,L,F);else L=u(L)?!!L.capture:!!L,k=Ru(k),h&&h[Bt]?(h=h.i,E=String(E).toString(),E in h.g&&(B=h.g[E],k=Ge(B,k,L,F),-1<k&&(me(B[k]),Array.prototype.splice.call(B,k,1),B.length==0&&(delete h.g[E],h.h--)))):h&&(h=cs(h))&&(E=h.g[E.toString()],h=-1,E&&(h=Ge(E,k,L,F)),(k=-1<h?E[h]:null)&&Qi(k))}function Qi(h){if(typeof h!="number"&&h&&!h.da){var E=h.src;if(E&&E[Bt])X(E.i,h);else{var k=h.type,L=h.proxy;E.removeEventListener?E.removeEventListener(k,L,h.capture):E.detachEvent?E.detachEvent(Fr(k),L):E.addListener&&E.removeListener&&E.removeListener(L),(k=cs(E))?(X(k,h),k.h==0&&(k.src=null,E[Se]=null)):me(h)}}}function Fr(h){return h in st?st[h]:st[h]="on"+h}function li(h,E){if(h.da)h=!0;else{E=new De(E,this);var k=h.listener,L=h.ha||h.src;h.fa&&Qi(h),h=k.call(L,E)}return h}function cs(h){return h=h[Se],h instanceof ve?h:null}var ya="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ru(h){return typeof h=="function"?h:(h[ya]||(h[ya]=function(E){return h.handleEvent(E)}),h[ya])}function tn(){J.call(this),this.i=new ve(this),this.M=this,this.F=null}v(tn,J),tn.prototype[Bt]=!0,tn.prototype.removeEventListener=function(h,E,k,L){ai(this,h,E,k,L)};function _n(h,E){var k,L=h.F;if(L)for(k=[];L;L=L.F)k.push(L);if(h=h.M,L=E.type||E,typeof E=="string")E=new oe(E,h);else if(E instanceof oe)E.target=E.target||h;else{var F=E;E=new oe(L,h),N(E,F)}if(F=!0,k)for(var B=k.length-1;0<=B;B--){var te=E.g=k[B];F=Zd(te,L,!0,E)&&F}if(te=E.g=h,F=Zd(te,L,!0,E)&&F,F=Zd(te,L,!1,E)&&F,k)for(B=0;B<k.length;B++)te=E.g=k[B],F=Zd(te,L,!1,E)&&F}tn.prototype.N=function(){if(tn.aa.N.call(this),this.i){var h=this.i,E;for(E in h.g){for(var k=h.g[E],L=0;L<k.length;L++)me(k[L]);delete h.g[E],h.h--}}this.F=null},tn.prototype.K=function(h,E,k,L){return this.i.add(String(h),E,!1,k,L)},tn.prototype.L=function(h,E,k,L){return this.i.add(String(h),E,!0,k,L)};function Zd(h,E,k,L){if(E=h.i.g[String(E)],!E)return!0;E=E.concat();for(var F=!0,B=0;B<E.length;++B){var te=E[B];if(te&&!te.da&&te.capture==k){var ze=te.listener,zt=te.ha||te.src;te.fa&&X(h.i,te),F=ze.call(zt,L)!==!1&&F}}return F&&!L.defaultPrevented}function wA(h,E,k){if(typeof h=="function")k&&(h=d(h,k));else if(h&&typeof h.handleEvent=="function")h=d(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:a.setTimeout(h,E||0)}function TA(h){h.g=wA(()=>{h.g=null,h.i&&(h.i=!1,TA(h))},h.l);const E=h.h;h.h=null,h.m.apply(null,E)}class F5 extends J{constructor(E,k){super(),this.m=E,this.l=k,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:TA(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mu(h){J.call(this),this.h=h,this.g={}}v(Mu,J);var EA=[];function SA(h){I(h.g,function(E,k){this.g.hasOwnProperty(k)&&Qi(E)},h),h.g={}}Mu.prototype.N=function(){Mu.aa.N.call(this),SA(this)},Mu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cv=a.JSON.stringify,U5=a.JSON.parse,B5=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Iv(){}Iv.prototype.h=null;function AA(h){return h.h||(h.h=h.i())}function PA(){}var Du={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kv(){oe.call(this,"d")}v(kv,oe);function Ov(){oe.call(this,"c")}v(Ov,oe);var fs={},CA=null;function eh(){return CA=CA||new tn}fs.La="serverreachability";function IA(h){oe.call(this,fs.La,h)}v(IA,oe);function Lu(h){const E=eh();_n(E,new IA(E))}fs.STAT_EVENT="statevent";function kA(h,E){oe.call(this,fs.STAT_EVENT,h),this.stat=E}v(kA,oe);function bn(h){const E=eh();_n(E,new kA(E,h))}fs.Ma="timingevent";function OA(h,E){oe.call(this,fs.Ma,h),this.size=E}v(OA,oe);function ju(h,E){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},E)}function $u(){this.g=!0}$u.prototype.xa=function(){this.g=!1};function z5(h,E,k,L,F,B){h.info(function(){if(h.g)if(B)for(var te="",ze=B.split("&"),zt=0;zt<ze.length;zt++){var Ne=ze[zt].split("=");if(1<Ne.length){var nn=Ne[0];Ne=Ne[1];var rn=nn.split("_");te=2<=rn.length&&rn[1]=="type"?te+(nn+"="+Ne+"&"):te+(nn+"=redacted&")}}else te=null;else te=B;return"XMLHTTP REQ ("+L+") [attempt "+F+"]: "+E+`
`+k+`
`+te})}function q5(h,E,k,L,F,B,te){h.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+F+"]: "+E+`
`+k+`
`+B+" "+te})}function va(h,E,k,L){h.info(function(){return"XMLHTTP TEXT ("+E+"): "+W5(h,k)+(L?" "+L:"")})}function G5(h,E){h.info(function(){return"TIMEOUT: "+E})}$u.prototype.info=function(){};function W5(h,E){if(!h.g)return E;if(!E)return null;try{var k=JSON.parse(E);if(k){for(h=0;h<k.length;h++)if(Array.isArray(k[h])){var L=k[h];if(!(2>L.length)){var F=L[1];if(Array.isArray(F)&&!(1>F.length)){var B=F[0];if(B!="noop"&&B!="stop"&&B!="close")for(var te=1;te<F.length;te++)F[te]=""}}}}return Cv(k)}catch{return E}}var th={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},NA={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nv;function nh(){}v(nh,Iv),nh.prototype.g=function(){return new XMLHttpRequest},nh.prototype.i=function(){return{}},Nv=new nh;function Ji(h,E,k,L){this.j=h,this.i=E,this.l=k,this.R=L||1,this.U=new Mu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new RA}function RA(){this.i=null,this.g="",this.h=!1}var MA={},Rv={};function Mv(h,E,k){h.L=1,h.v=sh(ui(E)),h.m=k,h.P=!0,DA(h,null)}function DA(h,E){h.F=Date.now(),rh(h),h.A=ui(h.v);var k=h.A,L=h.R;Array.isArray(L)||(L=[String(L)]),YA(k.i,"t",L),h.C=0,k=h.j.J,h.h=new RA,h.g=h1(h.j,k?E:null,!h.m),0<h.O&&(h.M=new F5(d(h.Y,h,h.g),h.O)),E=h.U,k=h.g,L=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(EA[0]=F.toString()),F=EA);for(var B=0;B<F.length;B++){var te=ht(k,F[B],L||E.handleEvent,!1,E.h||E);if(!te)break;E.g[te.key]=te}E=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,E)):(h.u="GET",h.g.ea(h.A,h.u,null,E)),Lu(),z5(h.i,h.u,h.A,h.l,h.R,h.m)}Ji.prototype.ca=function(h){h=h.target;const E=this.M;E&&ci(h)==3?E.j():this.Y(h)},Ji.prototype.Y=function(h){try{if(h==this.g)e:{const rn=ci(this.g);var E=this.g.Ba();const ba=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||n1(this.g)))){this.J||rn!=4||E==7||(E==8||0>=ba?Lu(3):Lu(2)),Dv(this);var k=this.g.Z();this.X=k;t:if(LA(this)){var L=n1(this.g);h="";var F=L.length,B=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ds(this),Vu(this);var te="";break t}this.h.i=new a.TextDecoder}for(E=0;E<F;E++)this.h.h=!0,h+=this.h.i.decode(L[E],{stream:!(B&&E==F-1)});L.length=0,this.h.g+=h,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=k==200,q5(this.i,this.u,this.A,this.l,this.R,rn,k),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,zt=this.g;if((ze=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(ze)){var Ne=ze;break t}}Ne=null}if(k=Ne)va(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lv(this,k);else{this.o=!1,this.s=3,bn(12),ds(this),Vu(this);break e}}if(this.P){k=!0;let _r;for(;!this.J&&this.C<te.length;)if(_r=H5(this,te),_r==Rv){rn==4&&(this.s=4,bn(14),k=!1),va(this.i,this.l,null,"[Incomplete Response]");break}else if(_r==MA){this.s=4,bn(15),va(this.i,this.l,te,"[Invalid Chunk]"),k=!1;break}else va(this.i,this.l,_r,null),Lv(this,_r);if(LA(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||te.length!=0||this.h.h||(this.s=1,bn(16),k=!1),this.o=this.o&&k,!k)va(this.i,this.l,te,"[Invalid Chunked Response]"),ds(this),Vu(this);else if(0<te.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Bv(nn),nn.M=!0,bn(11))}}else va(this.i,this.l,te,null),Lv(this,te);rn==4&&ds(this),this.o&&!this.J&&(rn==4?u1(this.j,this):(this.o=!1,rh(this)))}else c3(this.g),k==400&&0<te.indexOf("Unknown SID")?(this.s=3,bn(12)):(this.s=0,bn(13)),ds(this),Vu(this)}}}catch{}finally{}};function LA(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function H5(h,E){var k=h.C,L=E.indexOf(`
`,k);return L==-1?Rv:(k=Number(E.substring(k,L)),isNaN(k)?MA:(L+=1,L+k>E.length?Rv:(E=E.slice(L,L+k),h.C=L+k,E)))}Ji.prototype.cancel=function(){this.J=!0,ds(this)};function rh(h){h.S=Date.now()+h.I,jA(h,h.I)}function jA(h,E){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ju(d(h.ba,h),E)}function Dv(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Ji.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(G5(this.i,this.A),this.L!=2&&(Lu(),bn(17)),ds(this),this.s=2,Vu(this)):jA(this,this.S-h)};function Vu(h){h.j.G==0||h.J||u1(h.j,h)}function ds(h){Dv(h);var E=h.M;E&&typeof E.ma=="function"&&E.ma(),h.M=null,SA(h.U),h.g&&(E=h.g,h.g=null,E.abort(),E.ma())}function Lv(h,E){try{var k=h.j;if(k.G!=0&&(k.g==h||jv(k.h,h))){if(!h.K&&jv(k.h,h)&&k.G==3){try{var L=k.Da.g.parse(E)}catch{L=null}if(Array.isArray(L)&&L.length==3){var F=L;if(F[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<h.F)dh(k),ch(k);else break e;Uv(k),bn(18)}}else k.za=F[1],0<k.za-k.T&&37500>F[2]&&k.F&&k.v==0&&!k.C&&(k.C=ju(d(k.Za,k),6e3));if(1>=FA(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else ps(k,11)}else if((h.K||k.g==h)&&dh(k),!w(E))for(F=k.Da.g.parse(E),E=0;E<F.length;E++){let Ne=F[E];if(k.T=Ne[0],Ne=Ne[1],k.G==2)if(Ne[0]=="c"){k.K=Ne[1],k.ia=Ne[2];const nn=Ne[3];nn!=null&&(k.la=nn,k.j.info("VER="+k.la));const rn=Ne[4];rn!=null&&(k.Aa=rn,k.j.info("SVER="+k.Aa));const ba=Ne[5];ba!=null&&typeof ba=="number"&&0<ba&&(L=1.5*ba,k.L=L,k.j.info("backChannelRequestTimeoutMs_="+L)),L=k;const _r=h.g;if(_r){const ph=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ph){var B=L.h;B.g||ph.indexOf("spdy")==-1&&ph.indexOf("quic")==-1&&ph.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&($v(B,B.h),B.h=null))}if(L.D){const zv=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;zv&&(L.ya=zv,Qe(L.I,L.D,zv))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-h.F,k.j.info("Handshake RTT: "+k.R+"ms")),L=k;var te=h;if(L.qa=d1(L,L.J?L.ia:null,L.W),te.K){UA(L.h,te);var ze=te,zt=L.L;zt&&(ze.I=zt),ze.B&&(Dv(ze),rh(ze)),L.g=te}else a1(L);0<k.i.length&&fh(k)}else Ne[0]!="stop"&&Ne[0]!="close"||ps(k,7);else k.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?ps(k,7):Fv(k):Ne[0]!="noop"&&k.l&&k.l.ta(Ne),k.v=0)}}Lu(4)}catch{}}var K5=class{constructor(h,E){this.g=h,this.map=E}};function $A(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function VA(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function FA(h){return h.h?1:h.g?h.g.size:0}function jv(h,E){return h.h?h.h==E:h.g?h.g.has(E):!1}function $v(h,E){h.g?h.g.add(E):h.h=E}function UA(h,E){h.h&&h.h==E?h.h=null:h.g&&h.g.has(E)&&h.g.delete(E)}$A.prototype.cancel=function(){if(this.i=BA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function BA(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let E=h.i;for(const k of h.g.values())E=E.concat(k.D);return E}return x(h.i)}function Y5(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var E=[],k=h.length,L=0;L<k;L++)E.push(h[L]);return E}E=[],k=0;for(L in h)E[k++]=h[L];return E}function X5(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var E=[];h=h.length;for(var k=0;k<h;k++)E.push(k);return E}E=[],k=0;for(const L in h)E[k++]=L;return E}}}function zA(h,E){if(h.forEach&&typeof h.forEach=="function")h.forEach(E,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,E,void 0);else for(var k=X5(h),L=Y5(h),F=L.length,B=0;B<F;B++)E.call(void 0,L[B],k&&k[B],h)}var qA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Q5(h,E){if(h){h=h.split("&");for(var k=0;k<h.length;k++){var L=h[k].indexOf("="),F=null;if(0<=L){var B=h[k].substring(0,L);F=h[k].substring(L+1)}else B=h[k];E(B,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function hs(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof hs){this.h=h.h,ih(this,h.j),this.o=h.o,this.g=h.g,oh(this,h.s),this.l=h.l;var E=h.i,k=new Bu;k.i=E.i,E.g&&(k.g=new Map(E.g),k.h=E.h),GA(this,k),this.m=h.m}else h&&(E=String(h).match(qA))?(this.h=!1,ih(this,E[1]||"",!0),this.o=Fu(E[2]||""),this.g=Fu(E[3]||"",!0),oh(this,E[4]),this.l=Fu(E[5]||"",!0),GA(this,E[6]||"",!0),this.m=Fu(E[7]||"")):(this.h=!1,this.i=new Bu(null,this.h))}hs.prototype.toString=function(){var h=[],E=this.j;E&&h.push(Uu(E,WA,!0),":");var k=this.g;return(k||E=="file")&&(h.push("//"),(E=this.o)&&h.push(Uu(E,WA,!0),"@"),h.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&h.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&h.push("/"),h.push(Uu(k,k.charAt(0)=="/"?e3:Z5,!0))),(k=this.i.toString())&&h.push("?",k),(k=this.m)&&h.push("#",Uu(k,n3)),h.join("")};function ui(h){return new hs(h)}function ih(h,E,k){h.j=k?Fu(E,!0):E,h.j&&(h.j=h.j.replace(/:$/,""))}function oh(h,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);h.s=E}else h.s=null}function GA(h,E,k){E instanceof Bu?(h.i=E,r3(h.i,h.h)):(k||(E=Uu(E,t3)),h.i=new Bu(E,h.h))}function Qe(h,E,k){h.i.set(E,k)}function sh(h){return Qe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Fu(h,E){return h?E?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Uu(h,E,k){return typeof h=="string"?(h=encodeURI(h).replace(E,J5),k&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function J5(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var WA=/[#\/\?@]/g,Z5=/[#\?:]/g,e3=/[#\?]/g,t3=/[#\?@]/g,n3=/#/g;function Bu(h,E){this.h=this.g=null,this.i=h||null,this.j=!!E}function Zi(h){h.g||(h.g=new Map,h.h=0,h.i&&Q5(h.i,function(E,k){h.add(decodeURIComponent(E.replace(/\+/g," ")),k)}))}t=Bu.prototype,t.add=function(h,E){Zi(this),this.i=null,h=xa(this,h);var k=this.g.get(h);return k||this.g.set(h,k=[]),k.push(E),this.h+=1,this};function HA(h,E){Zi(h),E=xa(h,E),h.g.has(E)&&(h.i=null,h.h-=h.g.get(E).length,h.g.delete(E))}function KA(h,E){return Zi(h),E=xa(h,E),h.g.has(E)}t.forEach=function(h,E){Zi(this),this.g.forEach(function(k,L){k.forEach(function(F){h.call(E,F,L,this)},this)},this)},t.na=function(){Zi(this);const h=Array.from(this.g.values()),E=Array.from(this.g.keys()),k=[];for(let L=0;L<E.length;L++){const F=h[L];for(let B=0;B<F.length;B++)k.push(E[L])}return k},t.V=function(h){Zi(this);let E=[];if(typeof h=="string")KA(this,h)&&(E=E.concat(this.g.get(xa(this,h))));else{h=Array.from(this.g.values());for(let k=0;k<h.length;k++)E=E.concat(h[k])}return E},t.set=function(h,E){return Zi(this),this.i=null,h=xa(this,h),KA(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[E]),this.h+=1,this},t.get=function(h,E){return h?(h=this.V(h),0<h.length?String(h[0]):E):E};function YA(h,E,k){HA(h,E),0<k.length&&(h.i=null,h.g.set(xa(h,E),x(k)),h.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],E=Array.from(this.g.keys());for(var k=0;k<E.length;k++){var L=E[k];const B=encodeURIComponent(String(L)),te=this.V(L);for(L=0;L<te.length;L++){var F=B;te[L]!==""&&(F+="="+encodeURIComponent(String(te[L]))),h.push(F)}}return this.i=h.join("&")};function xa(h,E){return E=String(E),h.j&&(E=E.toLowerCase()),E}function r3(h,E){E&&!h.j&&(Zi(h),h.i=null,h.g.forEach(function(k,L){var F=L.toLowerCase();L!=F&&(HA(this,L),YA(this,F,k))},h)),h.j=E}function i3(h,E){const k=new $u;if(a.Image){const L=new Image;L.onload=p(eo,k,"TestLoadImage: loaded",!0,E,L),L.onerror=p(eo,k,"TestLoadImage: error",!1,E,L),L.onabort=p(eo,k,"TestLoadImage: abort",!1,E,L),L.ontimeout=p(eo,k,"TestLoadImage: timeout",!1,E,L),a.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=h}else E(!1)}function o3(h,E){const k=new $u,L=new AbortController,F=setTimeout(()=>{L.abort(),eo(k,"TestPingServer: timeout",!1,E)},1e4);fetch(h,{signal:L.signal}).then(B=>{clearTimeout(F),B.ok?eo(k,"TestPingServer: ok",!0,E):eo(k,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(F),eo(k,"TestPingServer: error",!1,E)})}function eo(h,E,k,L,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),L(k)}catch{}}function s3(){this.g=new B5}function a3(h,E,k){const L=k||"";try{zA(h,function(F,B){let te=F;u(F)&&(te=Cv(F)),E.push(L+B+"="+encodeURIComponent(te))})}catch(F){throw E.push(L+"type="+encodeURIComponent("_badmap")),F}}function ah(h){this.l=h.Ub||null,this.j=h.eb||!1}v(ah,Iv),ah.prototype.g=function(){return new lh(this.l,this.j)},ah.prototype.i=function(h){return function(){return h}}({});function lh(h,E){tn.call(this),this.D=h,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(lh,tn),t=lh.prototype,t.open=function(h,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=E,this.readyState=1,qu(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(E.body=h),(this.D||a).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zu(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,qu(this)),this.g&&(this.readyState=3,qu(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;XA(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function XA(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var E=h.value?h.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!h.done}))&&(this.response=this.responseText+=E)}h.done?zu(this):qu(this),this.readyState==3&&XA(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,zu(this))},t.Qa=function(h){this.g&&(this.response=h,zu(this))},t.ga=function(){this.g&&zu(this)};function zu(h){h.readyState=4,h.l=null,h.j=null,h.v=null,qu(h)}t.setRequestHeader=function(h,E){this.u.append(h,E)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],E=this.h.entries();for(var k=E.next();!k.done;)k=k.value,h.push(k[0]+": "+k[1]),k=E.next();return h.join(`\r
`)};function qu(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(lh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function QA(h){let E="";return I(h,function(k,L){E+=L,E+=":",E+=k,E+=`\r
`}),E}function Vv(h,E,k){e:{for(L in k){var L=!1;break e}L=!0}L||(k=QA(k),typeof h=="string"?k!=null&&encodeURIComponent(String(k)):Qe(h,E,k))}function pt(h){tn.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(pt,tn);var l3=/^https?$/i,u3=["POST","PUT"];t=pt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,E,k,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);E=E?E.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nv.g(),this.v=this.o?AA(this.o):AA(Nv),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(E,String(h),!0),this.B=!1}catch(B){JA(this,B);return}if(h=k||"",k=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var F in L)k.set(F,L[F]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const B of L.keys())k.set(B,L.get(B));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(k.keys()).find(B=>B.toLowerCase()=="content-type"),F=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(u3,E,void 0))||L||F||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of k)this.g.setRequestHeader(B,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{t1(this),this.u=!0,this.g.send(h),this.u=!1}catch(B){JA(this,B)}};function JA(h,E){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=E,h.m=5,ZA(h),uh(h)}function ZA(h){h.A||(h.A=!0,_n(h,"complete"),_n(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,_n(this,"complete"),_n(this,"abort"),uh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),uh(this,!0)),pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?e1(this):this.bb())},t.bb=function(){e1(this)};function e1(h){if(h.h&&typeof s<"u"&&(!h.v[1]||ci(h)!=4||h.Z()!=2)){if(h.u&&ci(h)==4)wA(h.Ea,0,h);else if(_n(h,"readystatechange"),ci(h)==4){h.h=!1;try{const te=h.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var k;if(!(k=E)){var L;if(L=te===0){var F=String(h.D).match(qA)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),L=!l3.test(F?F.toLowerCase():"")}k=L}if(k)_n(h,"complete"),_n(h,"success");else{h.m=6;try{var B=2<ci(h)?h.g.statusText:""}catch{B=""}h.l=B+" ["+h.Z()+"]",ZA(h)}}finally{uh(h)}}}}function uh(h,E){if(h.g){t1(h);const k=h.g,L=h.v[0]?()=>{}:null;h.g=null,h.v=null,E||_n(h,"ready");try{k.onreadystatechange=L}catch{}}}function t1(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function ci(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var E=this.g.responseText;return h&&E.indexOf(h)==0&&(E=E.substring(h.length)),U5(E)}};function n1(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function c3(h){const E={};h=(h.g&&2<=ci(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<h.length;L++){if(w(h[L]))continue;var k=R(h[L]);const F=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const B=E[F]||[];E[F]=B,B.push(k)}P(E,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gu(h,E,k){return k&&k.internalChannelParams&&k.internalChannelParams[h]||E}function r1(h){this.Aa=0,this.i=[],this.j=new $u,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gu("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gu("baseRetryDelayMs",5e3,h),this.cb=Gu("retryDelaySeedMs",1e4,h),this.Wa=Gu("forwardChannelMaxRetries",2,h),this.wa=Gu("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new $A(h&&h.concurrentRequestLimit),this.Da=new s3,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=r1.prototype,t.la=8,t.G=1,t.connect=function(h,E,k,L){bn(0),this.W=h,this.H=E||{},k&&L!==void 0&&(this.H.OSID=k,this.H.OAID=L),this.F=this.X,this.I=d1(this,null,this.W),fh(this)};function Fv(h){if(i1(h),h.G==3){var E=h.U++,k=ui(h.I);if(Qe(k,"SID",h.K),Qe(k,"RID",E),Qe(k,"TYPE","terminate"),Wu(h,k),E=new Ji(h,h.j,E),E.L=2,E.v=sh(ui(k)),k=!1,a.navigator&&a.navigator.sendBeacon)try{k=a.navigator.sendBeacon(E.v.toString(),"")}catch{}!k&&a.Image&&(new Image().src=E.v,k=!0),k||(E.g=h1(E.j,null),E.g.ea(E.v)),E.F=Date.now(),rh(E)}f1(h)}function ch(h){h.g&&(Bv(h),h.g.cancel(),h.g=null)}function i1(h){ch(h),h.u&&(a.clearTimeout(h.u),h.u=null),dh(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function fh(h){if(!VA(h.h)&&!h.s){h.s=!0;var E=h.Ga;W||Y(),V||(W(),V=!0),q.add(E,h),h.B=0}}function f3(h,E){return FA(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=E.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ju(d(h.Ga,h,E),c1(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new Ji(this,this.j,h);let B=this.o;if(this.S&&(B?(B=A(B),N(B,this.S)):B=this.S),this.m!==null||this.O||(F.H=B,B=null),this.P)e:{for(var E=0,k=0;k<this.i.length;k++){t:{var L=this.i[k];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(E+=L,4096<E){E=k;break e}if(E===4096||k===this.i.length-1){E=k+1;break e}}E=1e3}else E=1e3;E=s1(this,F,E),k=ui(this.I),Qe(k,"RID",h),Qe(k,"CVER",22),this.D&&Qe(k,"X-HTTP-Session-Id",this.D),Wu(this,k),B&&(this.O?E="headers="+encodeURIComponent(String(QA(B)))+"&"+E:this.m&&Vv(k,this.m,B)),$v(this.h,F),this.Ua&&Qe(k,"TYPE","init"),this.P?(Qe(k,"$req",E),Qe(k,"SID","null"),F.T=!0,Mv(F,k,null)):Mv(F,k,E),this.G=2}}else this.G==3&&(h?o1(this,h):this.i.length==0||VA(this.h)||o1(this))};function o1(h,E){var k;E?k=E.l:k=h.U++;const L=ui(h.I);Qe(L,"SID",h.K),Qe(L,"RID",k),Qe(L,"AID",h.T),Wu(h,L),h.m&&h.o&&Vv(L,h.m,h.o),k=new Ji(h,h.j,k,h.B+1),h.m===null&&(k.H=h.o),E&&(h.i=E.D.concat(h.i)),E=s1(h,k,1e3),k.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),$v(h.h,k),Mv(k,L,E)}function Wu(h,E){h.H&&I(h.H,function(k,L){Qe(E,L,k)}),h.l&&zA({},function(k,L){Qe(E,L,k)})}function s1(h,E,k){k=Math.min(h.i.length,k);var L=h.l?d(h.l.Na,h.l,h):null;e:{var F=h.i;let B=-1;for(;;){const te=["count="+k];B==-1?0<k?(B=F[0].g,te.push("ofs="+B)):B=0:te.push("ofs="+B);let ze=!0;for(let zt=0;zt<k;zt++){let Ne=F[zt].g;const nn=F[zt].map;if(Ne-=B,0>Ne)B=Math.max(0,F[zt].g-100),ze=!1;else try{a3(nn,te,"req"+Ne+"_")}catch{L&&L(nn)}}if(ze){L=te.join("&");break e}}}return h=h.i.splice(0,k),E.D=h,L}function a1(h){if(!h.g&&!h.u){h.Y=1;var E=h.Fa;W||Y(),V||(W(),V=!0),q.add(E,h),h.v=0}}function Uv(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ju(d(h.Fa,h),c1(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,l1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ju(d(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bn(10),ch(this),l1(this))};function Bv(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function l1(h){h.g=new Ji(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var E=ui(h.qa);Qe(E,"RID","rpc"),Qe(E,"SID",h.K),Qe(E,"AID",h.T),Qe(E,"CI",h.F?"0":"1"),!h.F&&h.ja&&Qe(E,"TO",h.ja),Qe(E,"TYPE","xmlhttp"),Wu(h,E),h.m&&h.o&&Vv(E,h.m,h.o),h.L&&(h.g.I=h.L);var k=h.g;h=h.ia,k.L=1,k.v=sh(ui(E)),k.m=null,k.P=!0,DA(k,h)}t.Za=function(){this.C!=null&&(this.C=null,ch(this),Uv(this),bn(19))};function dh(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function u1(h,E){var k=null;if(h.g==E){dh(h),Bv(h),h.g=null;var L=2}else if(jv(h.h,E))k=E.D,UA(h.h,E),L=1;else return;if(h.G!=0){if(E.o)if(L==1){k=E.m?E.m.length:0,E=Date.now()-E.F;var F=h.B;L=eh(),_n(L,new OA(L,k)),fh(h)}else a1(h);else if(F=E.s,F==3||F==0&&0<E.X||!(L==1&&f3(h,E)||L==2&&Uv(h)))switch(k&&0<k.length&&(E=h.h,E.i=E.i.concat(k)),F){case 1:ps(h,5);break;case 4:ps(h,10);break;case 3:ps(h,6);break;default:ps(h,2)}}}function c1(h,E){let k=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(k*=2),k*E}function ps(h,E){if(h.j.info("Error code "+E),E==2){var k=d(h.fb,h),L=h.Xa;const F=!L;L=new hs(L||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ih(L,"https"),sh(L),F?i3(L.toString(),k):o3(L.toString(),k)}else bn(2);h.G=0,h.l&&h.l.sa(E),f1(h),i1(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),bn(2)):(this.j.info("Failed to ping google.com"),bn(1))};function f1(h){if(h.G=0,h.ka=[],h.l){const E=BA(h.h);(E.length!=0||h.i.length!=0)&&(_(h.ka,E),_(h.ka,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.ra()}}function d1(h,E,k){var L=k instanceof hs?ui(k):new hs(k);if(L.g!="")E&&(L.g=E+"."+L.g),oh(L,L.s);else{var F=a.location;L=F.protocol,E=E?E+"."+F.hostname:F.hostname,F=+F.port;var B=new hs(null);L&&ih(B,L),E&&(B.g=E),F&&oh(B,F),k&&(B.l=k),L=B}return k=h.D,E=h.ya,k&&E&&Qe(L,k,E),Qe(L,"VER",h.la),Wu(h,L),L}function h1(h,E,k){if(E&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=h.Ca&&!h.pa?new pt(new ah({eb:k})):new pt(h.pa),E.Ha(h.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function p1(){}t=p1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hh(){}hh.prototype.g=function(h,E){return new Fn(h,E)};function Fn(h,E){tn.call(this),this.g=new r1(E),this.l=h,this.h=E&&E.messageUrlParams||null,h=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(h?h["X-WebChannel-Content-Type"]=E.messageContentType:h={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(h?h["X-WebChannel-Client-Profile"]=E.va:h={"X-WebChannel-Client-Profile":E.va}),this.g.S=h,(h=E&&E.Sb)&&!w(h)&&(this.g.m=h),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!w(E)&&(this.g.D=E,h=this.h,h!==null&&E in h&&(h=this.h,E in h&&delete h[E])),this.j=new _a(this)}v(Fn,tn),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){Fv(this.g)},Fn.prototype.o=function(h){var E=this.g;if(typeof h=="string"){var k={};k.__data__=h,h=k}else this.u&&(k={},k.__data__=Cv(h),h=k);E.i.push(new K5(E.Ya++,h)),E.G==3&&fh(E)},Fn.prototype.N=function(){this.g.l=null,delete this.j,Fv(this.g),delete this.g,Fn.aa.N.call(this)};function m1(h){kv.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var E=h.__sm__;if(E){e:{for(const k in E){h=k;break e}h=void 0}(this.i=h)&&(h=this.i,E=E!==null&&h in E?E[h]:void 0),this.data=E}else this.data=h}v(m1,kv);function g1(){Ov.call(this),this.status=1}v(g1,Ov);function _a(h){this.g=h}v(_a,p1),_a.prototype.ua=function(){_n(this.g,"a")},_a.prototype.ta=function(h){_n(this.g,new m1(h))},_a.prototype.sa=function(h){_n(this.g,new g1)},_a.prototype.ra=function(){_n(this.g,"b")},hh.prototype.createWebChannel=hh.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,NV=function(){return new hh},OV=function(){return eh()},kV=fs,W_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},th.NO_ERROR=0,th.TIMEOUT=8,th.HTTP_ERROR=6,Pp=th,NA.COMPLETE="complete",IV=NA,PA.EventType=Du,Du.OPEN="a",Du.CLOSE="b",Du.ERROR="c",Du.MESSAGE="d",tn.prototype.listen=tn.prototype.K,Ec=PA,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,CV=pt}).apply(typeof Uh<"u"?Uh:typeof self<"u"?self:typeof window<"u"?window:{});const Rk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new hE("@firebase/firestore");function nc(){return Qs.logLevel}function le(t,...e){if(Qs.logLevel<=Ie.DEBUG){const n=e.map(SE);Qs.debug(`Firestore (${gu}): ${t}`,...n)}}function ji(t,...e){if(Qs.logLevel<=Ie.ERROR){const n=e.map(SE);Qs.error(`Firestore (${gu}): ${t}`,...n)}}function Cl(t,...e){if(Qs.logLevel<=Ie.WARN){const n=e.map(SE);Qs.warn(`Firestore (${gu}): ${t}`,...n)}}function SE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${gu}) INTERNAL ASSERTION FAILED: `+t;throw ji(e),new Error(e)}function Ve(t,e){t||ye()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(fn.UNAUTHENTICATED))}shutdown(){}}class Lte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jte{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Pi,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Pi)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string"),new RV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new fn(e)}}class $te{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Vte{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new $te(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fte{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ute{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ve(this.o===void 0);const r=o=>{o.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,le("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new Fte(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bte(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Bte(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function Il(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ne(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Mt(0,0))}static max(){return new xe(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(),r===void 0?r=e.length-n:r>e.length-n&&ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ke extends Pf{construct(e,n,r){return new Ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ke(n)}static emptyPath(){return new Ke([])}}const zte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Pf{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return zte.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ne(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ne(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ne(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(Ke.fromString(e))}static fromName(e){return new ce(Ke.fromString(e).popFirst(5))}static empty(){return new ce(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new Ke(e.slice()))}}function qte(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=xe.fromTimestamp(r===1e9?new Mt(n+1,0):new Mt(n,r));return new zo(i,ce.empty(),e)}function Gte(t){return new zo(t.readTime,t.key,-1)}class zo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zo(xe.min(),ce.empty(),-1)}static max(){return new zo(xe.max(),ce.empty(),-1)}}function Wte(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Md(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==Hte)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new Q((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Yte(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Dd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}AE.oe=-1;function py(t){return t==null}function Am(t){return t===0&&1/t==-1/0}function Xte(t){return typeof t=="number"&&Number.isInteger(t)&&!Am(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bh(this.root,e,this.comparator,!0)}}class Bh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ht.RED,this.left=i??Ht.EMPTY,this.right=o??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ht(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dk(this.data.getIterator())}getIteratorFrom(e){return new Dk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class Dk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new Xt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Il(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new LV("Invalid base64 string: "+o):o}}(e);return new Jt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const Qte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qo(t){if(Ve(!!t),typeof t=="string"){let e=0;const n=Qte.exec(t);if(Ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Js(t){return typeof t=="string"?Jt.fromBase64String(t):Jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function PE(t){const e=t.mapValue.fields.__previous_value__;return my(e)?PE(e):e}function Cf(t){const e=qo(t.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jte{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class If{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new If("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof If&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh={mapValue:{}};function Zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?my(t)?4:ene(t)?9007199254740991:Zte(t)?10:11:ye()}function ni(t,e){if(t===e)return!0;const n=Zs(t);if(n!==Zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cf(t).isEqual(Cf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=qo(i.timestampValue),a=qo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Js(i.bytesValue).isEqual(Js(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return _t(i.geoPointValue.latitude)===_t(o.geoPointValue.latitude)&&_t(i.geoPointValue.longitude)===_t(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return _t(i.integerValue)===_t(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=_t(i.doubleValue),a=_t(o.doubleValue);return s===a?Am(s)===Am(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Il(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Mk(s)!==Mk(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ni(s[l],a[l])))return!1;return!0}(t,e);default:return ye()}}function kf(t,e){return(t.values||[]).find(n=>ni(n,e))!==void 0}function kl(t,e){if(t===e)return 0;const n=Zs(t),r=Zs(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=_t(o.integerValue||o.doubleValue),l=_t(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Lk(t.timestampValue,e.timestampValue);case 4:return Lk(Cf(t),Cf(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Js(o),l=Js(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Re(a[u],l[u]);if(c!==0)return c}return Re(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Re(_t(o.latitude),_t(s.latitude));return a!==0?a:Re(_t(o.longitude),_t(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return jk(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const f=o.fields||{},d=s.fields||{},p=(a=f.value)===null||a===void 0?void 0:a.arrayValue,v=(l=d.value)===null||l===void 0?void 0:l.arrayValue,x=Re(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0);return x!==0?x:jk(p,v)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===zh.mapValue&&s===zh.mapValue)return 0;if(o===zh.mapValue)return 1;if(s===zh.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=Re(l[f],c[f]);if(d!==0)return d;const p=kl(a[l[f]],u[c[f]]);if(p!==0)return p}return Re(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ye()}}function Lk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=qo(t),r=qo(e),i=Re(n.seconds,r.seconds);return i!==0?i:Re(n.nanos,r.nanos)}function jk(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=kl(n[i],r[i]);if(o)return o}return Re(n.length,r.length)}function Ol(t){return H_(t)}function H_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Js(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=H_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${H_(n.fields[s])}`;return i+"}"}(t.mapValue):ye()}function Pm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function K_(t){return!!t&&"integerValue"in t}function CE(t){return!!t&&"arrayValue"in t}function $k(t){return!!t&&"nullValue"in t}function Vk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cp(t){return!!t&&"mapValue"in t}function Zte(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function zc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ene(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zc(n)}setAll(e){let n=Kt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=zc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Cp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Cp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fa(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new On(zc(this.value))}}function jV(t){const e=[];return fa(t.fields,(n,r)=>{const i=new Kt([n]);if(Cp(r)){const o=jV(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new hn(e,0,xe.min(),xe.min(),xe.min(),On.empty(),0)}static newFoundDocument(e,n,r,i){return new hn(e,1,n,xe.min(),r,i,0)}static newNoDocument(e,n){return new hn(e,2,n,xe.min(),xe.min(),On.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,xe.min(),xe.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n){this.position=e,this.inclusive=n}}function Fk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ce.comparator(ce.fromName(s.referenceValue),n.key):r=kl(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Uk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n="asc"){this.field=e,this.dir=n}}function tne(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{}class At extends $V{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rne(e,n,r):n==="array-contains"?new sne(e,r):n==="in"?new ane(e,r):n==="not-in"?new lne(e,r):n==="array-contains-any"?new une(e,r):new At(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ine(e,r):new one(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(kl(n,this.value)):n!==null&&Zs(this.value)===Zs(n)&&this.matchesComparison(kl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends $V{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Dr(e,n)}matches(e){return VV(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function VV(t){return t.op==="and"}function FV(t){return nne(t)&&VV(t)}function nne(t){for(const e of t.filters)if(e instanceof Dr)return!1;return!0}function Y_(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+Ol(t.value);if(FV(t))return t.filters.map(e=>Y_(e)).join(",");{const e=t.filters.map(n=>Y_(n)).join(",");return`${t.op}(${e})`}}function UV(t,e){return t instanceof At?function(r,i){return i instanceof At&&r.op===i.op&&r.field.isEqual(i.field)&&ni(r.value,i.value)}(t,e):t instanceof Dr?function(r,i){return i instanceof Dr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&UV(s,i.filters[a]),!0):!1}(t,e):void ye()}function BV(t){return t instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${Ol(n.value)}`}(t):t instanceof Dr?function(n){return n.op.toString()+" {"+n.getFilters().map(BV).join(" ,")+"}"}(t):"Filter"}class rne extends At{constructor(e,n,r){super(e,n,r),this.key=ce.fromName(r.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class ine extends At{constructor(e,n){super(e,"in",n),this.keys=zV("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class one extends At{constructor(e,n){super(e,"not-in",n),this.keys=zV("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zV(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ce.fromName(r.referenceValue))}class sne extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return CE(n)&&kf(n.arrayValue,this.value)}}class ane extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&kf(this.value.arrayValue,n)}}class lne extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(kf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!kf(this.value.arrayValue,n)}}class une extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!CE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>kf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cne{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function Bk(t,e=null,n=[],r=[],i=null,o=null,s=null){return new cne(t,e,n,r,i,o,s)}function IE(t){const e=_e(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Y_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),py(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ol(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ol(r)).join(",")),e.ue=n}return e.ue}function kE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tne(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Uk(t.startAt,e.startAt)&&Uk(t.endAt,e.endAt)}function X_(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function fne(t,e,n,r,i,o,s,a){return new rs(t,e,n,r,i,o,s,a)}function gy(t){return new rs(t)}function zk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OE(t){return t.collectionGroup!==null}function cl(t){const e=_e(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Xt(Kt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Of(o,r))}),n.has(Kt.keyField().canonicalString())||e.ce.push(new Of(Kt.keyField(),r))}return e.ce}function Jr(t){const e=_e(t);return e.le||(e.le=dne(e,cl(t))),e.le}function dne(t,e){if(t.limitType==="F")return Bk(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Of(i.field,o)});const n=t.endAt?new Nl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Nl(t.startAt.position,t.startAt.inclusive):null;return Bk(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Q_(t,e){const n=t.filters.concat([e]);return new rs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cm(t,e,n){return new rs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yy(t,e){return kE(Jr(t),Jr(e))&&t.limitType===e.limitType}function qV(t){return`${IE(Jr(t))}|lt:${t.limitType}`}function Aa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>BV(i)).join(", ")}]`),py(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ol(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ol(i)).join(",")),`Target(${r})`}(Jr(t))}; limitType=${t.limitType})`}function vy(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ce.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of cl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=Fk(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,cl(r),i)||r.endAt&&!function(s,a,l){const u=Fk(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,cl(r),i))}(t,e)}function hne(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GV(t){return(e,n)=>{let r=!1;for(const i of cl(t)){const o=pne(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function pne(t,e,n){const r=t.field.isKeyField()?ce.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?kl(l,u):ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fa(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return DV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mne=new dt(ce.comparator);function $i(){return mne}const WV=new dt(ce.comparator);function Sc(...t){let e=WV;for(const n of t)e=e.insert(n.key,n);return e}function HV(t){let e=WV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ns(){return qc()}function KV(){return qc()}function qc(){return new yu(t=>t.toString(),(t,e)=>t.isEqual(e))}const gne=new dt(ce.comparator),yne=new Xt(ce.comparator);function Pe(...t){let e=yne;for(const n of t)e=e.add(n);return e}const vne=new Xt(Re);function xne(){return vne}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Am(e)?"-0":e}}function YV(t){return{integerValue:""+t}}function _ne(t,e){return Xte(e)?YV(e):NE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(){this._=void 0}}function bne(t,e,n){return t instanceof Nf?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&my(o)&&(o=PE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Rf?QV(t,e):t instanceof Mf?JV(t,e):function(i,o){const s=XV(i,o),a=qk(s)+qk(i.Pe);return K_(s)&&K_(i.Pe)?YV(a):NE(i.serializer,a)}(t,e)}function wne(t,e,n){return t instanceof Rf?QV(t,e):t instanceof Mf?JV(t,e):n}function XV(t,e){return t instanceof Im?function(r){return K_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Nf extends xy{}class Rf extends xy{constructor(e){super(),this.elements=e}}function QV(t,e){const n=ZV(e);for(const r of t.elements)n.some(i=>ni(i,r))||n.push(r);return{arrayValue:{values:n}}}class Mf extends xy{constructor(e){super(),this.elements=e}}function JV(t,e){let n=ZV(e);for(const r of t.elements)n=n.filter(i=>!ni(i,r));return{arrayValue:{values:n}}}class Im extends xy{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function qk(t){return _t(t.integerValue||t.doubleValue)}function ZV(t){return CE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tne{constructor(e,n){this.field=e,this.transform=n}}function Ene(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Rf&&i instanceof Rf||r instanceof Mf&&i instanceof Mf?Il(r.elements,i.elements,ni):r instanceof Im&&i instanceof Im?ni(r.Pe,i.Pe):r instanceof Nf&&i instanceof Nf}(t.transform,e.transform)}class Sne{constructor(e,n){this.version=e,this.transformResults=n}}class Or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ip(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _y{}function eF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nF(t.key,Or.none()):new Ld(t.key,t.data,Or.none());{const n=t.data,r=On.empty();let i=new Xt(Kt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new is(t.key,r,new Wn(i.toArray()),Or.none())}}function Ane(t,e,n){t instanceof Ld?function(i,o,s){const a=i.value.clone(),l=Wk(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof is?function(i,o,s){if(!Ip(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Wk(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(tF(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Gc(t,e,n,r){return t instanceof Ld?function(o,s,a,l){if(!Ip(o.precondition,s))return a;const u=o.value.clone(),c=Hk(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof is?function(o,s,a,l){if(!Ip(o.precondition,s))return a;const u=Hk(o.fieldTransforms,l,s),c=s.data;return c.setAll(tF(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Ip(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Pne(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=XV(r.transform,i||null);o!=null&&(n===null&&(n=On.empty()),n.set(r.field,o))}return n||null}function Gk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Il(r,i,(o,s)=>Ene(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ld extends _y{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class is extends _y{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function tF(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Wk(t,e,n){const r=new Map;Ve(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,wne(s,a,n[i]))}return r}function Hk(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,bne(o,s,e))}return r}class nF extends _y{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cne extends _y{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ine{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Ane(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KV();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=eF(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Il(this.mutations,e.mutations,(n,r)=>Gk(n,r))&&Il(this.baseMutations,e.baseMutations,(n,r)=>Gk(n,r))}}class RE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ve(e.mutations.length===r.length);let i=function(){return gne}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new RE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kne{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class One{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,ke;function Nne(t){switch(t){default:return ye();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function rF(t){if(t===void 0)return ji("GRPC error has no .code"),H.UNKNOWN;switch(t){case wt.OK:return H.OK;case wt.CANCELLED:return H.CANCELLED;case wt.UNKNOWN:return H.UNKNOWN;case wt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case wt.INTERNAL:return H.INTERNAL;case wt.UNAVAILABLE:return H.UNAVAILABLE;case wt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case wt.NOT_FOUND:return H.NOT_FOUND;case wt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case wt.ABORTED:return H.ABORTED;case wt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case wt.DATA_LOSS:return H.DATA_LOSS;default:return ye()}}(ke=wt||(wt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rne(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mne=new Fs([4294967295,4294967295],0);function Kk(t){const e=Rne().encode(t),n=new PV;return n.update(e),new Uint8Array(n.digest())}function Yk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Fs([n,r],0),new Fs([i,o],0)]}class ME{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ac(`Invalid padding: ${n}`);if(r<0)throw new Ac(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ac(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ac(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Fs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Fs.fromNumber(r)));return i.compare(Mne)===1&&(i=new Fs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Kk(e),[r,i]=Yk(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new ME(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=Kk(e),[r,i]=Yk(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,jd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new by(xe.min(),i,new dt(Re),$i(),Pe())}}class jd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jd(r,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class iF{constructor(e,n){this.targetId=e,this.me=n}}class oF{constructor(e,n,r=Jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Xk{constructor(){this.fe=0,this.ge=Jk(),this.pe=Jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Pe(),n=Pe(),r=Pe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ye()}}),new jd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Jk()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Dne{constructor(e){this.Le=e,this.Be=new Map,this.ke=$i(),this.qe=Qk(),this.Qe=new dt(Re)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(X_(o))if(r===0){const s=new ce(o.path);this.Ue(n,s,hn.newNoDocument(s,xe.min()))}else Ve(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Js(r).toUint8Array()}catch(l){if(l instanceof LV)return Cl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ME(s,i,o)}catch(l){return Cl(l instanceof Ac?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&X_(a.target)){const l=new ce(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,hn.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Pe();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new by(e,n,this.Qe,this.ke,r);return this.ke=$i(),this.qe=Qk(),this.Qe=new dt(Re),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Xk,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Xt(Re),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Xk),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Qk(){return new dt(ce.comparator)}function Jk(){return new dt(ce.comparator)}const Lne={asc:"ASCENDING",desc:"DESCENDING"},jne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$ne={and:"AND",or:"OR"};class Vne{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function J_(t,e){return t.useProto3Json||py(e)?e:{value:e}}function km(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Fne(t,e){return km(t,e.toTimestamp())}function Zr(t){return Ve(!!t),xe.fromTimestamp(function(n){const r=qo(n);return new Mt(r.seconds,r.nanos)}(t))}function DE(t,e){return Z_(t,e).canonicalString()}function Z_(t,e){const n=function(i){return new Ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function aF(t){const e=Ke.fromString(t);return Ve(dF(e)),e}function eb(t,e){return DE(t.databaseId,e.path)}function j0(t,e){const n=aF(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(uF(n))}function lF(t,e){return DE(t.databaseId,e)}function Une(t){const e=aF(t);return e.length===4?Ke.emptyPath():uF(e)}function tb(t){return new Ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uF(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Zk(t,e,n){return{name:eb(t,e),fields:n.value.mapValue.fields}}function Bne(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ve(c===void 0||typeof c=="string"),Jt.fromBase64String(c||"")):(Ve(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Jt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?H.UNKNOWN:rF(u.code);return new ne(c,u.message||"")}(s);n=new oF(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=j0(t,r.document.name),o=Zr(r.document.updateTime),s=r.document.createTime?Zr(r.document.createTime):xe.min(),a=new On({mapValue:{fields:r.document.fields}}),l=hn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new kp(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=j0(t,r.document),o=r.readTime?Zr(r.readTime):xe.min(),s=hn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new kp([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=j0(t,r.document),o=r.removedTargetIds||[];n=new kp([],o,i,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new One(i,o),a=r.targetId;n=new iF(a,s)}}return n}function zne(t,e){let n;if(e instanceof Ld)n={update:Zk(t,e.key,e.value)};else if(e instanceof nF)n={delete:eb(t,e.key)};else if(e instanceof is)n={update:Zk(t,e.key,e.data),updateMask:Jne(e.fieldMask)};else{if(!(e instanceof Cne))return ye();n={verify:eb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Nf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Rf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Mf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Im)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Fne(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye()}(t,e.precondition)),n}function qne(t,e){return t&&t.length>0?(Ve(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Zr(i.updateTime):Zr(o);return s.isEqual(xe.min())&&(s=Zr(o)),new Sne(s,i.transformResults||[])}(n,e))):[]}function Gne(t,e){return{documents:[lF(t,e.path)]}}function Wne(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lF(t,i);const o=function(u){if(u.length!==0)return fF(Dr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Pa(d.field),direction:Yne(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=J_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function Hne(t){let e=Une(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ve(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const d=cF(f);return d instanceof Dr&&FV(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(d=>function(v){return new Of(Ca(v.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,py(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new Nl(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,p=f.values||[];return new Nl(p,d)}(n.endAt)),fne(e,i,s,o,a,"F",l,u)}function Kne(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cF(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ca(n.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ca(n.unaryFilter.field);return At.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ca(n.unaryFilter.field);return At.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ca(n.unaryFilter.field);return At.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(n){return At.create(Ca(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dr.create(n.compositeFilter.filters.map(r=>cF(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ye()}}(n.compositeFilter.op))}(t):ye()}function Yne(t){return Lne[t]}function Xne(t){return jne[t]}function Qne(t){return $ne[t]}function Pa(t){return{fieldPath:t.canonicalString()}}function Ca(t){return Kt.fromServerFormat(t.fieldPath)}function fF(t){return t instanceof At?function(n){if(n.op==="=="){if(Vk(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NAN"}};if($k(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Vk(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NAN"}};if($k(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(n.field),op:Xne(n.op),value:n.value}}}(t):t instanceof Dr?function(n){const r=n.getFilters().map(i=>fF(i));return r.length===1?r[0]:{compositeFilter:{op:Qne(n.op),filters:r}}}(t):ye()}function Jne(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n,r,i,o=xe.min(),s=xe.min(),a=Jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new xo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zne{constructor(e){this.ct=e}}function ere(t){const e=Hne({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tre{constructor(){this.un=new nre}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(zo.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(zo.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class nre{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xt(Ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xt(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Rl(0)}static kn(){return new Rl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rre{constructor(){this.changes=new yu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ire{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ore{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Gc(r.mutation,i,Wn.empty(),Mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Pe()){const i=Ns();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Sc();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ns();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=$i();const s=qc(),a=function(){return qc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof is)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Gc(c.mutation,u,c.mutation.getFieldMask(),Mt.now())):s.set(u.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new ire(c,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=qc();let i=new dt((s,a)=>s-a),o=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Wn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Pe()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=KV();c.forEach(d=>{if(!o.has(d)){const p=eF(n.get(d),r.get(d));p!==null&&f.set(d,p),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Q.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ce.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Q.resolve(Ns());let a=-1,l=o;return s.next(u=>Q.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?Q.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Pe())).next(c=>({batchId:a,changes:HV(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(r=>{let i=Sc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Sc();return this.indexManager.getCollectionParents(e,o).next(a=>Q.forEach(a,l=>{const u=function(f,d){return new rs(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,hn.newInvalidDocument(c)))});let a=Sc();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Gc(c.mutation,u,Wn.empty(),Mt.now()),vy(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sre{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Zr(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:ere(i.bundledQuery),readTime:Zr(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class are{constructor(){this.overlays=new dt(ce.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ns();return Q.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=Ns(),o=n.length+1,s=new ce(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new dt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Ns(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ns(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Q.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new kne(n,r));let o=this.Ir.get(n);o===void 0&&(o=Pe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lre{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.Tr=new Xt(Lt.Er),this.dr=new Xt(Lt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Lt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Lt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ce(new Ke([])),r=new Lt(n,e),i=new Lt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ce(new Ke([])),r=new Lt(n,e),i=new Lt(n,e+1);let o=Pe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Lt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ce.comparator(e.key,n.key)||Re(e.wr,n.wr)}static Ar(e,n){return Re(e.wr,n.wr)||ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ure{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Xt(Lt.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ine(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Lt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(s)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Lt(n,0),i=new Lt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),Q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xt(Re);return n.forEach(i=>{const o=new Lt(i,0),s=new Lt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ce.isDocumentKey(o)||(o=o.child(""));const s=new Lt(new ce(o),0);let a=new Xt(Re);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),Q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,i=>{const o=new Lt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Lt(n,0),i=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cre{constructor(e){this.Mr=e,this.docs=function(){return new dt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let r=$i();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():hn.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=$i();const s=n.path,a=new ce(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Wte(Gte(c),r)<=0||(i.has(c.key)||vy(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Q.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ye()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new fre(this)}getSize(e){return Q.resolve(this.size)}}class fre extends rre{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dre{constructor(e){this.persistence=e,this.Nr=new yu(n=>IE(n),kE),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new LE,this.targetCount=0,this.kr=Rl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Rl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Q.waitFor(o).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hre{constructor(e,n){this.qr={},this.overlays={},this.Qr=new AE(0),this.Kr=!1,this.Kr=!0,this.$r=new lre,this.referenceDelegate=e(this),this.Ur=new dre(this),this.indexManager=new tre,this.remoteDocumentCache=function(i){return new cre(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Zne(n),this.Gr=new sre(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new are,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new ure(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const i=new pre(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class pre extends Kte{constructor(e){super(),this.currentSequenceNumber=e}}class jE{constructor(e){this.persistence=e,this.Jr=new LE,this.Yr=null}static Zr(e){return new jE(e)}get Xr(){if(this.Yr)return this.Yr;throw ye()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const i=ce.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,xe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Pe(),i=Pe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new $E(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mre{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gre{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return rJ()?8:Yte(xn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new mre;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(nc()<=Ie.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Aa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(nc()<=Ie.DEBUG&&le("QueryEngine","Query:",Aa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(nc()<=Ie.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Aa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(n))):Q.resolve())}Yi(e,n){if(zk(n))return Q.resolve(null);let r=Jr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Cm(n,null,"F"),r=Jr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Pe(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,Cm(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return zk(n)||i.isEqual(xe.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?Q.resolve(null):(nc()<=Ie.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Aa(n)),this.rs(e,s,n,qte(i,-1)).next(a=>a))})}ts(e,n){let r=new Xt(GV(e));return n.forEach((i,o)=>{vy(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return nc()<=Ie.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Aa(n)),this.Ji.getDocumentsMatchingQuery(e,n,zo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yre{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new dt(Re),this._s=new yu(o=>IE(o),kE),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ore(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function vre(t,e,n,r){return new yre(t,e,n,r)}async function hF(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Pe();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function xre(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,d=f.keys();let p=Q.resolve();return d.forEach(v=>{p=p.next(()=>c.getEntry(l,v)).next(x=>{const _=u.docVersions.get(v);Ve(_!==null),x.version.compareTo(_)<0&&(f.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),c.addEntry(x)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Pe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function pF(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function _re(t,e){const n=_e(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,f)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Jt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(x,_,b){return x.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(d,p,c)&&a.push(n.Ur.updateTargetData(o,p))});let l=$i(),u=Pe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(bre(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(xe.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return Q.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function bre(t,e,n){let r=Pe(),i=Pe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=$i();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(xe.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):le("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function wre(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Tre(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Q.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new xo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function nb(t,e,n){const r=_e(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Dd(s))throw s;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function eO(t,e,n){const r=_e(t);let i=xe.min(),o=Pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=_e(l),d=f._s.get(c);return d!==void 0?Q.resolve(f.os.get(d)):f.Ur.getTargetData(u,c)}(r,s,Jr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:xe.min(),n?o:Pe())).next(a=>(Ere(r,hne(e),a),{documents:a,Ts:o})))}function Ere(t,e,n){let r=t.us.get(e)||xe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class tO{constructor(){this.activeTargetIds=xne()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sre{constructor(){this.so=new tO,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new tO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Are{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh=null;function $0(){return qh===null?qh=function(){return 268435456+Math.round(2147483648*Math.random())}():qh++,"0x"+qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cre{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class Ire extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=$0(),l=this.xo(n,r.toUriEncodedString());le("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(c=>(le("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Cl("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=Pre[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=$0();return new Promise((s,a)=>{const l=new CV;l.setWithCredentials(!0),l.listenOnce(IV.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Pp.NO_ERROR:const c=l.getResponseJson();le(an,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Pp.TIMEOUT:le(an,`RPC '${e}' ${o} timed out`),a(new ne(H.DEADLINE_EXCEEDED,"Request time out"));break;case Pp.HTTP_ERROR:const f=l.getStatus();if(le(an,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const v=function(_){const b=_.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(b)>=0?b:H.UNKNOWN}(p.status);a(new ne(v,p.message))}else a(new ne(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ne(H.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{le(an,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);le(an,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=$0(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=NV(),a=OV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");le(an,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);let d=!1,p=!1;const v=new Cre({Io:_=>{p?le(an,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(d||(le(an,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),le(an,`RPC '${e}' stream ${i} sending:`,_),f.send(_))},To:()=>f.close()}),x=(_,b,w)=>{_.listen(b,T=>{try{w(T)}catch(C){setTimeout(()=>{throw C},0)}})};return x(f,Ec.EventType.OPEN,()=>{p||(le(an,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),x(f,Ec.EventType.CLOSE,()=>{p||(p=!0,le(an,`RPC '${e}' stream ${i} transport closed`),v.So())}),x(f,Ec.EventType.ERROR,_=>{p||(p=!0,Cl(an,`RPC '${e}' stream ${i} transport errored:`,_),v.So(new ne(H.UNAVAILABLE,"The operation could not be completed")))}),x(f,Ec.EventType.MESSAGE,_=>{var b;if(!p){const w=_.data[0];Ve(!!w);const T=w,C=T.error||((b=T[0])===null||b===void 0?void 0:b.error);if(C){le(an,`RPC '${e}' stream ${i} received error:`,C);const S=C.status;let I=function(O){const N=wt[O];if(N!==void 0)return rF(N)}(S),P=C.message;I===void 0&&(I=H.INTERNAL,P="Unknown error status: "+S+" with message "+C.message),p=!0,v.So(new ne(I,P)),f.close()}else le(an,`RPC '${e}' stream ${i} received:`,w),v.bo(w)}}),x(a,kV.STAT_EVENT,_=>{_.stat===W_.PROXY?le(an,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===W_.NOPROXY&&le(an,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function V0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t){return new Vne(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new mF(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(ji(n.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ne(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kre extends gF{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Bne(this.serializer,e),r=function(o){if(!("targetChange"in o))return xe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?xe.min():s.readTime?Zr(s.readTime):xe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=tb(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=X_(l)?{documents:Gne(o,l)}:{query:Wne(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=sF(o,s.resumeToken);const u=J_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(xe.min())>0){a.readTime=km(o,s.snapshotVersion.toTimestamp());const u=J_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Kne(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=tb(this.serializer),n.removeTarget=e,this.a_(n)}}class Ore extends gF{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=qne(e.writeResults,e.commitTime),r=Zr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=tb(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>zne(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nre extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ne(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Z_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(H.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Z_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(H.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Rre{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ji(n),this.D_=!1):le("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mre{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{da(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=_e(l);u.L_.add(4),await $d(u),u.q_.set("Unknown"),u.L_.delete(4),await Ty(u)}(this))})}),this.q_=new Rre(r,i)}}async function Ty(t){if(da(t))for(const e of t.B_)await e(!0)}async function $d(t){for(const e of t.B_)await e(!1)}function yF(t,e){const n=_e(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),BE(n)?UE(n):vu(n).r_()&&FE(n,e))}function VE(t,e){const n=_e(t),r=vu(n);n.N_.delete(e),r.r_()&&vF(n,e),n.N_.size===0&&(r.r_()?r.o_():da(n)&&n.q_.set("Unknown"))}function FE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vu(t).A_(e)}function vF(t,e){t.Q_.xe(e),vu(t).R_(e)}function UE(t){t.Q_=new Dne({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),vu(t).start(),t.q_.v_()}function BE(t){return da(t)&&!vu(t).n_()&&t.N_.size>0}function da(t){return _e(t).L_.size===0}function xF(t){t.Q_=void 0}async function Dre(t){t.q_.set("Online")}async function Lre(t){t.N_.forEach((e,n)=>{FE(t,e)})}async function jre(t,e){xF(t),BE(t)?(t.q_.M_(e),UE(t)):t.q_.set("Unknown")}async function $re(t,e,n){if(t.q_.set("Online"),e instanceof oF&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Om(t,r)}else if(e instanceof kp?t.Q_.Ke(e):e instanceof iF?t.Q_.He(e):t.Q_.We(e),!n.isEqual(xe.min()))try{const r=await pF(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(Jt.EMPTY_BYTE_STRING,c.snapshotVersion)),vF(o,l);const f=new xo(c.target,l,u,c.sequenceNumber);FE(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){le("RemoteStore","Failed to raise snapshot:",r),await Om(t,r)}}async function Om(t,e,n){if(!Dd(e))throw e;t.L_.add(1),await $d(t),t.q_.set("Offline"),n||(n=()=>pF(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Ty(t)})}function _F(t,e){return e().catch(n=>Om(t,n,e))}async function Ey(t){const e=_e(t),n=Go(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Vre(e);)try{const i=await wre(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Fre(e,i)}catch(i){await Om(e,i)}bF(e)&&wF(e)}function Vre(t){return da(t)&&t.O_.length<10}function Fre(t,e){t.O_.push(e);const n=Go(t);n.r_()&&n.V_&&n.m_(e.mutations)}function bF(t){return da(t)&&!Go(t).n_()&&t.O_.length>0}function wF(t){Go(t).start()}async function Ure(t){Go(t).p_()}async function Bre(t){const e=Go(t);for(const n of t.O_)e.m_(n.mutations)}async function zre(t,e,n){const r=t.O_.shift(),i=RE.from(r,e,n);await _F(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ey(t)}async function qre(t,e){e&&Go(t).V_&&await async function(r,i){if(function(s){return Nne(s)&&s!==H.ABORTED}(i.code)){const o=r.O_.shift();Go(r).s_(),await _F(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Ey(r)}}(t,e),bF(t)&&wF(t)}async function rO(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const r=da(n);n.L_.add(3),await $d(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Ty(n)}async function Gre(t,e){const n=_e(t);e?(n.L_.delete(2),await Ty(n)):e||(n.L_.add(2),await $d(n),n.q_.set("Unknown"))}function vu(t){return t.K_||(t.K_=function(n,r,i){const o=_e(n);return o.w_(),new kre(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Dre.bind(null,t),Ro:Lre.bind(null,t),mo:jre.bind(null,t),d_:$re.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),BE(t)?UE(t):t.q_.set("Unknown")):(await t.K_.stop(),xF(t))})),t.K_}function Go(t){return t.U_||(t.U_=function(n,r,i){const o=_e(n);return o.w_(),new Ore(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Ure.bind(null,t),mo:qre.bind(null,t),f_:Bre.bind(null,t),g_:zre.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ey(t)):(await t.U_.stop(),t.O_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new zE(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qE(t,e){if(ji("AsyncQueue",`${e}: ${t}`),Dd(t))return new ne(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ce.comparator(n.key,r.key):(n,r)=>ce.comparator(n.key,r.key),this.keyedMap=Sc(),this.sortedSet=new dt(this.comparator)}static emptySet(e){return new fl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.W_=new dt(ce.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ye():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ml{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ml(e,n,fl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wre{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Hre{constructor(){this.queries=oO(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=_e(n),o=i.queries;i.queries=oO(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ne(H.ABORTED,"Firestore shutting down"))}}function oO(){return new yu(t=>qV(t),yy)}async function GE(t,e){const n=_e(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Wre,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=qE(s,`Initialization of query '${Aa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&HE(n)}async function WE(t,e){const n=_e(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Kre(t,e){const n=_e(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&HE(n)}function Yre(t,e,n){const r=_e(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function HE(t){t.Y_.forEach(e=>{e.next()})}var rb,sO;(sO=rb||(rb={})).ea="default",sO.Cache="cache";class KE{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ml(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==rb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e){this.key=e}}class EF{constructor(e){this.key=e}}class Xre{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Pe(),this.mutatedKeys=Pe(),this.Aa=GV(e),this.Ra=new fl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new iO,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),p=vy(this.query,f)?f:null,v=!!d&&this.mutatedKeys.has(d.key),x=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let _=!1;d&&p?d.data.isEqual(p.data)?v!==x&&(r.track({type:3,doc:p}),_=!0):this.ga(d,p)||(r.track({type:2,doc:p}),_=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),_=!0):d&&!p&&(r.track({type:1,doc:d}),_=!0,(l||u)&&(a=!0)),_&&(p?(s=s.add(p),o=x?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,f)=>function(p,v){const x=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return x(p)-x(v)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new Ml(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new iO,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new EF(r))}),this.da.forEach(r=>{e.has(r)||n.push(new TF(r))}),n}ba(e){this.Ta=e.Ts,this.da=Pe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ml.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Qre{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Jre{constructor(e){this.key=e,this.va=!1}}class Zre{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new yu(a=>qV(a),yy),this.Ma=new Map,this.xa=new Set,this.Oa=new dt(ce.comparator),this.Na=new Map,this.La=new LE,this.Ba={},this.ka=new Map,this.qa=Rl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function eie(t,e,n=!0){const r=kF(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await SF(r,e,n,!0),i}async function tie(t,e){const n=kF(t);await SF(n,e,!0,!1)}async function SF(t,e,n,r){const i=await Tre(t.localStore,Jr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await nie(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&yF(t.remoteStore,i),a}async function nie(t,e,n,r,i){t.Ka=(f,d,p)=>async function(x,_,b,w){let T=_.view.ma(b);T.ns&&(T=await eO(x.localStore,_.query,!1).then(({documents:P})=>_.view.ma(P,T)));const C=w&&w.targetChanges.get(_.targetId),S=w&&w.targetMismatches.get(_.targetId)!=null,I=_.view.applyChanges(T,x.isPrimaryClient,C,S);return lO(x,_.targetId,I.wa),I.snapshot}(t,f,d,p);const o=await eO(t.localStore,e,!0),s=new Xre(e,o.Ts),a=s.ma(o.documents),l=jd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);lO(t,n,u.wa);const c=new Qre(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function rie(t,e,n){const r=_e(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!yy(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await nb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&VE(r.remoteStore,i.targetId),ib(r,i.targetId)}).catch(Md)):(ib(r,i.targetId),await nb(r.localStore,i.targetId,!0))}async function iie(t,e){const n=_e(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),VE(n.remoteStore,r.targetId))}async function oie(t,e,n){const r=die(t);try{const i=await function(s,a){const l=_e(s),u=Mt.now(),c=a.reduce((p,v)=>p.add(v.key),Pe());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=$i(),x=Pe();return l.cs.getEntries(p,c).next(_=>{v=_,v.forEach((b,w)=>{w.isValidDocument()||(x=x.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(_=>{f=_;const b=[];for(const w of a){const T=Pne(w,f.get(w.key).overlayedDocument);T!=null&&b.push(new is(w.key,T,jV(T.value.mapValue),Or.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,b,a)}).next(_=>{d=_;const b=_.applyToLocalDocumentSet(f,x);return l.documentOverlayCache.saveOverlays(p,_.batchId,b)})}).then(()=>({batchId:d.batchId,changes:HV(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new dt(Re)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await Vd(r,i.changes),await Ey(r.remoteStore)}catch(i){const o=qE(i,"Failed to persist write");n.reject(o)}}async function AF(t,e){const n=_e(t);try{const r=await _re(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ve(s.va):i.removedDocuments.size>0&&(Ve(s.va),s.va=!1))}),await Vd(n,r,e)}catch(r){await Md(r)}}function aO(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=_e(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.j_)d.Z_(a)&&(u=!0)}),u&&HE(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sie(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new dt(ce.comparator);s=s.insert(o,hn.newNoDocument(o,xe.min()));const a=Pe().add(o),l=new by(xe.min(),new Map,new dt(Re),s,a);await AF(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),YE(r)}else await nb(r.localStore,e,!1).then(()=>ib(r,e,n)).catch(Md)}async function aie(t,e){const n=_e(t),r=e.batch.batchId;try{const i=await xre(n.localStore,e);CF(n,r,null),PF(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vd(n,i)}catch(i){await Md(i)}}async function lie(t,e,n){const r=_e(t);try{const i=await function(s,a){const l=_e(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Ve(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);CF(r,e,n),PF(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vd(r,i)}catch(i){await Md(i)}}function PF(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function CF(t,e,n){const r=_e(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ib(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||IF(t,r)})}function IF(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(VE(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),YE(t))}function lO(t,e,n){for(const r of n)r instanceof TF?(t.La.addReference(r.key,e),uie(t,r)):r instanceof EF?(le("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||IF(t,r.key)):ye()}function uie(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(le("SyncEngine","New document in limbo: "+n),t.xa.add(r),YE(t))}function YE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ce(Ke.fromString(e)),r=t.qa.next();t.Na.set(r,new Jre(n)),t.Oa=t.Oa.insert(n,r),yF(t.remoteStore,new xo(Jr(gy(n.path)),r,"TargetPurposeLimboResolution",AE.oe))}}async function Vd(t,e,n){const r=_e(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=$E.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=_e(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Q.forEach(u,d=>Q.forEach(d.$i,p=>c.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>Q.forEach(d.Ui,p=>c.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!Dd(f))throw f;le("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const p=c.os.get(d),v=p.snapshotVersion,x=p.withLastLimboFreeSnapshotVersion(v);c.os=c.os.insert(d,x)}}}(r.localStore,o))}async function cie(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const r=await hF(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new ne(H.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vd(n,r.hs)}}function fie(t,e){const n=_e(t),r=n.Na.get(e);if(r&&r.va)return Pe().add(r.key);{let i=Pe();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function kF(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sie.bind(null,e),e.Ca.d_=Kre.bind(null,e.eventManager),e.Ca.$a=Yre.bind(null,e.eventManager),e}function die(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lie.bind(null,e),e}class Nm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wy(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return vre(this.persistence,new gre,e.initialUser,this.serializer)}Ga(e){return new hre(jE.Zr,this.serializer)}Wa(e){return new Sre}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nm.provider={build:()=>new Nm};class ob{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cie.bind(null,this.syncEngine),await Gre(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Hre}()}createDatastore(e){const n=wy(e.databaseInfo.databaseId),r=function(o){return new Ire(o)}(e.databaseInfo);return function(o,s,a,l){return new Nre(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Mre(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>aO(this.syncEngine,n,0),function(){return nO.D()?new nO:new Are}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new Zre(i,o,s,a,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=_e(i);le("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await $d(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ob.provider={build:()=>new ob};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hie{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=fn.UNAUTHENTICATED,this.clientId=MV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{le("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(le("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=qE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function F0(t,e){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await hF(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function uO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pie(t);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>rO(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>rO(e.remoteStore,i)),t._onlineComponents=e}async function pie(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await F0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Cl("Error using user provided cache. Falling back to memory cache: "+n),await F0(t,new Nm)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await F0(t,new Nm);return t._offlineComponents}async function OF(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await uO(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await uO(t,new ob))),t._onlineComponents}function mie(t){return OF(t).then(e=>e.syncEngine)}async function Rm(t){const e=await OF(t),n=e.eventManager;return n.onListen=eie.bind(null,e.syncEngine),n.onUnlisten=rie.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tie.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iie.bind(null,e.syncEngine),n}function gie(t,e,n={}){const r=new Pi;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new XE({next:d=>{c.Za(),s.enqueueAndForget(()=>WE(o,f));const p=d.docs.has(a);!p&&d.fromCache?u.reject(new ne(H.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?u.reject(new ne(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new KE(gy(a.path),c,{includeMetadataChanges:!0,_a:!0});return GE(o,f)}(await Rm(t),t.asyncQueue,e,n,r)),r.promise}function yie(t,e,n={}){const r=new Pi;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new XE({next:d=>{c.Za(),s.enqueueAndForget(()=>WE(o,f)),d.fromCache&&l.source==="server"?u.reject(new ne(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new KE(a,c,{includeMetadataChanges:!0,_a:!0});return GE(o,f)}(await Rm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(t,e,n){if(!n)throw new ne(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vie(t,e,n,r){if(e===!0&&r===!0)throw new ne(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fO(t){if(!ce.isDocumentKey(t))throw new ne(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dO(t){if(ce.isDocumentKey(t))throw new ne(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function Yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sy(t);throw new ne(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vie("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ne(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ne(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ne(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ay{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hO({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hO(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Dte;switch(r.type){case"firstParty":return new Vte(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=cO.get(n);r&&(le("ComponentProvider","Removing Datastore"),cO.delete(n),r.terminate())}(this),Promise.resolve()}}function xie(t,e,n,r={}){var i;const o=(t=Yn(t,Ay))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=fn.MOCK_USER;else{a=XQ(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ne(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new fn(u)}t._authCredentials=new Lte(new RV(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jr(this.firestore,e,this._query)}}class yn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class Mo extends jr{constructor(e,n,r){super(e,n,gy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new ce(e))}withConverter(e){return new Mo(this.firestore,e,this._path)}}function xu(t,e,...n){if(t=Ct(t),RF("collection","path",e),t instanceof Ay){const r=Ke.fromString(e,...n);return dO(r),new Mo(t,null,r)}{if(!(t instanceof yn||t instanceof Mo))throw new ne(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return dO(r),new Mo(t.firestore,null,r)}}function Dl(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=MV.newId()),RF("doc","path",e),t instanceof Ay){const r=Ke.fromString(e,...n);return fO(r),new yn(t,null,new ce(r))}{if(!(t instanceof yn||t instanceof Mo))throw new ne(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return fO(r),new yn(t.firestore,t instanceof Mo?t.converter:null,new ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new mF(this,"async_queue_retry"),this.Vu=()=>{const r=V0();r&&le("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=V0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=V0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Pi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Dd(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw ji("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=zE.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ye()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function mO(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Wo extends Ay{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new pO,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pO(e),this._firestoreClient=void 0,await e}}}function _ie(t,e){const n=typeof t=="object"?t:q$(),r=typeof t=="string"?t:"(default)",i=mE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=KQ("firestore");o&&xie(i,...o)}return i}function Py(t){if(t._terminated)throw new ne(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||bie(t),t._firestoreClient}function bie(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new Jte(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,NF(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new hie(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ll(Jt.fromBase64String(e))}catch(n){throw new ne(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ll(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wie=/^__.*__$/;class Tie{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ld(e,this.data,n,this.fieldTransforms)}}class MF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class ZE{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ZE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Mm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(DF(this.Cu)&&wie.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Eie{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wy(e)}Qu(e,n,r,i=!1){return new ZE({Cu:e,methodName:n,qu:r,path:Kt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fd(t){const e=t._freezeSettings(),n=wy(t._databaseId);return new Eie(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LF(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);tS("Data must be an object, but it was:",s,r);const a=$F(r,s);let l,u;if(o.merge)l=new Wn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const d=sb(e,f,n);if(!s.contains(d))throw new ne(H.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);FF(c,d)||c.push(d)}l=new Wn(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new Tie(new On(a),l,u)}class ky extends Iy{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ky}}class eS extends Iy{_toFieldTransform(e){return new Tne(e.path,new Nf)}isEqual(e){return e instanceof eS}}function Sie(t,e,n,r){const i=t.Qu(1,e,n);tS("Data must be an object, but it was:",i,r);const o=[],s=On.empty();fa(r,(l,u)=>{const c=nS(e,l,n);u=Ct(u);const f=i.Nu(c);if(u instanceof ky)o.push(c);else{const d=Ud(u,f);d!=null&&(o.push(c),s.set(c,d))}});const a=new Wn(o);return new MF(s,a,i.fieldTransforms)}function Aie(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[sb(e,r,n)],l=[i];if(o.length%2!=0)throw new ne(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(sb(e,o[d])),l.push(o[d+1]);const u=[],c=On.empty();for(let d=a.length-1;d>=0;--d)if(!FF(u,a[d])){const p=a[d];let v=l[d];v=Ct(v);const x=s.Nu(p);if(v instanceof ky)u.push(p);else{const _=Ud(v,x);_!=null&&(u.push(p),c.set(p,_))}}const f=new Wn(u);return new MF(c,f,s.fieldTransforms)}function jF(t,e,n,r=!1){return Ud(n,t.Qu(r?4:3,e))}function Ud(t,e){if(VF(t=Ct(t)))return tS("Unsupported field value:",e,t),$F(t,e);if(t instanceof Iy)return function(r,i){if(!DF(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Ud(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _ne(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Mt.fromDate(r);return{timestampValue:km(i.serializer,o)}}if(r instanceof Mt){const o=new Mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:km(i.serializer,o)}}if(r instanceof QE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ll)return{bytesValue:sF(i.serializer,r._byteString)};if(r instanceof yn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:DE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof JE)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return NE(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Sy(r)}`)}(t,e)}function $F(t,e){const n={};return DV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fa(t,(r,i)=>{const o=Ud(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function VF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof QE||t instanceof Ll||t instanceof yn||t instanceof Iy||t instanceof JE)}function tS(t,e,n){if(!VF(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Sy(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function sb(t,e,n){if((e=Ct(e))instanceof Cy)return e._internalPath;if(typeof e=="string")return nS(t,e);throw Mm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Pie=new RegExp("[~\\*/\\[\\]]");function nS(t,e,n){if(e.search(Pie)>=0)throw Mm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cy(...e.split("."))._internalPath}catch{throw Mm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mm(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ne(H.INVALID_ARGUMENT,a+t+l)}function FF(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Cie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Oy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Cie extends rS{data(){return super.data()}}function Oy(t,e){return typeof e=="string"?nS(t,e):e instanceof Cy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iS{}class Bd extends iS{}function Ka(t,e,...n){let r=[];e instanceof iS&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof oS).length,a=o.filter(l=>l instanceof Ny).length;if(s>1||s>0&&a>0)throw new ne(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ny extends Bd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ny(e,n,r)}_apply(e){const n=this._parse(e);return qF(e._query,n),new jr(e.firestore,e.converter,Q_(e._query,n))}_parse(e){const n=Fd(e.firestore);return function(o,s,a,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ne(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){yO(f,c);const p=[];for(const v of f)p.push(gO(l,o,v));d={arrayValue:{values:p}}}else d=gO(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||yO(f,c),d=jF(a,s,f,c==="in"||c==="not-in");return At.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function BF(t,e,n){const r=e,i=Oy("where",t);return Ny._create(i,r,n)}class oS extends iS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new oS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Dr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)qF(s,l),s=Q_(s,l)}(e._query,n),new jr(e.firestore,e.converter,Q_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sS extends Bd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new sS(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new ne(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ne(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Of(o,s)}(e._query,this._field,this._direction);return new jr(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new rs(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Gh(t,e="asc"){const n=e,r=Oy("orderBy",t);return sS._create(r,n)}class Ry extends Bd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ry(e,n,r)}_apply(e){return new jr(e.firestore,e.converter,Cm(e._query,this._limit,this._limitType))}}function U0(t){return Ry._create("limit",t,"F")}function Iie(t){return Ry._create("limitToLast",t,"L")}class aS extends Bd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new aS(e,n,r)}_apply(e){const n=zF(e,this.type,this._docOrFields,this._inclusive);return new jr(e.firestore,e.converter,function(i,o){return new rs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}}function kie(...t){return aS._create("startAfter",t,!1)}class lS extends Bd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new lS(e,n,r)}_apply(e){const n=zF(e,this.type,this._docOrFields,this._inclusive);return new jr(e.firestore,e.converter,function(i,o){return new rs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,n))}}function Oie(...t){return lS._create("endBefore",t,!1)}function zF(t,e,n,r){if(n[0]=Ct(n[0]),n[0]instanceof rS)return function(o,s,a,l,u){if(!l)throw new ne(H.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const f of cl(o))if(f.field.isKeyField())c.push(Pm(s,l.key));else{const d=l.data.field(f.field);if(my(d))throw new ne(H.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const p=f.field.canonicalString();throw new ne(H.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}c.push(d)}return new Nl(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Fd(t.firestore);return function(s,a,l,u,c,f){const d=s.explicitOrderBy;if(c.length>d.length)throw new ne(H.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let v=0;v<c.length;v++){const x=c[v];if(d[v].field.isKeyField()){if(typeof x!="string")throw new ne(H.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof x}`);if(!OE(s)&&x.indexOf("/")!==-1)throw new ne(H.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${x}' contains a slash.`);const _=s.path.child(Ke.fromString(x));if(!ce.isDocumentKey(_))throw new ne(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const b=new ce(_);p.push(Pm(a,b))}else{const _=jF(l,u,x);p.push(_)}}return new Nl(p,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function gO(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new ne(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OE(e)&&n.indexOf("/")!==-1)throw new ne(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ke.fromString(n));if(!ce.isDocumentKey(r))throw new ne(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pm(t,new ce(r))}if(n instanceof yn)return Pm(t,n._key);throw new ne(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sy(n)}.`)}function yO(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qF(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ne(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Nie{convertValue(e,n="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fa(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>_t(s.doubleValue));return new JE(o)}convertGeoPoint(e){return new QE(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=PE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cf(e));default:return null}}convertTimestamp(e){const n=qo(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ke.fromString(e);Ve(dF(r));const i=new If(r.get(1),r.get(3)),o=new ce(r.popFirst(5));return i.isEqual(n)||ji(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class WF extends rS{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Op(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Oy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Op extends WF{data(e={}){return super.data(e)}}class HF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Pc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Op(this._firestore,this._userDataWriter,r.key,r,new Pc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Op(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Pc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Op(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Pc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:Rie(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Rie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(t){t=Yn(t,yn);const e=Yn(t.firestore,Wo);return gie(Py(e),t._key).then(n=>YF(e,t,n))}class cS extends Nie{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ll(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function Mie(t){t=Yn(t,jr);const e=Yn(t.firestore,Wo),n=Py(e),r=new cS(e);return UF(t._query),yie(n,t._query).then(i=>new HF(e,r,t,i))}function Die(t,e,n){t=Yn(t,yn);const r=Yn(t.firestore,Wo),i=GF(t.converter,e);return dS(r,[LF(Fd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Or.none())])}function Lie(t,e,n,...r){t=Yn(t,yn);const i=Yn(t.firestore,Wo),o=Fd(i);let s;return s=typeof(e=Ct(e))=="string"||e instanceof Cy?Aie(o,"updateDoc",t._key,e,n,r):Sie(o,"updateDoc",t._key,e),dS(i,[s.toMutation(t._key,Or.exists(!0))])}function KF(t,e){const n=Yn(t.firestore,Wo),r=Dl(t),i=GF(t.converter,e);return dS(n,[LF(Fd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Or.exists(!1))]).then(()=>r)}function fS(t,...e){var n,r,i;t=Ct(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||mO(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(mO(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof yn)u=Yn(t.firestore,Wo),c=gy(t._key.path),l={next:f=>{e[s]&&e[s](YF(u,t,f))},error:e[s+1],complete:e[s+2]};else{const f=Yn(t,jr);u=Yn(f.firestore,Wo),c=f._query;const d=new cS(u);l={next:p=>{e[s]&&e[s](new HF(u,d,f,p))},error:e[s+1],complete:e[s+2]},UF(t._query)}return function(d,p,v,x){const _=new XE(x),b=new KE(p,_,v);return d.asyncQueue.enqueueAndForget(async()=>GE(await Rm(d),b)),()=>{_.Za(),d.asyncQueue.enqueueAndForget(async()=>WE(await Rm(d),b))}}(Py(u),c,a,l)}function dS(t,e){return function(r,i){const o=new Pi;return r.asyncQueue.enqueueAndForget(async()=>oie(await mie(r),i,o)),o.promise}(Py(t),e)}function YF(t,e,n){const r=n.docs.get(e._key),i=new cS(t);return new WF(t,i,e._key,r,new Pc(n.hasPendingWrites,n.fromCache),e.converter)}function hS(){return new eS("serverTimestamp")}(function(e,n=!0){(function(i){gu=i})(pu),Pl(new Ks("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Wo(new jte(r.getProvider("auth-internal")),new Ute(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ne(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new If(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ro(Rk,"4.7.3",e),Ro(Rk,"4.7.3","esm2017")})();const jie={apiKey:"AIzaSyCyUYSsXMA8nWl_jaMUgbYvLHYGobJ_u5c",authDomain:"bis-smart-grader.firebaseapp.com",databaseURL:"https://bis-smart-grader-default-rtdb.firebaseio.com",projectId:"bis-smart-grader",storageBucket:"bis-smart-grader.firebasestorage.app",messagingSenderId:"340118520108",appId:"1:340118520108:web:67991844ab289111576c89",measurementId:"G-ZL5P4YPHJN"},XF=z$(jie),$n=Rte(XF),Lr=_ie(XF),$ie=()=>{const t=Gi(),[e,n]=j.useState("faculty"),[r,i]=j.useState("login"),[o,s]=j.useState(""),[a,l]=j.useState(""),[u,c]=j.useState(""),[f,d]=j.useState(!1),[p,v]=j.useState(null),x=()=>{i(r==="login"?"register":"login"),v(null)},_=async b=>{b.preventDefault(),d(!0),v(null);try{if(r==="register"){const T=(await yee($n,o,a)).user,C=e==="faculty"?"faculty":"students",S=e==="faculty"?{uid:T.uid,email:T.email,fullName:u,role:"faculty",courses:[]}:{uid:T.uid,email:T.email,fullName:u,role:"student",level:"1"};await Die(Dl(Lr,C,T.uid),S),t(e==="faculty"?"/faculty-dashboard":"/student-portal")}else{const T=(await vee($n,o,a)).user;(await uS(Dl(Lr,e==="faculty"?"faculty":"students",T.uid))).exists()?t(e==="faculty"?"/faculty-dashboard":"/student-portal"):(v(`No ${e} account found with these credentials.`),await $n.signOut())}}catch(w){console.error(w),w.code==="auth/invalid-credential"?v("Invalid email or password."):w.code==="auth/email-already-in-use"?v("This email is already registered."):w.code==="auth/weak-password"?v("Password should be at least 6 characters."):v("An unexpected error occurred. Please try again.")}finally{d(!1)}};return g.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 flex flex-col md:flex-row",children:[g.jsxs("div",{className:"md:w-1/2 bg-slate-900 relative overflow-hidden flex flex-col justify-between p-8 md:p-12 lg:p-16 text-white",children:[g.jsxs("div",{className:"absolute inset-0 z-0",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/90 to-slate-900/90 mix-blend-multiply"}),g.jsx("img",{src:"https://images.unsplash.com/photo-1562774053-701939374585?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80",alt:"University Campus",className:"w-full h-full object-cover opacity-50"})]}),g.jsxs("div",{className:"relative z-10",children:[g.jsxs("div",{className:"flex items-center gap-3 cursor-pointer mb-12",onClick:()=>t("/"),children:[g.jsx("div",{className:"bg-white/10 p-2 rounded-lg backdrop-blur-sm",children:g.jsx(ko,{className:"h-6 w-6 text-blue-300"})}),g.jsxs("span",{className:"font-bold text-xl tracking-tight",children:["BIS ",g.jsx("span",{className:"text-blue-400",children:"Smart Grader"})]})]}),g.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[g.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 leading-tight",children:e==="faculty"?"Empowering Academic Excellence through AI.":"Your Journey to Academic Success Starts Here."}),g.jsx("p",{className:"text-lg text-blue-100 max-w-md leading-relaxed",children:e==="faculty"?"Streamline your grading workflow, analyze student performance, and reclaim your valuable time.":"Access your grades, view detailed feedback, and track your academic progress in real-time."})]})]}),g.jsxs("div",{className:"relative z-10 mt-12 flex items-center gap-4 text-sm text-blue-200/60",children:[g.jsx("span",{children:" 2025 Assiut University"}),g.jsx("span",{className:"w-1 h-1 rounded-full bg-blue-500"}),g.jsx("span",{children:"BIS Department"})]})]}),g.jsx("div",{className:"md:w-1/2 flex items-center justify-center p-4 sm:p-8 lg:p-16 bg-white dark:bg-slate-950",children:g.jsxs("div",{className:"w-full max-w-md space-y-8",children:[g.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 p-1.5 rounded-xl flex relative",children:[g.jsx(ue.div,{className:"absolute top-1.5 bottom-1.5 rounded-lg bg-white dark:bg-slate-800 shadow-sm",initial:!1,animate:{x:e==="faculty"?0:"100%",width:"50%"},transition:{type:"spring",stiffness:300,damping:30}}),g.jsxs("button",{onClick:()=>{n("faculty"),v(null)},className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-sm font-medium relative z-10 transition-colors ${e==="faculty"?"text-primary dark:text-blue-400":"text-slate-500 hover:text-slate-700 dark:text-slate-400"}`,children:[g.jsx(u8,{className:"h-4 w-4"}),"Faculty"]}),g.jsxs("button",{onClick:()=>{n("student"),v(null)},className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-sm font-medium relative z-10 transition-colors ${e==="student"?"text-secondary dark:text-teal-400":"text-slate-500 hover:text-slate-700 dark:text-slate-400"}`,children:[g.jsx(am,{className:"h-4 w-4"}),"Student"]})]}),g.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[g.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:r==="login"?"Welcome back":"Create account"}),g.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:r==="login"?`Sign in to your ${e} dashboard`:`Register as a new ${e}`})]}),g.jsxs("form",{onSubmit:_,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-4",children:[r==="register"&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Full Name"}),g.jsxs("div",{className:"relative",children:[g.jsx(am,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),g.jsx("input",{type:"text",required:!0,value:u,onChange:b=>c(b.target.value),className:"block w-full pl-10 pr-3 py-2.5 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg focus:ring-2 focus:ring-primary/20 focus:border-primary dark:focus:border-blue-500 outline-none transition-all text-slate-900 dark:text-white",placeholder:"e.g. Dr. Ahmed Hassan"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Email Address"}),g.jsxs("div",{className:"relative",children:[g.jsx(qL,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),g.jsx("input",{type:"email",required:!0,value:o,onChange:b=>s(b.target.value),className:"block w-full pl-10 pr-3 py-2.5 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg focus:ring-2 focus:ring-primary/20 focus:border-primary dark:focus:border-blue-500 outline-none transition-all text-slate-900 dark:text-white",placeholder:"name@bis.edu.eg"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Password"}),g.jsxs("div",{className:"relative",children:[g.jsx(o8,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),g.jsx("input",{type:"password",required:!0,value:a,onChange:b=>l(b.target.value),className:"block w-full pl-10 pr-3 py-2.5 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg focus:ring-2 focus:ring-primary/20 focus:border-primary dark:focus:border-blue-500 outline-none transition-all text-slate-900 dark:text-white",placeholder:""})]})]})]}),p&&g.jsxs(ue.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"p-3 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 flex items-start gap-3",children:[g.jsx(Zg,{className:"h-5 w-5 text-red-600 dark:text-red-400 shrink-0 mt-0.5"}),g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:p})]}),g.jsxs(Et,{type:"submit",variant:e==="faculty"?"primary":"secondary",className:"w-full justify-center py-3",isLoading:f,children:[r==="login"?"Sign In":"Create Account",!f&&g.jsx(h_,{className:"ml-2 h-4 w-4"})]})]}),g.jsx("div",{className:"text-center pt-4",children:g.jsxs("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:[r==="login"?"Don't have an account?":"Already registered?"," ",g.jsx("button",{onClick:x,className:`font-semibold hover:underline ${e==="faculty"?"text-primary dark:text-blue-400":"text-secondary dark:text-teal-400"}`,children:r==="login"?"Register now":"Sign in"})]})})]})})]})},Vie=()=>{const[t,e]=j.useState(!1),[n,r]=j.useState(!1),[i,o]=j.useState(!1),[s,a]=j.useState(null),l=Gi();Xo();const u=j.useRef(null),c=j.useRef(null);j.useEffect(()=>{(async()=>{if($n.currentUser)try{const v=Dl(Lr,"faculty",$n.currentUser.uid),x=await uS(v);x.exists()&&a(x.data())}catch(v){console.error("Error fetching profile:",v)}})()},[]),j.useEffect(()=>{const p=v=>{u.current&&!u.current.contains(v.target)&&r(!1),c.current&&!c.current.contains(v.target)&&o(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const f=async()=>{try{await wee($n),l("/login")}catch(p){console.error("Error signing out:",p)}},d=[{icon:jP,label:"Overview",path:"/faculty/overview"},{icon:bd,label:"My Courses",path:"/faculty/courses"},{icon:wd,label:"Students",path:"/faculty/students"},{icon:sm,label:"Settings",path:"/faculty/settings"}];return g.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 flex font-sans",children:[g.jsxs("aside",{className:"hidden md:flex flex-col w-64 bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800 fixed inset-y-0 z-20",children:[g.jsxs("div",{className:"p-6 flex items-center gap-3",children:[g.jsx("div",{className:"bg-primary/10 dark:bg-blue-900/20 p-2 rounded-lg",children:g.jsx(jP,{className:"h-6 w-6 text-primary dark:text-blue-400"})}),g.jsx("span",{className:"font-bold text-lg text-slate-900 dark:text-white tracking-tight",children:"Smart Grader"})]}),g.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1",children:d.map(p=>g.jsxs(RP,{to:p.path,className:({isActive:v})=>`
                w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors
                ${v?"bg-primary/5 text-primary dark:bg-blue-900/20 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-white"}
              `,children:[g.jsx(p.icon,{className:"h-5 w-5"}),p.label]},p.path))}),g.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-800",children:g.jsxs("button",{onClick:f,className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/10 rounded-lg transition-colors",children:[g.jsx(s8,{className:"h-5 w-5"}),"Sign Out"]})})]}),g.jsxs("div",{className:"flex-1 flex flex-col md:ml-64 transition-all duration-300",children:[g.jsxs("header",{className:"h-16 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between px-4 sticky top-0 z-30",children:[g.jsx("button",{className:"md:hidden p-2 text-slate-600 dark:text-slate-300",onClick:()=>e(!0),children:g.jsx(GL,{className:"h-6 w-6"})}),g.jsxs("div",{className:"flex-1 max-w-md mx-4 hidden sm:block relative",children:[g.jsx(ey,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),g.jsx("input",{type:"text",placeholder:"Search courses or students...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 dark:bg-slate-800 border-none rounded-lg text-sm focus:ring-2 focus:ring-primary/20 outline-none text-slate-900 dark:text-white placeholder:text-slate-400"})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"relative",ref:c,children:[g.jsxs("button",{onClick:()=>o(!i),className:"p-2 text-slate-500 hover:text-primary dark:text-slate-400 dark:hover:text-white transition-colors relative",children:[g.jsx($L,{className:"h-5 w-5"}),g.jsx("span",{className:"absolute top-2 right-2 h-2 w-2 bg-red-500 rounded-full border-2 border-white dark:border-slate-900"})]}),g.jsx(hr,{children:i&&g.jsxs(ue.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute right-0 mt-2 w-64 bg-white dark:bg-slate-900 rounded-xl shadow-lg border border-slate-200 dark:border-slate-800 py-2 z-50",children:[g.jsx("div",{className:"px-4 py-2 border-b border-slate-100 dark:border-slate-800",children:g.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Notifications"})}),g.jsx("div",{className:"px-4 py-8 text-center text-slate-500 dark:text-slate-400 text-sm",children:g.jsx("p",{children:"No new notifications"})})]})})]}),g.jsxs("div",{className:"relative",ref:u,children:[g.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-3 pl-2 pr-1 py-1 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg transition-colors",children:[g.jsx("div",{className:"h-8 w-8 bg-gradient-to-tr from-primary to-secondary rounded-full flex items-center justify-center text-white font-bold text-xs shadow-md",children:s!=null&&s.fullName?s.fullName.charAt(0):g.jsx(am,{className:"h-4 w-4"})}),g.jsxs("div",{className:"hidden lg:block text-left mr-1",children:[g.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white leading-none",children:(s==null?void 0:s.fullName)||"Faculty Member"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"Instructor"})]}),g.jsx(Jz,{className:"h-4 w-4 text-slate-400 hidden lg:block"})]}),g.jsx(hr,{children:n&&g.jsxs(ue.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-900 rounded-xl shadow-lg border border-slate-200 dark:border-slate-800 py-1 z-50",children:[g.jsxs("div",{className:"px-4 py-3 border-b border-slate-100 dark:border-slate-800 lg:hidden",children:[g.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:(s==null?void 0:s.fullName)||"Faculty Member"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Instructor"})]}),g.jsx("button",{onClick:()=>l("/faculty/settings"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Profile Settings"}),g.jsx("button",{onClick:()=>l("/faculty/settings"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Help Center"}),g.jsx("div",{className:"border-t border-slate-100 dark:border-slate-800 mt-1 pt-1",children:g.jsx("button",{onClick:f,className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors",children:"Sign Out"})})]})})]})]})]}),g.jsx(hr,{children:t&&g.jsxs(g.Fragment,{children:[g.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/50 z-40 md:hidden",onClick:()=>e(!1)}),g.jsxs(ue.aside,{initial:{x:-280},animate:{x:0},exit:{x:-280},className:"fixed inset-y-0 left-0 w-72 bg-white dark:bg-slate-900 z-50 md:hidden flex flex-col",children:[g.jsxs("div",{className:"p-6 flex justify-between items-center border-b border-slate-200 dark:border-slate-800",children:[g.jsx("span",{className:"font-bold text-lg text-slate-900 dark:text-white",children:"Smart Grader"}),g.jsx("button",{onClick:()=>e(!1),children:g.jsx(Fo,{className:"h-6 w-6 text-slate-500"})})]}),g.jsx("nav",{className:"flex-1 p-4 space-y-2",children:d.map(p=>g.jsxs(RP,{to:p.path,onClick:()=>e(!1),className:({isActive:v})=>`
                        w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors
                        ${v?"bg-primary/5 text-primary dark:bg-blue-900/20 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}
                      `,children:[g.jsx(p.icon,{className:"h-5 w-5"}),p.label]},p.path))})]})]})}),g.jsx("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto",children:g.jsx(Oz,{})})]})]})};function QF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=QF(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Te(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=QF(t))&&(r&&(r+=" "),r+=e);return r}var Fie=Array.isArray,Vn=Fie,Uie=typeof mh=="object"&&mh&&mh.Object===Object&&mh,JF=Uie,Bie=JF,zie=typeof self=="object"&&self&&self.Object===Object&&self,qie=Bie||zie||Function("return this")(),oi=qie,Gie=oi,Wie=Gie.Symbol,zd=Wie,vO=zd,ZF=Object.prototype,Hie=ZF.hasOwnProperty,Kie=ZF.toString,rc=vO?vO.toStringTag:void 0;function Yie(t){var e=Hie.call(t,rc),n=t[rc];try{t[rc]=void 0;var r=!0}catch{}var i=Kie.call(t);return r&&(e?t[rc]=n:delete t[rc]),i}var Xie=Yie,Qie=Object.prototype,Jie=Qie.toString;function Zie(t){return Jie.call(t)}var eoe=Zie,xO=zd,toe=Xie,noe=eoe,roe="[object Null]",ioe="[object Undefined]",_O=xO?xO.toStringTag:void 0;function ooe(t){return t==null?t===void 0?ioe:roe:_O&&_O in Object(t)?toe(t):noe(t)}var Hi=ooe;function soe(t){return t!=null&&typeof t=="object"}var Ki=soe,aoe=Hi,loe=Ki,uoe="[object Symbol]";function coe(t){return typeof t=="symbol"||loe(t)&&aoe(t)==uoe}var _u=coe,foe=Vn,doe=_u,hoe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,poe=/^\w*$/;function moe(t,e){if(foe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||doe(t)?!0:poe.test(t)||!hoe.test(t)||e!=null&&t in Object(e)}var pS=moe;function goe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var os=goe;const bu=Fe(os);var yoe=Hi,voe=os,xoe="[object AsyncFunction]",_oe="[object Function]",boe="[object GeneratorFunction]",woe="[object Proxy]";function Toe(t){if(!voe(t))return!1;var e=yoe(t);return e==_oe||e==boe||e==xoe||e==woe}var mS=Toe;const ge=Fe(mS);var Eoe=oi,Soe=Eoe["__core-js_shared__"],Aoe=Soe,B0=Aoe,bO=function(){var t=/[^.]+$/.exec(B0&&B0.keys&&B0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Poe(t){return!!bO&&bO in t}var Coe=Poe,Ioe=Function.prototype,koe=Ioe.toString;function Ooe(t){if(t!=null){try{return koe.call(t)}catch{}try{return t+""}catch{}}return""}var e4=Ooe,Noe=mS,Roe=Coe,Moe=os,Doe=e4,Loe=/[\\^$.*+?()[\]{}|]/g,joe=/^\[object .+?Constructor\]$/,$oe=Function.prototype,Voe=Object.prototype,Foe=$oe.toString,Uoe=Voe.hasOwnProperty,Boe=RegExp("^"+Foe.call(Uoe).replace(Loe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zoe(t){if(!Moe(t)||Roe(t))return!1;var e=Noe(t)?Boe:joe;return e.test(Doe(t))}var qoe=zoe;function Goe(t,e){return t==null?void 0:t[e]}var Woe=Goe,Hoe=qoe,Koe=Woe;function Yoe(t,e){var n=Koe(t,e);return Hoe(n)?n:void 0}var ha=Yoe,Xoe=ha,Qoe=Xoe(Object,"create"),My=Qoe,wO=My;function Joe(){this.__data__=wO?wO(null):{},this.size=0}var Zoe=Joe;function ese(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var tse=ese,nse=My,rse="__lodash_hash_undefined__",ise=Object.prototype,ose=ise.hasOwnProperty;function sse(t){var e=this.__data__;if(nse){var n=e[t];return n===rse?void 0:n}return ose.call(e,t)?e[t]:void 0}var ase=sse,lse=My,use=Object.prototype,cse=use.hasOwnProperty;function fse(t){var e=this.__data__;return lse?e[t]!==void 0:cse.call(e,t)}var dse=fse,hse=My,pse="__lodash_hash_undefined__";function mse(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=hse&&e===void 0?pse:e,this}var gse=mse,yse=Zoe,vse=tse,xse=ase,_se=dse,bse=gse;function wu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wu.prototype.clear=yse;wu.prototype.delete=vse;wu.prototype.get=xse;wu.prototype.has=_se;wu.prototype.set=bse;var wse=wu;function Tse(){this.__data__=[],this.size=0}var Ese=Tse;function Sse(t,e){return t===e||t!==t&&e!==e}var gS=Sse,Ase=gS;function Pse(t,e){for(var n=t.length;n--;)if(Ase(t[n][0],e))return n;return-1}var Dy=Pse,Cse=Dy,Ise=Array.prototype,kse=Ise.splice;function Ose(t){var e=this.__data__,n=Cse(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():kse.call(e,n,1),--this.size,!0}var Nse=Ose,Rse=Dy;function Mse(t){var e=this.__data__,n=Rse(e,t);return n<0?void 0:e[n][1]}var Dse=Mse,Lse=Dy;function jse(t){return Lse(this.__data__,t)>-1}var $se=jse,Vse=Dy;function Fse(t,e){var n=this.__data__,r=Vse(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Use=Fse,Bse=Ese,zse=Nse,qse=Dse,Gse=$se,Wse=Use;function Tu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Tu.prototype.clear=Bse;Tu.prototype.delete=zse;Tu.prototype.get=qse;Tu.prototype.has=Gse;Tu.prototype.set=Wse;var Ly=Tu,Hse=ha,Kse=oi,Yse=Hse(Kse,"Map"),yS=Yse,TO=wse,Xse=Ly,Qse=yS;function Jse(){this.size=0,this.__data__={hash:new TO,map:new(Qse||Xse),string:new TO}}var Zse=Jse;function eae(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var tae=eae,nae=tae;function rae(t,e){var n=t.__data__;return nae(e)?n[typeof e=="string"?"string":"hash"]:n.map}var jy=rae,iae=jy;function oae(t){var e=iae(this,t).delete(t);return this.size-=e?1:0,e}var sae=oae,aae=jy;function lae(t){return aae(this,t).get(t)}var uae=lae,cae=jy;function fae(t){return cae(this,t).has(t)}var dae=fae,hae=jy;function pae(t,e){var n=hae(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var mae=pae,gae=Zse,yae=sae,vae=uae,xae=dae,_ae=mae;function Eu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Eu.prototype.clear=gae;Eu.prototype.delete=yae;Eu.prototype.get=vae;Eu.prototype.has=xae;Eu.prototype.set=_ae;var vS=Eu,t4=vS,bae="Expected a function";function xS(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(bae);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(xS.Cache||t4),n}xS.Cache=t4;var n4=xS;const wae=Fe(n4);var Tae=n4,Eae=500;function Sae(t){var e=Tae(t,function(r){return n.size===Eae&&n.clear(),r}),n=e.cache;return e}var Aae=Sae,Pae=Aae,Cae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Iae=/\\(\\)?/g,kae=Pae(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Cae,function(n,r,i,o){e.push(i?o.replace(Iae,"$1"):r||n)}),e}),Oae=kae;function Nae(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var _S=Nae,EO=zd,Rae=_S,Mae=Vn,Dae=_u,SO=EO?EO.prototype:void 0,AO=SO?SO.toString:void 0;function r4(t){if(typeof t=="string")return t;if(Mae(t))return Rae(t,r4)+"";if(Dae(t))return AO?AO.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Lae=r4,jae=Lae;function $ae(t){return t==null?"":jae(t)}var i4=$ae,Vae=Vn,Fae=pS,Uae=Oae,Bae=i4;function zae(t,e){return Vae(t)?t:Fae(t,e)?[t]:Uae(Bae(t))}var o4=zae,qae=_u;function Gae(t){if(typeof t=="string"||qae(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var $y=Gae,Wae=o4,Hae=$y;function Kae(t,e){e=Wae(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Hae(e[n++])];return n&&n==r?t:void 0}var bS=Kae,Yae=bS;function Xae(t,e,n){var r=t==null?void 0:Yae(t,e);return r===void 0?n:r}var s4=Xae;const Xn=Fe(s4);function Qae(t){return t==null}var Jae=Qae;const Ee=Fe(Jae);var Zae=Hi,ele=Vn,tle=Ki,nle="[object String]";function rle(t){return typeof t=="string"||!ele(t)&&tle(t)&&Zae(t)==nle}var ile=rle;const ea=Fe(ile);var a4={exports:{}},Ue={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wS=Symbol.for("react.element"),TS=Symbol.for("react.portal"),Vy=Symbol.for("react.fragment"),Fy=Symbol.for("react.strict_mode"),Uy=Symbol.for("react.profiler"),By=Symbol.for("react.provider"),zy=Symbol.for("react.context"),ole=Symbol.for("react.server_context"),qy=Symbol.for("react.forward_ref"),Gy=Symbol.for("react.suspense"),Wy=Symbol.for("react.suspense_list"),Hy=Symbol.for("react.memo"),Ky=Symbol.for("react.lazy"),sle=Symbol.for("react.offscreen"),l4;l4=Symbol.for("react.module.reference");function vr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case wS:switch(t=t.type,t){case Vy:case Uy:case Fy:case Gy:case Wy:return t;default:switch(t=t&&t.$$typeof,t){case ole:case zy:case qy:case Ky:case Hy:case By:return t;default:return e}}case TS:return e}}}Ue.ContextConsumer=zy;Ue.ContextProvider=By;Ue.Element=wS;Ue.ForwardRef=qy;Ue.Fragment=Vy;Ue.Lazy=Ky;Ue.Memo=Hy;Ue.Portal=TS;Ue.Profiler=Uy;Ue.StrictMode=Fy;Ue.Suspense=Gy;Ue.SuspenseList=Wy;Ue.isAsyncMode=function(){return!1};Ue.isConcurrentMode=function(){return!1};Ue.isContextConsumer=function(t){return vr(t)===zy};Ue.isContextProvider=function(t){return vr(t)===By};Ue.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===wS};Ue.isForwardRef=function(t){return vr(t)===qy};Ue.isFragment=function(t){return vr(t)===Vy};Ue.isLazy=function(t){return vr(t)===Ky};Ue.isMemo=function(t){return vr(t)===Hy};Ue.isPortal=function(t){return vr(t)===TS};Ue.isProfiler=function(t){return vr(t)===Uy};Ue.isStrictMode=function(t){return vr(t)===Fy};Ue.isSuspense=function(t){return vr(t)===Gy};Ue.isSuspenseList=function(t){return vr(t)===Wy};Ue.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Vy||t===Uy||t===Fy||t===Gy||t===Wy||t===sle||typeof t=="object"&&t!==null&&(t.$$typeof===Ky||t.$$typeof===Hy||t.$$typeof===By||t.$$typeof===zy||t.$$typeof===qy||t.$$typeof===l4||t.getModuleId!==void 0)};Ue.typeOf=vr;a4.exports=Ue;var ale=a4.exports,lle=Hi,ule=Ki,cle="[object Number]";function fle(t){return typeof t=="number"||ule(t)&&lle(t)==cle}var u4=fle;const dle=Fe(u4);var hle=u4;function ple(t){return hle(t)&&t!=+t}var mle=ple;const qd=Fe(mle);var Tn=function(e){return e===0?0:e>0?1:-1},Rs=function(e){return ea(e)&&e.indexOf("%")===e.length-1},ee=function(e){return dle(e)&&!qd(e)},gle=function(e){return Ee(e)},Rt=function(e){return ee(e)||ea(e)},yle=0,Gd=function(e){var n=++yle;return"".concat(e||"").concat(n)},En=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ee(e)&&!ea(e))return r;var o;if(Rs(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return qd(o)&&(o=r),i&&o>n&&(o=n),o},mo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},vle=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},so=function(e,n){return ee(e)&&ee(n)?function(r){return e+r*(n-e)}:function(){return n}};function ab(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Xn(r,e))===n})}var xle=function(e,n){return ee(e)&&ee(n)?e-n:ea(e)&&ea(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function dl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function lb(t){"@babel/helpers - typeof";return lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lb(t)}var _le=["viewBox","children"],ble=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PO=["points","pathLength"],z0={svg:_le,polygon:PO,polyline:PO},ES=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Dm=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),!bu(r))return null;var i={};return Object.keys(r).forEach(function(o){ES.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},wle=function(e,n,r){return function(i){return e(n,r,i),null}},ta=function(e,n,r){if(!bu(e)||lb(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];ES.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=wle(s,n,r))}),i},Tle=["children"],Ele=["children"];function CO(t,e){if(t==null)return{};var n=Sle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var IO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ci=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},kO=null,q0=null,SS=function t(e){if(e===kO&&Array.isArray(q0))return q0;var n=[];return j.Children.forEach(e,function(r){Ee(r)||(ale.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),q0=n,kO=e,n};function pr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ci(i)}):r=[Ci(e)],SS(t).forEach(function(i){var o=Xn(i,"type.displayName")||Xn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function zn(t,e){var n=pr(t,e);return n&&n[0]}var OO=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ee(r)||r<=0||!ee(i)||i<=0)},Ale=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Ple=function(e){return e&&e.type&&ea(e.type)&&Ale.indexOf(e.type)>=0},Cle=function(e,n,r,i){var o,s=(o=z0==null?void 0:z0[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!ge(e)&&(i&&s.includes(n)||ble.includes(n))||r&&ES.includes(n)},pe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(j.isValidElement(e)&&(i=e.props),!bu(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;Cle((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},ub=function t(e,n){if(e===n)return!0;var r=j.Children.count(e);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return NO(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!NO(o,s))return!1}return!0},NO=function(e,n){if(Ee(e)&&Ee(n))return!0;if(!Ee(e)&&!Ee(n)){var r=e.props||{},i=r.children,o=CO(r,Tle),s=n.props||{},a=s.children,l=CO(s,Ele);return i&&a?dl(o,l)&&ub(i,a):!i&&!a?dl(o,l):!1}return!1},RO=function(e,n){var r=[],i={};return SS(e).forEach(function(o,s){if(Ple(o))r.push(o);else if(o){var a=Ci(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var f=u(o,a,s);r.push(f),i[a]=!0}}}),r},Ile=function(e){var n=e&&e.type;return n&&IO[n]?IO[n]:null},kle=function(e,n){return SS(n).indexOf(e)},Ole=["children","width","height","viewBox","className","style","title","desc"];function cb(){return cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cb.apply(this,arguments)}function Nle(t,e){if(t==null)return{};var n=Rle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fb(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=Nle(t,Ole),c=i||{width:n,height:r,x:0,y:0},f=Te("recharts-surface",o);return $.createElement("svg",cb({},pe(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),$.createElement("title",null,a),$.createElement("desc",null,l),e)}var Mle=["children","className"];function db(){return db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},db.apply(this,arguments)}function Dle(t,e){if(t==null)return{};var n=Lle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var je=$.forwardRef(function(t,e){var n=t.children,r=t.className,i=Dle(t,Mle),o=Te("recharts-layer",r);return $.createElement("g",db({className:o},pe(i,!0),{ref:e}),n)}),Nr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function jle(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var $le=jle,Vle=$le;function Fle(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Vle(t,e,n)}var Ule=Fle,Ble="\\ud800-\\udfff",zle="\\u0300-\\u036f",qle="\\ufe20-\\ufe2f",Gle="\\u20d0-\\u20ff",Wle=zle+qle+Gle,Hle="\\ufe0e\\ufe0f",Kle="\\u200d",Yle=RegExp("["+Kle+Ble+Wle+Hle+"]");function Xle(t){return Yle.test(t)}var c4=Xle;function Qle(t){return t.split("")}var Jle=Qle,f4="\\ud800-\\udfff",Zle="\\u0300-\\u036f",eue="\\ufe20-\\ufe2f",tue="\\u20d0-\\u20ff",nue=Zle+eue+tue,rue="\\ufe0e\\ufe0f",iue="["+f4+"]",hb="["+nue+"]",pb="\\ud83c[\\udffb-\\udfff]",oue="(?:"+hb+"|"+pb+")",d4="[^"+f4+"]",h4="(?:\\ud83c[\\udde6-\\uddff]){2}",p4="[\\ud800-\\udbff][\\udc00-\\udfff]",sue="\\u200d",m4=oue+"?",g4="["+rue+"]?",aue="(?:"+sue+"(?:"+[d4,h4,p4].join("|")+")"+g4+m4+")*",lue=g4+m4+aue,uue="(?:"+[d4+hb+"?",hb,h4,p4,iue].join("|")+")",cue=RegExp(pb+"(?="+pb+")|"+uue+lue,"g");function fue(t){return t.match(cue)||[]}var due=fue,hue=Jle,pue=c4,mue=due;function gue(t){return pue(t)?mue(t):hue(t)}var yue=gue,vue=Ule,xue=c4,_ue=yue,bue=i4;function wue(t){return function(e){e=bue(e);var n=xue(e)?_ue(e):void 0,r=n?n[0]:e.charAt(0),i=n?vue(n,1).join(""):e.slice(1);return r[t]()+i}}var Tue=wue,Eue=Tue,Sue=Eue("toUpperCase"),Aue=Sue;const Yy=Fe(Aue);function He(t){return function(){return t}}const y4=Math.cos,Lm=Math.sin,$r=Math.sqrt,jm=Math.PI,Xy=2*jm,mb=Math.PI,gb=2*mb,Es=1e-6,Pue=gb-Es;function v4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Cue(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return v4;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Iue{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?v4:Cue(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Es)if(!(Math.abs(f*l-u*c)>Es)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,v=i-a,x=l*l+u*u,_=p*p+v*v,b=Math.sqrt(x),w=Math.sqrt(d),T=o*Math.tan((mb-Math.acos((x+d-_)/(2*b*w)))/2),C=T/w,S=T/b;Math.abs(C-1)>Es&&this._append`L${e+C*c},${n+C*f}`,this._append`A${o},${o},0,0,${+(f*p>c*v)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,f=1^s,d=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Es||Math.abs(this._y1-c)>Es)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%gb+gb),d>Pue?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>Es&&this._append`A${r},${r},0,${+(d>=mb)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function AS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Iue(e)}function PS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function x4(t){this._context=t}x4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Qy(t){return new x4(t)}function _4(t){return t[0]}function b4(t){return t[1]}function w4(t,e){var n=He(!0),r=null,i=Qy,o=null,s=AS(a);t=typeof t=="function"?t:t===void 0?_4:He(t),e=typeof e=="function"?e:e===void 0?b4:He(e);function a(l){var u,c=(l=PS(l)).length,f,d=!1,p;for(r==null&&(o=i(p=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(f,u,l),+e(f,u,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:He(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:He(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:He(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Wh(t,e,n){var r=null,i=He(!0),o=null,s=Qy,a=null,l=AS(u);t=typeof t=="function"?t:t===void 0?_4:He(+t),e=typeof e=="function"?e:He(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?b4:He(+n);function u(f){var d,p,v,x=(f=PS(f)).length,_,b=!1,w,T=new Array(x),C=new Array(x);for(o==null&&(a=s(w=l())),d=0;d<=x;++d){if(!(d<x&&i(_=f[d],d,f))===b)if(b=!b)p=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=d-1;v>=p;--v)a.point(T[v],C[v]);a.lineEnd(),a.areaEnd()}b&&(T[d]=+t(_,d,f),C[d]=+e(_,d,f),a.point(r?+r(_,d,f):T[d],n?+n(_,d,f):C[d]))}if(w)return a=null,w+""||null}function c(){return w4().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:He(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:He(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:He(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:He(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:He(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:He(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:He(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class T4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function kue(t){return new T4(t,!0)}function Oue(t){return new T4(t,!1)}const CS={draw(t,e){const n=$r(e/jm);t.moveTo(n,0),t.arc(0,0,n,0,Xy)}},Nue={draw(t,e){const n=$r(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},E4=$r(1/3),Rue=E4*2,Mue={draw(t,e){const n=$r(e/Rue),r=n*E4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Due={draw(t,e){const n=$r(e),r=-n/2;t.rect(r,r,n,n)}},Lue=.8908130915292852,S4=Lm(jm/10)/Lm(7*jm/10),jue=Lm(Xy/10)*S4,$ue=-y4(Xy/10)*S4,Vue={draw(t,e){const n=$r(e*Lue),r=jue*n,i=$ue*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Xy*o/5,a=y4(s),l=Lm(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},G0=$r(3),Fue={draw(t,e){const n=-$r(e/(G0*3));t.moveTo(0,n*2),t.lineTo(-G0*n,-n),t.lineTo(G0*n,-n),t.closePath()}},nr=-.5,rr=$r(3)/2,yb=1/$r(12),Uue=(yb/2+1)*3,Bue={draw(t,e){const n=$r(e/Uue),r=n/2,i=n*yb,o=r,s=n*yb+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(nr*r-rr*i,rr*r+nr*i),t.lineTo(nr*o-rr*s,rr*o+nr*s),t.lineTo(nr*a-rr*l,rr*a+nr*l),t.lineTo(nr*r+rr*i,nr*i-rr*r),t.lineTo(nr*o+rr*s,nr*s-rr*o),t.lineTo(nr*a+rr*l,nr*l-rr*a),t.closePath()}};function zue(t,e){let n=null,r=AS(i);t=typeof t=="function"?t:He(t||CS),e=typeof e=="function"?e:He(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:He(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:He(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function $m(){}function Vm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function A4(t){this._context=t}A4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function que(t){return new A4(t)}function P4(t){this._context=t}P4.prototype={areaStart:$m,areaEnd:$m,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Vm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Gue(t){return new P4(t)}function C4(t){this._context=t}C4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Vm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Wue(t){return new C4(t)}function I4(t){this._context=t}I4.prototype={areaStart:$m,areaEnd:$m,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Hue(t){return new I4(t)}function MO(t){return t<0?-1:1}function DO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(MO(o)+MO(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function LO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function W0(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Fm(t){this._context=t}Fm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:W0(this,this._t0,LO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,W0(this,LO(this,n=DO(this,t,e)),n);break;default:W0(this,this._t0,n=DO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function k4(t){this._context=new O4(t)}(k4.prototype=Object.create(Fm.prototype)).point=function(t,e){Fm.prototype.point.call(this,e,t)};function O4(t){this._context=t}O4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function Kue(t){return new Fm(t)}function Yue(t){return new k4(t)}function N4(t){this._context=t}N4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=jO(t),i=jO(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function jO(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Xue(t){return new N4(t)}function Jy(t,e){this._context=t,this._t=e}Jy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Que(t){return new Jy(t,.5)}function Jue(t){return new Jy(t,0)}function Zue(t){return new Jy(t,1)}function jl(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function vb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function ece(t,e){return t[e]}function tce(t){const e=[];return e.key=t,e}function nce(){var t=He([]),e=vb,n=jl,r=ece;function i(o){var s=Array.from(t.apply(this,arguments),tce),a,l=s.length,u=-1,c;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,c=PS(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:He(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:He(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?vb:typeof o=="function"?o:He(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??jl,i):n},i}function rce(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}jl(t,e)}}function ice(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}jl(t,e)}}function oce(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],f=c[r][1]||0,d=c[r-1][1]||0,p=(f-d)/2,v=0;v<a;++v){var x=t[e[v]],_=x[r][1]||0,b=x[r-1][1]||0;p+=_-b}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,jl(t,e)}}function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}var sce=["type","size","sizeType"];function xb(){return xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xb.apply(this,arguments)}function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){ace(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ace(t,e,n){return e=lce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lce(t){var e=uce(t,"string");return Df(e)=="symbol"?e:e+""}function uce(t,e){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cce(t,e){if(t==null)return{};var n=fce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var R4={symbolCircle:CS,symbolCross:Nue,symbolDiamond:Mue,symbolSquare:Due,symbolStar:Vue,symbolTriangle:Fue,symbolWye:Bue},dce=Math.PI/180,hce=function(e){var n="symbol".concat(Yy(e));return R4[n]||CS},pce=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*dce;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},mce=function(e,n){R4["symbol".concat(Yy(e))]=n},IS=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=cce(e,sce),u=VO(VO({},l),{},{type:r,size:o,sizeType:a}),c=function(){var _=hce(r),b=zue().type(_).size(pce(o,a,r));return b()},f=u.className,d=u.cx,p=u.cy,v=pe(u,!0);return d===+d&&p===+p&&o===+o?$.createElement("path",xb({},v,{className:Te("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};IS.registerSymbol=mce;function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function _b(){return _b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_b.apply(this,arguments)}function FO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(n),!0).forEach(function(r){Lf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D4(r.key),r)}}function xce(t,e,n){return e&&vce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ce(t,e,n){return e=Um(e),bce(t,M4()?Reflect.construct(e,n||[],Um(t).constructor):e.apply(t,n))}function bce(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wce(t)}function wce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M4=function(){return!!t})()}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Um(t)}function Tce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bb(t,e)}function bb(t,e){return bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bb(t,e)}function Lf(t,e,n){return e=D4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D4(t){var e=Ece(t,"string");return $l(e)=="symbol"?e:e+""}function Ece(t,e){if($l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ir=32,kS=function(t){function e(){return yce(this,e),_ce(this,e,arguments)}return Tce(e,t),xce(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=ir/2,s=ir/6,a=ir/3,l=r.inactive?i:r.color;if(r.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:ir,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(ir,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return $.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ir/8,"h").concat(ir,"v").concat(ir*3/4,"h").concat(-ir,"z"),className:"recharts-legend-icon"});if($.isValidElement(r.legendIcon)){var u=gce({},r);return delete u.legendIcon,$.cloneElement(r.legendIcon,u)}return $.createElement(IS,{fill:l,cx:o,cy:o,size:ir,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:ir,height:ir},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,v){var x=p.formatter||l,_=Te(Lf(Lf({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=ge(p.value)?null:p.value;Nr(!ge(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?u:p.color;return $.createElement("li",_b({className:_,style:f,key:"legend-item-".concat(v)},ta(r.props,p,v)),$.createElement(fb,{width:s,height:s,viewBox:c,style:d},r.renderIcon(p)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},x?x(b,p,v):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(j.PureComponent);Lf(kS,"displayName","Legend");Lf(kS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Sce=Ly;function Ace(){this.__data__=new Sce,this.size=0}var Pce=Ace;function Cce(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Ice=Cce;function kce(t){return this.__data__.get(t)}var Oce=kce;function Nce(t){return this.__data__.has(t)}var Rce=Nce,Mce=Ly,Dce=yS,Lce=vS,jce=200;function $ce(t,e){var n=this.__data__;if(n instanceof Mce){var r=n.__data__;if(!Dce||r.length<jce-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Lce(r)}return n.set(t,e),this.size=n.size,this}var Vce=$ce,Fce=Ly,Uce=Pce,Bce=Ice,zce=Oce,qce=Rce,Gce=Vce;function Su(t){var e=this.__data__=new Fce(t);this.size=e.size}Su.prototype.clear=Uce;Su.prototype.delete=Bce;Su.prototype.get=zce;Su.prototype.has=qce;Su.prototype.set=Gce;var L4=Su,Wce="__lodash_hash_undefined__";function Hce(t){return this.__data__.set(t,Wce),this}var Kce=Hce;function Yce(t){return this.__data__.has(t)}var Xce=Yce,Qce=vS,Jce=Kce,Zce=Xce;function Bm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Qce;++e<n;)this.add(t[e])}Bm.prototype.add=Bm.prototype.push=Jce;Bm.prototype.has=Zce;var j4=Bm;function efe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var $4=efe;function tfe(t,e){return t.has(e)}var V4=tfe,nfe=j4,rfe=$4,ife=V4,ofe=1,sfe=2;function afe(t,e,n,r,i,o){var s=n&ofe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=n&sfe?new nfe:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var v=t[f],x=e[f];if(r)var _=s?r(x,v,f,e,t,o):r(v,x,f,t,e,o);if(_!==void 0){if(_)continue;d=!1;break}if(p){if(!rfe(e,function(b,w){if(!ife(p,w)&&(v===b||i(v,b,n,r,o)))return p.push(w)})){d=!1;break}}else if(!(v===x||i(v,x,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var F4=afe,lfe=oi,ufe=lfe.Uint8Array,cfe=ufe;function ffe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var dfe=ffe;function hfe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var OS=hfe,UO=zd,BO=cfe,pfe=gS,mfe=F4,gfe=dfe,yfe=OS,vfe=1,xfe=2,_fe="[object Boolean]",bfe="[object Date]",wfe="[object Error]",Tfe="[object Map]",Efe="[object Number]",Sfe="[object RegExp]",Afe="[object Set]",Pfe="[object String]",Cfe="[object Symbol]",Ife="[object ArrayBuffer]",kfe="[object DataView]",zO=UO?UO.prototype:void 0,H0=zO?zO.valueOf:void 0;function Ofe(t,e,n,r,i,o,s){switch(n){case kfe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Ife:return!(t.byteLength!=e.byteLength||!o(new BO(t),new BO(e)));case _fe:case bfe:case Efe:return pfe(+t,+e);case wfe:return t.name==e.name&&t.message==e.message;case Sfe:case Pfe:return t==e+"";case Tfe:var a=gfe;case Afe:var l=r&vfe;if(a||(a=yfe),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=xfe,s.set(t,e);var c=mfe(a(t),a(e),r,i,o,s);return s.delete(t),c;case Cfe:if(H0)return H0.call(t)==H0.call(e)}return!1}var Nfe=Ofe;function Rfe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var U4=Rfe,Mfe=U4,Dfe=Vn;function Lfe(t,e,n){var r=e(t);return Dfe(t)?r:Mfe(r,n(t))}var jfe=Lfe;function $fe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var Vfe=$fe;function Ffe(){return[]}var Ufe=Ffe,Bfe=Vfe,zfe=Ufe,qfe=Object.prototype,Gfe=qfe.propertyIsEnumerable,qO=Object.getOwnPropertySymbols,Wfe=qO?function(t){return t==null?[]:(t=Object(t),Bfe(qO(t),function(e){return Gfe.call(t,e)}))}:zfe,Hfe=Wfe;function Kfe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Yfe=Kfe,Xfe=Hi,Qfe=Ki,Jfe="[object Arguments]";function Zfe(t){return Qfe(t)&&Xfe(t)==Jfe}var ede=Zfe,GO=ede,tde=Ki,B4=Object.prototype,nde=B4.hasOwnProperty,rde=B4.propertyIsEnumerable,ide=GO(function(){return arguments}())?GO:function(t){return tde(t)&&nde.call(t,"callee")&&!rde.call(t,"callee")},NS=ide,zm={exports:{}};function ode(){return!1}var sde=ode;zm.exports;(function(t,e){var n=oi,r=sde,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(zm,zm.exports);var z4=zm.exports,ade=9007199254740991,lde=/^(?:0|[1-9]\d*)$/;function ude(t,e){var n=typeof t;return e=e??ade,!!e&&(n=="number"||n!="symbol"&&lde.test(t))&&t>-1&&t%1==0&&t<e}var RS=ude,cde=9007199254740991;function fde(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=cde}var MS=fde,dde=Hi,hde=MS,pde=Ki,mde="[object Arguments]",gde="[object Array]",yde="[object Boolean]",vde="[object Date]",xde="[object Error]",_de="[object Function]",bde="[object Map]",wde="[object Number]",Tde="[object Object]",Ede="[object RegExp]",Sde="[object Set]",Ade="[object String]",Pde="[object WeakMap]",Cde="[object ArrayBuffer]",Ide="[object DataView]",kde="[object Float32Array]",Ode="[object Float64Array]",Nde="[object Int8Array]",Rde="[object Int16Array]",Mde="[object Int32Array]",Dde="[object Uint8Array]",Lde="[object Uint8ClampedArray]",jde="[object Uint16Array]",$de="[object Uint32Array]",Ze={};Ze[kde]=Ze[Ode]=Ze[Nde]=Ze[Rde]=Ze[Mde]=Ze[Dde]=Ze[Lde]=Ze[jde]=Ze[$de]=!0;Ze[mde]=Ze[gde]=Ze[Cde]=Ze[yde]=Ze[Ide]=Ze[vde]=Ze[xde]=Ze[_de]=Ze[bde]=Ze[wde]=Ze[Tde]=Ze[Ede]=Ze[Sde]=Ze[Ade]=Ze[Pde]=!1;function Vde(t){return pde(t)&&hde(t.length)&&!!Ze[dde(t)]}var Fde=Vde;function Ude(t){return function(e){return t(e)}}var q4=Ude,qm={exports:{}};qm.exports;(function(t,e){var n=JF,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(qm,qm.exports);var Bde=qm.exports,zde=Fde,qde=q4,WO=Bde,HO=WO&&WO.isTypedArray,Gde=HO?qde(HO):zde,G4=Gde,Wde=Yfe,Hde=NS,Kde=Vn,Yde=z4,Xde=RS,Qde=G4,Jde=Object.prototype,Zde=Jde.hasOwnProperty;function ehe(t,e){var n=Kde(t),r=!n&&Hde(t),i=!n&&!r&&Yde(t),o=!n&&!r&&!i&&Qde(t),s=n||r||i||o,a=s?Wde(t.length,String):[],l=a.length;for(var u in t)(e||Zde.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Xde(u,l)))&&a.push(u);return a}var the=ehe,nhe=Object.prototype;function rhe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||nhe;return t===n}var ihe=rhe;function ohe(t,e){return function(n){return t(e(n))}}var W4=ohe,she=W4,ahe=she(Object.keys,Object),lhe=ahe,uhe=ihe,che=lhe,fhe=Object.prototype,dhe=fhe.hasOwnProperty;function hhe(t){if(!uhe(t))return che(t);var e=[];for(var n in Object(t))dhe.call(t,n)&&n!="constructor"&&e.push(n);return e}var phe=hhe,mhe=mS,ghe=MS;function yhe(t){return t!=null&&ghe(t.length)&&!mhe(t)}var Wd=yhe,vhe=the,xhe=phe,_he=Wd;function bhe(t){return _he(t)?vhe(t):xhe(t)}var Zy=bhe,whe=jfe,The=Hfe,Ehe=Zy;function She(t){return whe(t,Ehe,The)}var Ahe=She,KO=Ahe,Phe=1,Che=Object.prototype,Ihe=Che.hasOwnProperty;function khe(t,e,n,r,i,o){var s=n&Phe,a=KO(t),l=a.length,u=KO(e),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var d=a[f];if(!(s?d in e:Ihe.call(e,d)))return!1}var p=o.get(t),v=o.get(e);if(p&&v)return p==e&&v==t;var x=!0;o.set(t,e),o.set(e,t);for(var _=s;++f<l;){d=a[f];var b=t[d],w=e[d];if(r)var T=s?r(w,b,d,e,t,o):r(b,w,d,t,e,o);if(!(T===void 0?b===w||i(b,w,n,r,o):T)){x=!1;break}_||(_=d=="constructor")}if(x&&!_){var C=t.constructor,S=e.constructor;C!=S&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof S=="function"&&S instanceof S)&&(x=!1)}return o.delete(t),o.delete(e),x}var Ohe=khe,Nhe=ha,Rhe=oi,Mhe=Nhe(Rhe,"DataView"),Dhe=Mhe,Lhe=ha,jhe=oi,$he=Lhe(jhe,"Promise"),Vhe=$he,Fhe=ha,Uhe=oi,Bhe=Fhe(Uhe,"Set"),H4=Bhe,zhe=ha,qhe=oi,Ghe=zhe(qhe,"WeakMap"),Whe=Ghe,wb=Dhe,Tb=yS,Eb=Vhe,Sb=H4,Ab=Whe,K4=Hi,Au=e4,YO="[object Map]",Hhe="[object Object]",XO="[object Promise]",QO="[object Set]",JO="[object WeakMap]",ZO="[object DataView]",Khe=Au(wb),Yhe=Au(Tb),Xhe=Au(Eb),Qhe=Au(Sb),Jhe=Au(Ab),Ss=K4;(wb&&Ss(new wb(new ArrayBuffer(1)))!=ZO||Tb&&Ss(new Tb)!=YO||Eb&&Ss(Eb.resolve())!=XO||Sb&&Ss(new Sb)!=QO||Ab&&Ss(new Ab)!=JO)&&(Ss=function(t){var e=K4(t),n=e==Hhe?t.constructor:void 0,r=n?Au(n):"";if(r)switch(r){case Khe:return ZO;case Yhe:return YO;case Xhe:return XO;case Qhe:return QO;case Jhe:return JO}return e});var Zhe=Ss,K0=L4,epe=F4,tpe=Nfe,npe=Ohe,eN=Zhe,tN=Vn,nN=z4,rpe=G4,ipe=1,rN="[object Arguments]",iN="[object Array]",Hh="[object Object]",ope=Object.prototype,oN=ope.hasOwnProperty;function spe(t,e,n,r,i,o){var s=tN(t),a=tN(e),l=s?iN:eN(t),u=a?iN:eN(e);l=l==rN?Hh:l,u=u==rN?Hh:u;var c=l==Hh,f=u==Hh,d=l==u;if(d&&nN(t)){if(!nN(e))return!1;s=!0,c=!1}if(d&&!c)return o||(o=new K0),s||rpe(t)?epe(t,e,n,r,i,o):tpe(t,e,l,n,r,i,o);if(!(n&ipe)){var p=c&&oN.call(t,"__wrapped__"),v=f&&oN.call(e,"__wrapped__");if(p||v){var x=p?t.value():t,_=v?e.value():e;return o||(o=new K0),i(x,_,n,r,o)}}return d?(o||(o=new K0),npe(t,e,n,r,i,o)):!1}var ape=spe,lpe=ape,sN=Ki;function Y4(t,e,n,r,i){return t===e?!0:t==null||e==null||!sN(t)&&!sN(e)?t!==t&&e!==e:lpe(t,e,n,r,Y4,i)}var DS=Y4,upe=L4,cpe=DS,fpe=1,dpe=2;function hpe(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new upe;if(r)var d=r(u,c,l,t,e,f);if(!(d===void 0?cpe(c,u,fpe|dpe,r,f):d))return!1}}return!0}var ppe=hpe,mpe=os;function gpe(t){return t===t&&!mpe(t)}var X4=gpe,ype=X4,vpe=Zy;function xpe(t){for(var e=vpe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ype(i)]}return e}var _pe=xpe;function bpe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Q4=bpe,wpe=ppe,Tpe=_pe,Epe=Q4;function Spe(t){var e=Tpe(t);return e.length==1&&e[0][2]?Epe(e[0][0],e[0][1]):function(n){return n===t||wpe(n,t,e)}}var Ape=Spe;function Ppe(t,e){return t!=null&&e in Object(t)}var Cpe=Ppe,Ipe=o4,kpe=NS,Ope=Vn,Npe=RS,Rpe=MS,Mpe=$y;function Dpe(t,e,n){e=Ipe(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=Mpe(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Rpe(i)&&Npe(s,i)&&(Ope(t)||kpe(t)))}var Lpe=Dpe,jpe=Cpe,$pe=Lpe;function Vpe(t,e){return t!=null&&$pe(t,e,jpe)}var Fpe=Vpe,Upe=DS,Bpe=s4,zpe=Fpe,qpe=pS,Gpe=X4,Wpe=Q4,Hpe=$y,Kpe=1,Ype=2;function Xpe(t,e){return qpe(t)&&Gpe(e)?Wpe(Hpe(t),e):function(n){var r=Bpe(n,t);return r===void 0&&r===e?zpe(n,t):Upe(e,r,Kpe|Ype)}}var Qpe=Xpe;function Jpe(t){return t}var Pu=Jpe;function Zpe(t){return function(e){return e==null?void 0:e[t]}}var eme=Zpe,tme=bS;function nme(t){return function(e){return tme(e,t)}}var rme=nme,ime=eme,ome=rme,sme=pS,ame=$y;function lme(t){return sme(t)?ime(ame(t)):ome(t)}var ume=lme,cme=Ape,fme=Qpe,dme=Pu,hme=Vn,pme=ume;function mme(t){return typeof t=="function"?t:t==null?dme:typeof t=="object"?hme(t)?fme(t[0],t[1]):cme(t):pme(t)}var si=mme;function gme(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var J4=gme;function yme(t){return t!==t}var vme=yme;function xme(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var _me=xme,bme=J4,wme=vme,Tme=_me;function Eme(t,e,n){return e===e?Tme(t,e,n):bme(t,wme,n)}var Sme=Eme,Ame=Sme;function Pme(t,e){var n=t==null?0:t.length;return!!n&&Ame(t,e,0)>-1}var Cme=Pme;function Ime(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var kme=Ime;function Ome(){}var Nme=Ome,Y0=H4,Rme=Nme,Mme=OS,Dme=1/0,Lme=Y0&&1/Mme(new Y0([,-0]))[1]==Dme?function(t){return new Y0(t)}:Rme,jme=Lme,$me=j4,Vme=Cme,Fme=kme,Ume=V4,Bme=jme,zme=OS,qme=200;function Gme(t,e,n){var r=-1,i=Vme,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=Fme;else if(o>=qme){var u=e?null:Bme(t);if(u)return zme(u);s=!1,i=Ume,l=new $me}else l=e?[]:a;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,s&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),a.push(c)}else i(l,f,n)||(l!==a&&l.push(f),a.push(c))}return a}var Wme=Gme,Hme=si,Kme=Wme;function Yme(t,e){return t&&t.length?Kme(t,Hme(e)):[]}var Xme=Yme;const aN=Fe(Xme);function Z4(t,e,n){return e===!0?aN(t,n):ge(e)?aN(t,e):t}function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}var Qme=["ref"];function lN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(n),!0).forEach(function(r){ev(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tU(r.key),r)}}function Zme(t,e,n){return e&&uN(t.prototype,e),n&&uN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ege(t,e,n){return e=Gm(e),tge(t,eU()?Reflect.construct(e,n||[],Gm(t).constructor):e.apply(t,n))}function tge(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nge(t)}function nge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eU=function(){return!!t})()}function Gm(t){return Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gm(t)}function rge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pb(t,e)}function Pb(t,e){return Pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Pb(t,e)}function ev(t,e,n){return e=tU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tU(t){var e=ige(t,"string");return Vl(e)=="symbol"?e:e+""}function ige(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function oge(t,e){if(t==null)return{};var n=sge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function age(t){return t.value}function lge(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var n=oge(e,Qme);return $.createElement(kS,n)}var cN=1,hl=function(t){function e(){var n;Jme(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ege(this,e,[].concat(i)),ev(n,"lastBoundingBox",{width:-1,height:-1}),n}return rge(e,t),Zme(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>cN||Math.abs(i.height-this.lastBoundingBox.height)>cN)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var v=this.getBBoxSnapshot();d={top:((c||0)-v.height)/2}}else d=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return fi(fi({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=fi(fi({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return $.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},lge(o,fi(fi({},this.props),{},{payload:Z4(c,u,age)})))}}],[{key:"getWithHeight",value:function(r,i){var o=fi(fi({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&ee(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(j.PureComponent);ev(hl,"displayName","Legend");ev(hl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var fN=zd,uge=NS,cge=Vn,dN=fN?fN.isConcatSpreadable:void 0;function fge(t){return cge(t)||uge(t)||!!(dN&&t&&t[dN])}var dge=fge,hge=U4,pge=dge;function nU(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=pge),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?nU(a,e-1,n,r,i):hge(i,a):r||(i[i.length]=a)}return i}var rU=nU;function mge(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var gge=mge,yge=gge,vge=yge(),xge=vge,_ge=xge,bge=Zy;function wge(t,e){return t&&_ge(t,e,bge)}var iU=wge,Tge=Wd;function Ege(t,e){return function(n,r){if(n==null)return n;if(!Tge(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Sge=Ege,Age=iU,Pge=Sge,Cge=Pge(Age),LS=Cge,Ige=LS,kge=Wd;function Oge(t,e){var n=-1,r=kge(t)?Array(t.length):[];return Ige(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var oU=Oge;function Nge(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Rge=Nge,hN=_u;function Mge(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=hN(t),s=e!==void 0,a=e===null,l=e===e,u=hN(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var Dge=Mge,Lge=Dge;function jge(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=Lge(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var $ge=jge,X0=_S,Vge=bS,Fge=si,Uge=oU,Bge=Rge,zge=q4,qge=$ge,Gge=Pu,Wge=Vn;function Hge(t,e,n){e.length?e=X0(e,function(o){return Wge(o)?function(s){return Vge(s,o.length===1?o[0]:o)}:o}):e=[Gge];var r=-1;e=X0(e,zge(Fge));var i=Uge(t,function(o,s,a){var l=X0(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return Bge(i,function(o,s){return qge(o,s,n)})}var Kge=Hge;function Yge(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Xge=Yge,Qge=Xge,pN=Math.max;function Jge(t,e,n){return e=pN(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=pN(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),Qge(t,this,a)}}var Zge=Jge;function eye(t){return function(){return t}}var tye=eye,nye=ha,rye=function(){try{var t=nye(Object,"defineProperty");return t({},"",{}),t}catch{}}(),sU=rye,iye=tye,mN=sU,oye=Pu,sye=mN?function(t,e){return mN(t,"toString",{configurable:!0,enumerable:!1,value:iye(e),writable:!0})}:oye,aye=sye,lye=800,uye=16,cye=Date.now;function fye(t){var e=0,n=0;return function(){var r=cye(),i=uye-(r-n);if(n=r,i>0){if(++e>=lye)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var dye=fye,hye=aye,pye=dye,mye=pye(hye),gye=mye,yye=Pu,vye=Zge,xye=gye;function _ye(t,e){return xye(vye(t,e,yye),t+"")}var bye=_ye,wye=gS,Tye=Wd,Eye=RS,Sye=os;function Aye(t,e,n){if(!Sye(n))return!1;var r=typeof e;return(r=="number"?Tye(n)&&Eye(e,n.length):r=="string"&&e in n)?wye(n[e],t):!1}var tv=Aye,Pye=rU,Cye=Kge,Iye=bye,gN=tv,kye=Iye(function(t,e){if(t==null)return[];var n=e.length;return n>1&&gN(t,e[0],e[1])?e=[]:n>2&&gN(e[0],e[1],e[2])&&(e=[e[0]]),Cye(t,Pye(e,1),[])}),Oye=kye;const jS=Fe(Oye);function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function Cb(){return Cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cb.apply(this,arguments)}function Nye(t,e){return Lye(t)||Dye(t,e)||Mye(t,e)||Rye()}function Rye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mye(t,e){if(t){if(typeof t=="string")return yN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yN(t,e)}}function yN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Lye(t){if(Array.isArray(t))return t}function vN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(n),!0).forEach(function(r){jye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jye(t,e,n){return e=$ye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ye(t){var e=Vye(t,"string");return jf(e)=="symbol"?e:e+""}function Vye(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fye(t){return Array.isArray(t)&&Rt(t[0])&&Rt(t[1])?t.join(" ~ "):t}var Uye=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,d=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,x=e.label,_=e.labelFormatter,b=e.accessibilityLayer,w=b===void 0?!1:b,T=function(){if(c&&c.length){var D={padding:0,margin:0},M=(d?jS(c,d):c).map(function(U,z){if(U.type==="none")return null;var K=Q0({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},a),W=U.formatter||f||Fye,V=U.value,q=U.name,Y=V,re=q;if(W&&Y!=null&&re!=null){var J=W(V,q,U,z,c);if(Array.isArray(J)){var oe=Nye(J,2);Y=oe[0],re=oe[1]}else Y=J}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:K},Rt(re)?$.createElement("span",{className:"recharts-tooltip-item-name"},re):null,Rt(re)?$.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,$.createElement("span",{className:"recharts-tooltip-item-value"},Y),$.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:D},M)}return null},C=Q0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=Q0({margin:0},u),I=!Ee(x),P=I?x:"",A=Te("recharts-default-tooltip",p),O=Te("recharts-tooltip-label",v);I&&_&&c!==void 0&&c!==null&&(P=_(x,c));var N=w?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",Cb({className:A,style:C},N),$.createElement("p",{className:O,style:S},$.isValidElement(P)?P:"".concat(P)),T())};function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function Kh(t,e,n){return e=Bye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bye(t){var e=zye(t,"string");return $f(e)=="symbol"?e:e+""}function zye(t,e){if($f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ic="recharts-tooltip-wrapper",qye={visibility:"hidden"};function Gye(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Te(ic,Kh(Kh(Kh(Kh({},"".concat(ic,"-right"),ee(n)&&e&&ee(e.x)&&n>=e.x),"".concat(ic,"-left"),ee(n)&&e&&ee(e.x)&&n<e.x),"".concat(ic,"-bottom"),ee(r)&&e&&ee(e.y)&&r>=e.y),"".concat(ic,"-top"),ee(r)&&e&&ee(e.y)&&r<e.y))}function xN(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ee(o[r]))return o[r];var c=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?c:f;if(s[r]){var d=c,p=l[r];return d<p?Math.max(f,l[r]):Math.max(c,l[r])}var v=f+a,x=l[r]+u;return v>x?Math.max(c,l[r]):Math.max(f,l[r])}function Wye(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Hye(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,f;return s.height>0&&s.width>0&&n?(c=xN({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=xN({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=Wye({translateX:c,translateY:f,useTranslate3d:a})):u=qye,{cssProperties:u,cssClasses:Gye({translateX:c,translateY:f,coordinate:n})}}function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function _N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(n),!0).forEach(function(r){kb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lU(r.key),r)}}function Xye(t,e,n){return e&&Yye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qye(t,e,n){return e=Wm(e),Jye(t,aU()?Reflect.construct(e,n||[],Wm(t).constructor):e.apply(t,n))}function Jye(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zye(t)}function Zye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aU=function(){return!!t})()}function Wm(t){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wm(t)}function eve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ib(t,e)}function Ib(t,e){return Ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ib(t,e)}function kb(t,e,n){return e=lU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lU(t){var e=tve(t,"string");return Fl(e)=="symbol"?e:e+""}function tve(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wN=1,nve=function(t){function e(){var n;Kye(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Qye(this,e,[].concat(i)),kb(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),kb(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return eve(e,t),Xye(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>wN||Math.abs(r.height-this.state.lastBoundingBox.height)>wN)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,p=i.offset,v=i.position,x=i.reverseDirection,_=i.useTranslate3d,b=i.viewBox,w=i.wrapperStyle,T=Hye({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:p,position:v,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:b}),C=T.cssClasses,S=T.cssProperties,I=bN(bN({transition:d&&o?"transform ".concat(a,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return $.createElement("div",{tabIndex:-1,className:C,style:I,ref:function(A){r.wrapperNode=A}},u)}}])}(j.PureComponent),rve=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Cu={isSsr:rve()};function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function TN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(n),!0).forEach(function(r){$S(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ive(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ove(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cU(r.key),r)}}function sve(t,e,n){return e&&ove(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ave(t,e,n){return e=Hm(e),lve(t,uU()?Reflect.construct(e,n||[],Hm(t).constructor):e.apply(t,n))}function lve(t,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uve(t)}function uve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uU=function(){return!!t})()}function Hm(t){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hm(t)}function cve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ob(t,e)}function Ob(t,e){return Ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ob(t,e)}function $S(t,e,n){return e=cU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cU(t){var e=fve(t,"string");return Ul(e)=="symbol"?e:e+""}function fve(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dve(t){return t.dataKey}function hve(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(Uye,e)}var sr=function(t){function e(){return ive(this,e),ave(this,e,arguments)}return cve(e,t),sve(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,d=i.isAnimationActive,p=i.offset,v=i.payload,x=i.payloadUniqBy,_=i.position,b=i.reverseDirection,w=i.useTranslate3d,T=i.viewBox,C=i.wrapperStyle,S=v??[];f&&S.length&&(S=Z4(v.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),x,dve));var I=S.length>0;return $.createElement(nve,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:d,active:o,coordinate:c,hasPayload:I,offset:p,position:_,reverseDirection:b,useTranslate3d:w,viewBox:T,wrapperStyle:C},hve(u,EN(EN({},this.props),{},{payload:S})))}}])}(j.PureComponent);$S(sr,"displayName","Tooltip");$S(sr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Cu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var pve=oi,mve=function(){return pve.Date.now()},gve=mve,yve=/\s/;function vve(t){for(var e=t.length;e--&&yve.test(t.charAt(e)););return e}var xve=vve,_ve=xve,bve=/^\s+/;function wve(t){return t&&t.slice(0,_ve(t)+1).replace(bve,"")}var Tve=wve,Eve=Tve,SN=os,Sve=_u,AN=NaN,Ave=/^[-+]0x[0-9a-f]+$/i,Pve=/^0b[01]+$/i,Cve=/^0o[0-7]+$/i,Ive=parseInt;function kve(t){if(typeof t=="number")return t;if(Sve(t))return AN;if(SN(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=SN(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Eve(t);var n=Pve.test(t);return n||Cve.test(t)?Ive(t.slice(2),n?2:8):Ave.test(t)?AN:+t}var fU=kve,Ove=os,J0=gve,PN=fU,Nve="Expected a function",Rve=Math.max,Mve=Math.min;function Dve(t,e,n){var r,i,o,s,a,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(Nve);e=PN(e)||0,Ove(n)&&(c=!!n.leading,f="maxWait"in n,o=f?Rve(PN(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function p(I){var P=r,A=i;return r=i=void 0,u=I,s=t.apply(A,P),s}function v(I){return u=I,a=setTimeout(b,e),c?p(I):s}function x(I){var P=I-l,A=I-u,O=e-P;return f?Mve(O,o-A):O}function _(I){var P=I-l,A=I-u;return l===void 0||P>=e||P<0||f&&A>=o}function b(){var I=J0();if(_(I))return w(I);a=setTimeout(b,x(I))}function w(I){return a=void 0,d&&r?p(I):(r=i=void 0,s)}function T(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function C(){return a===void 0?s:w(J0())}function S(){var I=J0(),P=_(I);if(r=arguments,i=this,l=I,P){if(a===void 0)return v(l);if(f)return clearTimeout(a),a=setTimeout(b,e),p(l)}return a===void 0&&(a=setTimeout(b,e)),s}return S.cancel=T,S.flush=C,S}var Lve=Dve,jve=Lve,$ve=os,Vve="Expected a function";function Fve(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Vve);return $ve(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),jve(t,e,{leading:r,maxWait:e,trailing:i})}var Uve=Fve;const dU=Fe(Uve);function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function CN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CN(Object(n),!0).forEach(function(r){Bve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bve(t,e,n){return e=zve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zve(t){var e=qve(t,"string");return Vf(e)=="symbol"?e:e+""}function qve(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gve(t,e){return Yve(t)||Kve(t,e)||Hve(t,e)||Wve()}function Wve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hve(t,e){if(t){if(typeof t=="string")return IN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IN(t,e)}}function IN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Yve(t){if(Array.isArray(t))return t}var Nb=j.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,d=t.maxHeight,p=t.children,v=t.debounce,x=v===void 0?0:v,_=t.id,b=t.className,w=t.onResize,T=t.style,C=T===void 0?{}:T,S=j.useRef(null),I=j.useRef();I.current=w,j.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var P=j.useState({containerWidth:i.width,containerHeight:i.height}),A=Gve(P,2),O=A[0],N=A[1],R=j.useCallback(function(M,U){N(function(z){var K=Math.round(M),W=Math.round(U);return z.containerWidth===K&&z.containerHeight===W?z:{containerWidth:K,containerHeight:W}})},[]);j.useEffect(function(){var M=function(q){var Y,re=q[0].contentRect,J=re.width,oe=re.height;R(J,oe),(Y=I.current)===null||Y===void 0||Y.call(I,J,oe)};x>0&&(M=dU(M,x,{trailing:!0,leading:!1}));var U=new ResizeObserver(M),z=S.current.getBoundingClientRect(),K=z.width,W=z.height;return R(K,W),U.observe(S.current),function(){U.disconnect()}},[R,x]);var D=j.useMemo(function(){var M=O.containerWidth,U=O.containerHeight;if(M<0||U<0)return null;Nr(Rs(s)||Rs(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Nr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var z=Rs(s)?M:s,K=Rs(l)?U:l;n&&n>0&&(z?K=z/n:K&&(z=K*n),d&&K>d&&(K=d)),Nr(z>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,K,s,l,c,f,n);var W=!Array.isArray(p)&&Ci(p.type).endsWith("Chart");return $.Children.map(p,function(V){return $.isValidElement(V)?j.cloneElement(V,Yh({width:z,height:K},W?{style:Yh({height:"100%",width:"100%",maxHeight:K,maxWidth:z},V.props.style)}:{})):V})},[n,p,l,d,f,c,O,s]);return $.createElement("div",{id:_?"".concat(_):void 0,className:Te("recharts-responsive-container",b),style:Yh(Yh({},C),{},{width:s,height:l,minWidth:c,minHeight:f,maxHeight:d}),ref:S},D)}),nv=function(e){return null};nv.displayName="Cell";function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function kN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(n),!0).forEach(function(r){Xve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xve(t,e,n){return e=Qve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qve(t){var e=Jve(t,"string");return Ff(e)=="symbol"?e:e+""}function Jve(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ta={widthCache:{},cacheCount:0},Zve=2e3,e0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ON="recharts_measurement_span";function t0e(t){var e=Rb({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Wc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Cu.isSsr)return{width:0,height:0};var r=t0e(n),i=JSON.stringify({text:e,copyStyle:r});if(Ta.widthCache[i])return Ta.widthCache[i];try{var o=document.getElementById(ON);o||(o=document.createElement("span"),o.setAttribute("id",ON),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=Rb(Rb({},e0e),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return Ta.widthCache[i]=l,++Ta.cacheCount>Zve&&(Ta.cacheCount=0,Ta.widthCache={}),l}catch{return{width:0,height:0}}},n0e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function Km(t,e){return s0e(t)||o0e(t,e)||i0e(t,e)||r0e()}function r0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i0e(t,e){if(t){if(typeof t=="string")return NN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NN(t,e)}}function NN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function s0e(t){if(Array.isArray(t))return t}function a0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u0e(r.key),r)}}function l0e(t,e,n){return e&&RN(t.prototype,e),n&&RN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u0e(t){var e=c0e(t,"string");return Uf(e)=="symbol"?e:e+""}function c0e(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,f0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,d0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},h0e=Object.keys(hU),Ya="NaN";function p0e(t,e){return t*hU[e]}var Xh=function(){function t(e,n){a0e(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!f0e.test(n)&&(this.num=NaN,this.unit=""),h0e.includes(n)&&(this.num=p0e(e,n),this.unit="px")}return l0e(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=d0e.exec(n))!==null&&r!==void 0?r:[],o=Km(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function pU(t){if(t.includes(Ya))return Ya;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=MN.exec(e))!==null&&n!==void 0?n:[],i=Km(r,4),o=i[1],s=i[2],a=i[3],l=Xh.parse(o??""),u=Xh.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Ya;e=e.replace(MN,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=DN.exec(e))!==null&&f!==void 0?f:[],p=Km(d,4),v=p[1],x=p[2],_=p[3],b=Xh.parse(v??""),w=Xh.parse(_??""),T=x==="+"?b.add(w):b.subtract(w);if(T.isNaN())return Ya;e=e.replace(DN,T.toString())}return e}var LN=/\(([^()]*)\)/;function m0e(t){for(var e=t;e.includes("(");){var n=LN.exec(e),r=Km(n,2),i=r[1];e=e.replace(LN,pU(i))}return e}function g0e(t){var e=t.replace(/\s+/g,"");return e=m0e(e),e=pU(e),e}function y0e(t){try{return g0e(t)}catch{return Ya}}function Z0(t){var e=y0e(t.slice(5,-1));return e===Ya?"":e}var v0e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],x0e=["dx","dy","angle","className","breakAll"];function Mb(){return Mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mb.apply(this,arguments)}function jN(t,e){if(t==null)return{};var n=_0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $N(t,e){return E0e(t)||T0e(t,e)||w0e(t,e)||b0e()}function b0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w0e(t,e){if(t){if(typeof t=="string")return VN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VN(t,e)}}function VN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function E0e(t){if(Array.isArray(t))return t}var mU=/[ \f\n\r\t\v\u2028\u2029]+/,gU=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ee(n)||(r?o=n.toString().split(""):o=n.toString().split(mU));var s=o.map(function(l){return{word:l,width:Wc(l,i).width}}),a=r?0:Wc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},S0e=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=ee(s),f=a,d=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(K,W){var V=W.word,q=W.width,Y=K[K.length-1];if(Y&&(i==null||o||Y.width+q+r<Number(i)))Y.words.push(V),Y.width+=q+r;else{var re={words:[V],width:q};K.push(re)}return K},[])},p=d(n),v=function(z){return z.reduce(function(K,W){return K.width>W.width?K:W})};if(!c)return p;for(var x="",_=function(z){var K=f.slice(0,z),W=gU({breakAll:u,style:l,children:K+x}).wordsWithComputedWidth,V=d(W),q=V.length>s||v(V).width>Number(i);return[q,V]},b=0,w=f.length-1,T=0,C;b<=w&&T<=f.length-1;){var S=Math.floor((b+w)/2),I=S-1,P=_(I),A=$N(P,2),O=A[0],N=A[1],R=_(S),D=$N(R,1),M=D[0];if(!O&&!M&&(b=S+1),O&&M&&(w=S-1),!O&&M){C=N;break}T++}return C||p},FN=function(e){var n=Ee(e)?[]:e.toString().split(mU);return[{words:n}]},A0e=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!Cu.isSsr){var l,u,c=gU({breakAll:s,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;l=f,u=d}else return FN(i);return S0e({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return FN(i)},UN="#808080",na=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,d=e.textAnchor,p=d===void 0?"start":d,v=e.verticalAnchor,x=v===void 0?"end":v,_=e.fill,b=_===void 0?UN:_,w=jN(e,v0e),T=j.useMemo(function(){return A0e({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),C=w.dx,S=w.dy,I=w.angle,P=w.className,A=w.breakAll,O=jN(w,x0e);if(!Rt(r)||!Rt(o))return null;var N=r+(ee(C)?C:0),R=o+(ee(S)?S:0),D;switch(x){case"start":D=Z0("calc(".concat(u,")"));break;case"middle":D=Z0("calc(".concat((T.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:D=Z0("calc(".concat(T.length-1," * -").concat(a,")"));break}var M=[];if(f){var U=T[0].width,z=w.width;M.push("scale(".concat((ee(z)?z/U:1)/U,")"))}return I&&M.push("rotate(".concat(I,", ").concat(N,", ").concat(R,")")),M.length&&(O.transform=M.join(" ")),$.createElement("text",Mb({},pe(O,!0),{x:N,y:R,className:Te("recharts-text",P),textAnchor:p,fill:b.includes("url")?UN:b}),T.map(function(K,W){var V=K.words.join(A?"":" ");return $.createElement("tspan",{x:N,dy:W===0?D:a,key:"".concat(V,"-").concat(W)},V)}))};function Do(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function P0e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function VS(t){let e,n,r;t.length!==2?(e=Do,n=(a,l)=>Do(t(a),l),r=(a,l)=>t(a)-l):(e=t===Do||t===P0e?t:C0e,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function C0e(){return 0}function yU(t){return t===null?NaN:+t}function*I0e(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const k0e=VS(Do),Hd=k0e.right;VS(yU).center;class BN extends Map{constructor(e,n=R0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(zN(this,e))}has(e){return super.has(zN(this,e))}set(e,n){return super.set(O0e(this,e),n)}delete(e){return super.delete(N0e(this,e))}}function zN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function O0e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function N0e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function R0e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function M0e(t=Do){if(t===Do)return vU;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function vU(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const D0e=Math.sqrt(50),L0e=Math.sqrt(10),j0e=Math.sqrt(2);function Ym(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=D0e?10:o>=L0e?5:o>=j0e?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?Ym(t,e,n*2):[a,l,u]}function Db(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Ym(e,t,n):Ym(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function Lb(t,e,n){return e=+e,t=+t,n=+n,Ym(t,e,n)[2]}function jb(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Lb(e,t,n):Lb(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function qN(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function GN(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function xU(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?vU:M0e(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+d)),v=Math.min(r,Math.floor(e+(l-u)*f/l+d));xU(t,e,p,v,i)}const o=t[e];let s=n,a=r;for(oc(t,n,e),i(t[r],o)>0&&oc(t,n,r);s<a;){for(oc(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?oc(t,n,a):(++a,oc(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function oc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function $0e(t,e,n){if(t=Float64Array.from(I0e(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return GN(t);if(e>=1)return qN(t);var r,i=(r-1)*e,o=Math.floor(i),s=qN(xU(t,o).subarray(0,o+1)),a=GN(t.subarray(o+1));return s+(a-s)*(i-o)}}function V0e(t,e,n=yU){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function F0e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function xr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Yi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const $b=Symbol("implicit");function FS(){var t=new BN,e=[],n=[],r=$b;function i(o){let s=t.get(o);if(s===void 0){if(r!==$b)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new BN;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return FS(e,n).unknown(r)},xr.apply(i,arguments),i}function Bf(){var t=FS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var d=e().length,p=i<r,v=p?i:r,x=p?r:i;o=(x-v)/Math.max(1,d-l+u*2),a&&(o=Math.floor(o)),v+=(x-v-o*(d-l))*c,s=o*(1-l),a&&(v=Math.round(v),s=Math.round(s));var _=F0e(d).map(function(b){return v+o*b});return n(p?_.reverse():_)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(d){return arguments.length?(a=!!d,f()):a},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},t.copy=function(){return Bf(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},xr.apply(f(),arguments)}function _U(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return _U(e())},t}function Hc(){return _U(Bf.apply(null,arguments).paddingInner(1))}function US(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function bU(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Kd(){}var zf=.7,Xm=1/zf,pl="\\s*([+-]?\\d+)\\s*",qf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",U0e=/^#([0-9a-f]{3,8})$/,B0e=new RegExp(`^rgb\\(${pl},${pl},${pl}\\)$`),z0e=new RegExp(`^rgb\\(${ei},${ei},${ei}\\)$`),q0e=new RegExp(`^rgba\\(${pl},${pl},${pl},${qf}\\)$`),G0e=new RegExp(`^rgba\\(${ei},${ei},${ei},${qf}\\)$`),W0e=new RegExp(`^hsl\\(${qf},${ei},${ei}\\)$`),H0e=new RegExp(`^hsla\\(${qf},${ei},${ei},${qf}\\)$`),WN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};US(Kd,Gf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:HN,formatHex:HN,formatHex8:K0e,formatHsl:Y0e,formatRgb:KN,toString:KN});function HN(){return this.rgb().formatHex()}function K0e(){return this.rgb().formatHex8()}function Y0e(){return wU(this).formatHsl()}function KN(){return this.rgb().formatRgb()}function Gf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=U0e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?YN(e):n===3?new Mn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Qh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Qh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=B0e.exec(t))?new Mn(e[1],e[2],e[3],1):(e=z0e.exec(t))?new Mn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=q0e.exec(t))?Qh(e[1],e[2],e[3],e[4]):(e=G0e.exec(t))?Qh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=W0e.exec(t))?JN(e[1],e[2]/100,e[3]/100,1):(e=H0e.exec(t))?JN(e[1],e[2]/100,e[3]/100,e[4]):WN.hasOwnProperty(t)?YN(WN[t]):t==="transparent"?new Mn(NaN,NaN,NaN,0):null}function YN(t){return new Mn(t>>16&255,t>>8&255,t&255,1)}function Qh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Mn(t,e,n,r)}function X0e(t){return t instanceof Kd||(t=Gf(t)),t?(t=t.rgb(),new Mn(t.r,t.g,t.b,t.opacity)):new Mn}function Vb(t,e,n,r){return arguments.length===1?X0e(t):new Mn(t,e,n,r??1)}function Mn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}US(Mn,Vb,bU(Kd,{brighter(t){return t=t==null?Xm:Math.pow(Xm,t),new Mn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?zf:Math.pow(zf,t),new Mn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Mn(Us(this.r),Us(this.g),Us(this.b),Qm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XN,formatHex:XN,formatHex8:Q0e,formatRgb:QN,toString:QN}));function XN(){return`#${Ms(this.r)}${Ms(this.g)}${Ms(this.b)}`}function Q0e(){return`#${Ms(this.r)}${Ms(this.g)}${Ms(this.b)}${Ms((isNaN(this.opacity)?1:this.opacity)*255)}`}function QN(){const t=Qm(this.opacity);return`${t===1?"rgb(":"rgba("}${Us(this.r)}, ${Us(this.g)}, ${Us(this.b)}${t===1?")":`, ${t})`}`}function Qm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Us(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ms(t){return t=Us(t),(t<16?"0":"")+t.toString(16)}function JN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Cr(t,e,n,r)}function wU(t){if(t instanceof Cr)return new Cr(t.h,t.s,t.l,t.opacity);if(t instanceof Kd||(t=Gf(t)),!t)return new Cr;if(t instanceof Cr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Cr(s,a,l,t.opacity)}function J0e(t,e,n,r){return arguments.length===1?wU(t):new Cr(t,e,n,r??1)}function Cr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}US(Cr,J0e,bU(Kd,{brighter(t){return t=t==null?Xm:Math.pow(Xm,t),new Cr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?zf:Math.pow(zf,t),new Cr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Mn(ex(t>=240?t-240:t+120,i,r),ex(t,i,r),ex(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Cr(ZN(this.h),Jh(this.s),Jh(this.l),Qm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qm(this.opacity);return`${t===1?"hsl(":"hsla("}${ZN(this.h)}, ${Jh(this.s)*100}%, ${Jh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ZN(t){return t=(t||0)%360,t<0?t+360:t}function Jh(t){return Math.max(0,Math.min(1,t||0))}function ex(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const BS=t=>()=>t;function Z0e(t,e){return function(n){return t+n*e}}function exe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function txe(t){return(t=+t)==1?TU:function(e,n){return n-e?exe(e,n,t):BS(isNaN(e)?n:e)}}function TU(t,e){var n=e-t;return n?Z0e(t,n):BS(isNaN(t)?e:t)}const eR=function t(e){var n=txe(e);function r(i,o){var s=n((i=Vb(i)).r,(o=Vb(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=TU(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function nxe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function rxe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ixe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Iu(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function oxe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Jm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function sxe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Iu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Fb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tx=new RegExp(Fb.source,"g");function axe(t){return function(){return t}}function lxe(t){return function(e){return t(e)+""}}function uxe(t,e){var n=Fb.lastIndex=tx.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=Fb.exec(t))&&(i=tx.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Jm(r,i)})),n=tx.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?lxe(l[0].x):axe(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function Iu(t,e){var n=typeof e,r;return e==null||n==="boolean"?BS(e):(n==="number"?Jm:n==="string"?(r=Gf(e))?(e=r,eR):uxe:e instanceof Gf?eR:e instanceof Date?oxe:rxe(e)?nxe:Array.isArray(e)?ixe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?sxe:Jm)(t,e)}function zS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function cxe(t,e){e===void 0&&(e=t,t=Iu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function fxe(t){return function(){return t}}function Zm(t){return+t}var tR=[0,1];function Sn(t){return t}function Ub(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:fxe(isNaN(e)?NaN:.5)}function dxe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function hxe(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=Ub(i,r),o=n(s,o)):(r=Ub(r,i),o=n(o,s)),function(a){return o(r(a))}}function pxe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Ub(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=Hd(t,a,1,r)-1;return o[l](i[l](a))}}function Yd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function rv(){var t=tR,e=tR,n=Iu,r,i,o,s=Sn,a,l,u;function c(){var d=Math.min(t.length,e.length);return s!==Sn&&(s=dxe(t[0],t[d-1])),a=d>2?pxe:hxe,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=a(t.map(r),e,n)))(r(s(d)))}return f.invert=function(d){return s(i((u||(u=a(e,t.map(r),Jm)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,Zm),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=zS,c()},f.clamp=function(d){return arguments.length?(s=d?!0:Sn,c()):s!==Sn},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,p){return r=d,i=p,c()}}function qS(){return rv()(Sn,Sn)}function mxe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function eg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Bl(t){return t=eg(Math.abs(t)),t?t[1]:NaN}function gxe(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function yxe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var vxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wf(t){if(!(e=vxe.exec(t)))throw new Error("invalid format: "+t);var e;return new GS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Wf.prototype=GS.prototype;function GS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}GS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xxe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var EU;function _xe(t,e){var n=eg(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(EU=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+eg(t,Math.max(0,e+o-1))[0]}function nR(t,e){var n=eg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const rR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:mxe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>nR(t*100,e),r:nR,s:_xe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function iR(t){return t}var oR=Array.prototype.map,sR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bxe(t){var e=t.grouping===void 0||t.thousands===void 0?iR:gxe(oR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?iR:yxe(oR.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Wf(f);var d=f.fill,p=f.align,v=f.sign,x=f.symbol,_=f.zero,b=f.width,w=f.comma,T=f.precision,C=f.trim,S=f.type;S==="n"?(w=!0,S="g"):rR[S]||(T===void 0&&(T=12),C=!0,S="g"),(_||d==="0"&&p==="=")&&(_=!0,d="0",p="=");var I=x==="$"?n:x==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",P=x==="$"?r:/[%p]/.test(S)?s:"",A=rR[S],O=/[defgprs%]/.test(S);T=T===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function N(R){var D=I,M=P,U,z,K;if(S==="c")M=A(R)+M,R="";else{R=+R;var W=R<0||1/R<0;if(R=isNaN(R)?l:A(Math.abs(R),T),C&&(R=xxe(R)),W&&+R==0&&v!=="+"&&(W=!1),D=(W?v==="("?v:a:v==="-"||v==="("?"":v)+D,M=(S==="s"?sR[8+EU/3]:"")+M+(W&&v==="("?")":""),O){for(U=-1,z=R.length;++U<z;)if(K=R.charCodeAt(U),48>K||K>57){M=(K===46?i+R.slice(U+1):R.slice(U))+M,R=R.slice(0,U);break}}}w&&!_&&(R=e(R,1/0));var V=D.length+R.length+M.length,q=V<b?new Array(b-V+1).join(d):"";switch(w&&_&&(R=e(q+R,q.length?b-M.length:1/0),q=""),p){case"<":R=D+R+M+q;break;case"=":R=D+q+R+M;break;case"^":R=q.slice(0,V=q.length>>1)+D+R+M+q.slice(V);break;default:R=q+D+R+M;break}return o(R)}return N.toString=function(){return f+""},N}function c(f,d){var p=u((f=Wf(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Bl(d)/3)))*3,x=Math.pow(10,-v),_=sR[8+v/3];return function(b){return p(x*b)+_}}return{format:u,formatPrefix:c}}var Zh,WS,SU;wxe({thousands:",",grouping:[3],currency:["$",""]});function wxe(t){return Zh=bxe(t),WS=Zh.format,SU=Zh.formatPrefix,Zh}function Txe(t){return Math.max(0,-Bl(Math.abs(t)))}function Exe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bl(e)/3)))*3-Bl(Math.abs(t)))}function Sxe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Bl(e)-Bl(t))+1}function AU(t,e,n,r){var i=jb(t,e,n),o;switch(r=Wf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Exe(i,s))&&(r.precision=o),SU(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Sxe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Txe(i))&&(r.precision=o-(r.type==="%")*2);break}}return WS(r)}function ss(t){var e=t.domain;return t.ticks=function(n){var r=e();return Db(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return AU(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=Lb(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function tg(){var t=qS();return t.copy=function(){return Yd(t,tg())},xr.apply(t,arguments),ss(t)}function PU(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Zm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return PU(t).unknown(e)},t=arguments.length?Array.from(t,Zm):[0,1],ss(n)}function CU(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function aR(t){return Math.log(t)}function lR(t){return Math.exp(t)}function Axe(t){return-Math.log(-t)}function Pxe(t){return-Math.exp(-t)}function Cxe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ixe(t){return t===10?Cxe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function kxe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function uR(t){return(e,n)=>-t(-e,n)}function HS(t){const e=t(aR,lR),n=e.domain;let r=10,i,o;function s(){return i=kxe(r),o=Ixe(r),n()[0]<0?(i=uR(i),o=uR(o),t(Axe,Pxe)):t(aR,lR),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),p=i(c),v,x;const _=a==null?10:+a;let b=[];if(!(r%1)&&p-d<_){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(v=1;v<r;++v)if(x=d<0?v/o(-d):v*o(d),!(x<u)){if(x>c)break;b.push(x)}}else for(;d<=p;++d)for(v=r-1;v>=1;--v)if(x=d>0?v/o(-d):v*o(d),!(x<u)){if(x>c)break;b.push(x)}b.length*2<_&&(b=Db(u,c,_))}else b=Db(d,p,Math.min(p-d,_)).map(o);return f?b.reverse():b},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Wf(l)).precision==null&&(l.trim=!0),l=WS(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(CU(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function IU(){const t=HS(rv()).domain([1,10]);return t.copy=()=>Yd(t,IU()).base(t.base()),xr.apply(t,arguments),t}function cR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function fR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function KS(t){var e=1,n=t(cR(e),fR(e));return n.constant=function(r){return arguments.length?t(cR(e=+r),fR(e)):e},ss(n)}function kU(){var t=KS(rv());return t.copy=function(){return Yd(t,kU()).constant(t.constant())},xr.apply(t,arguments)}function dR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Oxe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Nxe(t){return t<0?-t*t:t*t}function YS(t){var e=t(Sn,Sn),n=1;function r(){return n===1?t(Sn,Sn):n===.5?t(Oxe,Nxe):t(dR(n),dR(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ss(e)}function XS(){var t=YS(rv());return t.copy=function(){return Yd(t,XS()).exponent(t.exponent())},xr.apply(t,arguments),t}function Rxe(){return XS.apply(null,arguments).exponent(.5)}function hR(t){return Math.sign(t)*t*t}function Mxe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function OU(){var t=qS(),e=[0,1],n=!1,r;function i(o){var s=Mxe(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(hR(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Zm)).map(hR)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return OU(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},xr.apply(i,arguments),ss(i)}function NU(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=V0e(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Hd(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Do),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return NU().domain(t).range(e).unknown(r)},xr.apply(o,arguments)}function RU(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Hd(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return RU().domain([t,e]).range(i).unknown(o)},xr.apply(ss(s),arguments)}function MU(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Hd(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return MU().domain(t).range(e).unknown(n)},xr.apply(i,arguments)}const nx=new Date,rx=new Date;function Dt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>Dt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(nx.setTime(+o),rx.setTime(+s),t(nx),t(rx),Math.floor(n(nx,rx))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const ng=Dt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ng.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Dt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ng);ng.range;const _i=1e3,fr=_i*60,bi=fr*60,Vi=bi*24,QS=Vi*7,pR=Vi*30,ix=Vi*365,Ds=Dt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getUTCSeconds());Ds.range;const JS=Dt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_i)},(t,e)=>{t.setTime(+t+e*fr)},(t,e)=>(e-t)/fr,t=>t.getMinutes());JS.range;const ZS=Dt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*fr)},(t,e)=>(e-t)/fr,t=>t.getUTCMinutes());ZS.range;const eA=Dt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_i-t.getMinutes()*fr)},(t,e)=>{t.setTime(+t+e*bi)},(t,e)=>(e-t)/bi,t=>t.getHours());eA.range;const tA=Dt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*bi)},(t,e)=>(e-t)/bi,t=>t.getUTCHours());tA.range;const Xd=Dt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fr)/Vi,t=>t.getDate()-1);Xd.range;const iv=Dt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vi,t=>t.getUTCDate()-1);iv.range;const DU=Dt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vi,t=>Math.floor(t/Vi));DU.range;function pa(t){return Dt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*fr)/QS)}const ov=pa(0),rg=pa(1),Dxe=pa(2),Lxe=pa(3),zl=pa(4),jxe=pa(5),$xe=pa(6);ov.range;rg.range;Dxe.range;Lxe.range;zl.range;jxe.range;$xe.range;function ma(t){return Dt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/QS)}const sv=ma(0),ig=ma(1),Vxe=ma(2),Fxe=ma(3),ql=ma(4),Uxe=ma(5),Bxe=ma(6);sv.range;ig.range;Vxe.range;Fxe.range;ql.range;Uxe.range;Bxe.range;const nA=Dt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());nA.range;const rA=Dt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());rA.range;const Fi=Dt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Fi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Fi.range;const Ui=Dt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ui.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ui.range;function LU(t,e,n,r,i,o){const s=[[Ds,1,_i],[Ds,5,5*_i],[Ds,15,15*_i],[Ds,30,30*_i],[o,1,fr],[o,5,5*fr],[o,15,15*fr],[o,30,30*fr],[i,1,bi],[i,3,3*bi],[i,6,6*bi],[i,12,12*bi],[r,1,Vi],[r,2,2*Vi],[n,1,QS],[e,1,pR],[e,3,3*pR],[t,1,ix]];function a(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),v=p?p.range(u,+c+1):[];return d?v.reverse():v}function l(u,c,f){const d=Math.abs(c-u)/f,p=VS(([,,_])=>_).right(s,d);if(p===s.length)return t.every(jb(u/ix,c/ix,f));if(p===0)return ng.every(Math.max(jb(u,c,f),1));const[v,x]=s[d/s[p-1][2]<s[p][2]/d?p-1:p];return v.every(x)}return[a,l]}const[zxe,qxe]=LU(Ui,rA,sv,DU,tA,ZS),[Gxe,Wxe]=LU(Fi,nA,ov,Xd,eA,JS);function ox(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function sx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function sc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Hxe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=ac(i),c=lc(i),f=ac(o),d=lc(o),p=ac(s),v=lc(s),x=ac(a),_=lc(a),b=ac(l),w=lc(l),T={a:W,A:V,b:q,B:Y,c:null,d:_R,e:_R,f:g_e,g:A_e,G:C_e,H:h_e,I:p_e,j:m_e,L:jU,m:y_e,M:v_e,p:re,q:J,Q:TR,s:ER,S:x_e,u:__e,U:b_e,V:w_e,w:T_e,W:E_e,x:null,X:null,y:S_e,Y:P_e,Z:I_e,"%":wR},C={a:oe,A:Ce,b:De,B:ot,c:null,d:bR,e:bR,f:R_e,g:z_e,G:G_e,H:k_e,I:O_e,j:N_e,L:VU,m:M_e,M:D_e,p:Bt,q:Zt,Q:TR,s:ER,S:L_e,u:j_e,U:$_e,V:V_e,w:F_e,W:U_e,x:null,X:null,y:B_e,Y:q_e,Z:W_e,"%":wR},S={a:N,A:R,b:D,B:M,c:U,d:vR,e:vR,f:u_e,g:yR,G:gR,H:xR,I:xR,j:o_e,L:l_e,m:i_e,M:s_e,p:O,q:r_e,Q:f_e,s:d_e,S:a_e,u:Jxe,U:Zxe,V:e_e,w:Qxe,W:t_e,x:z,X:K,y:yR,Y:gR,Z:n_e,"%":c_e};T.x=I(n,T),T.X=I(r,T),T.c=I(e,T),C.x=I(n,C),C.X=I(r,C),C.c=I(e,C);function I(ie,me){return function(ve){var X=[],Ge=-1,Se=0,st=ie.length,ht,en,Vr;for(ve instanceof Date||(ve=new Date(+ve));++Ge<st;)ie.charCodeAt(Ge)===37&&(X.push(ie.slice(Se,Ge)),(en=mR[ht=ie.charAt(++Ge)])!=null?ht=ie.charAt(++Ge):en=ht==="e"?" ":"0",(Vr=me[ht])&&(ht=Vr(ve,en)),X.push(ht),Se=Ge+1);return X.push(ie.slice(Se,Ge)),X.join("")}}function P(ie,me){return function(ve){var X=sc(1900,void 0,1),Ge=A(X,ie,ve+="",0),Se,st;if(Ge!=ve.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(me&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Se=sx(sc(X.y,0,1)),st=Se.getUTCDay(),Se=st>4||st===0?ig.ceil(Se):ig(Se),Se=iv.offset(Se,(X.V-1)*7),X.y=Se.getUTCFullYear(),X.m=Se.getUTCMonth(),X.d=Se.getUTCDate()+(X.w+6)%7):(Se=ox(sc(X.y,0,1)),st=Se.getDay(),Se=st>4||st===0?rg.ceil(Se):rg(Se),Se=Xd.offset(Se,(X.V-1)*7),X.y=Se.getFullYear(),X.m=Se.getMonth(),X.d=Se.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),st="Z"in X?sx(sc(X.y,0,1)).getUTCDay():ox(sc(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(st+5)%7:X.w+X.U*7-(st+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,sx(X)):ox(X)}}function A(ie,me,ve,X){for(var Ge=0,Se=me.length,st=ve.length,ht,en;Ge<Se;){if(X>=st)return-1;if(ht=me.charCodeAt(Ge++),ht===37){if(ht=me.charAt(Ge++),en=S[ht in mR?me.charAt(Ge++):ht],!en||(X=en(ie,ve,X))<0)return-1}else if(ht!=ve.charCodeAt(X++))return-1}return X}function O(ie,me,ve){var X=u.exec(me.slice(ve));return X?(ie.p=c.get(X[0].toLowerCase()),ve+X[0].length):-1}function N(ie,me,ve){var X=p.exec(me.slice(ve));return X?(ie.w=v.get(X[0].toLowerCase()),ve+X[0].length):-1}function R(ie,me,ve){var X=f.exec(me.slice(ve));return X?(ie.w=d.get(X[0].toLowerCase()),ve+X[0].length):-1}function D(ie,me,ve){var X=b.exec(me.slice(ve));return X?(ie.m=w.get(X[0].toLowerCase()),ve+X[0].length):-1}function M(ie,me,ve){var X=x.exec(me.slice(ve));return X?(ie.m=_.get(X[0].toLowerCase()),ve+X[0].length):-1}function U(ie,me,ve){return A(ie,e,me,ve)}function z(ie,me,ve){return A(ie,n,me,ve)}function K(ie,me,ve){return A(ie,r,me,ve)}function W(ie){return s[ie.getDay()]}function V(ie){return o[ie.getDay()]}function q(ie){return l[ie.getMonth()]}function Y(ie){return a[ie.getMonth()]}function re(ie){return i[+(ie.getHours()>=12)]}function J(ie){return 1+~~(ie.getMonth()/3)}function oe(ie){return s[ie.getUTCDay()]}function Ce(ie){return o[ie.getUTCDay()]}function De(ie){return l[ie.getUTCMonth()]}function ot(ie){return a[ie.getUTCMonth()]}function Bt(ie){return i[+(ie.getUTCHours()>=12)]}function Zt(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var me=I(ie+="",T);return me.toString=function(){return ie},me},parse:function(ie){var me=P(ie+="",!1);return me.toString=function(){return ie},me},utcFormat:function(ie){var me=I(ie+="",C);return me.toString=function(){return ie},me},utcParse:function(ie){var me=P(ie+="",!0);return me.toString=function(){return ie},me}}}var mR={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,Kxe=/^%/,Yxe=/[\\^$*+?|[\]().{}]/g;function Me(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Xxe(t){return t.replace(Yxe,"\\$&")}function ac(t){return new RegExp("^(?:"+t.map(Xxe).join("|")+")","i")}function lc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Qxe(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Jxe(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Zxe(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function e_e(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function t_e(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function gR(t,e,n){var r=Ut.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function yR(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function n_e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function r_e(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function i_e(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function vR(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function o_e(t,e,n){var r=Ut.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function xR(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function s_e(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function a_e(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function l_e(t,e,n){var r=Ut.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function u_e(t,e,n){var r=Ut.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function c_e(t,e,n){var r=Kxe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function f_e(t,e,n){var r=Ut.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function d_e(t,e,n){var r=Ut.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function _R(t,e){return Me(t.getDate(),e,2)}function h_e(t,e){return Me(t.getHours(),e,2)}function p_e(t,e){return Me(t.getHours()%12||12,e,2)}function m_e(t,e){return Me(1+Xd.count(Fi(t),t),e,3)}function jU(t,e){return Me(t.getMilliseconds(),e,3)}function g_e(t,e){return jU(t,e)+"000"}function y_e(t,e){return Me(t.getMonth()+1,e,2)}function v_e(t,e){return Me(t.getMinutes(),e,2)}function x_e(t,e){return Me(t.getSeconds(),e,2)}function __e(t){var e=t.getDay();return e===0?7:e}function b_e(t,e){return Me(ov.count(Fi(t)-1,t),e,2)}function $U(t){var e=t.getDay();return e>=4||e===0?zl(t):zl.ceil(t)}function w_e(t,e){return t=$U(t),Me(zl.count(Fi(t),t)+(Fi(t).getDay()===4),e,2)}function T_e(t){return t.getDay()}function E_e(t,e){return Me(rg.count(Fi(t)-1,t),e,2)}function S_e(t,e){return Me(t.getFullYear()%100,e,2)}function A_e(t,e){return t=$U(t),Me(t.getFullYear()%100,e,2)}function P_e(t,e){return Me(t.getFullYear()%1e4,e,4)}function C_e(t,e){var n=t.getDay();return t=n>=4||n===0?zl(t):zl.ceil(t),Me(t.getFullYear()%1e4,e,4)}function I_e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Me(e/60|0,"0",2)+Me(e%60,"0",2)}function bR(t,e){return Me(t.getUTCDate(),e,2)}function k_e(t,e){return Me(t.getUTCHours(),e,2)}function O_e(t,e){return Me(t.getUTCHours()%12||12,e,2)}function N_e(t,e){return Me(1+iv.count(Ui(t),t),e,3)}function VU(t,e){return Me(t.getUTCMilliseconds(),e,3)}function R_e(t,e){return VU(t,e)+"000"}function M_e(t,e){return Me(t.getUTCMonth()+1,e,2)}function D_e(t,e){return Me(t.getUTCMinutes(),e,2)}function L_e(t,e){return Me(t.getUTCSeconds(),e,2)}function j_e(t){var e=t.getUTCDay();return e===0?7:e}function $_e(t,e){return Me(sv.count(Ui(t)-1,t),e,2)}function FU(t){var e=t.getUTCDay();return e>=4||e===0?ql(t):ql.ceil(t)}function V_e(t,e){return t=FU(t),Me(ql.count(Ui(t),t)+(Ui(t).getUTCDay()===4),e,2)}function F_e(t){return t.getUTCDay()}function U_e(t,e){return Me(ig.count(Ui(t)-1,t),e,2)}function B_e(t,e){return Me(t.getUTCFullYear()%100,e,2)}function z_e(t,e){return t=FU(t),Me(t.getUTCFullYear()%100,e,2)}function q_e(t,e){return Me(t.getUTCFullYear()%1e4,e,4)}function G_e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ql(t):ql.ceil(t),Me(t.getUTCFullYear()%1e4,e,4)}function W_e(){return"+0000"}function wR(){return"%"}function TR(t){return+t}function ER(t){return Math.floor(+t/1e3)}var Ea,UU,BU;H_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function H_e(t){return Ea=Hxe(t),UU=Ea.format,Ea.parse,BU=Ea.utcFormat,Ea.utcParse,Ea}function K_e(t){return new Date(t)}function Y_e(t){return t instanceof Date?+t:+new Date(+t)}function iA(t,e,n,r,i,o,s,a,l,u){var c=qS(),f=c.invert,d=c.domain,p=u(".%L"),v=u(":%S"),x=u("%I:%M"),_=u("%I %p"),b=u("%a %d"),w=u("%b %d"),T=u("%B"),C=u("%Y");function S(I){return(l(I)<I?p:a(I)<I?v:s(I)<I?x:o(I)<I?_:r(I)<I?i(I)<I?b:w:n(I)<I?T:C)(I)}return c.invert=function(I){return new Date(f(I))},c.domain=function(I){return arguments.length?d(Array.from(I,Y_e)):d().map(K_e)},c.ticks=function(I){var P=d();return t(P[0],P[P.length-1],I??10)},c.tickFormat=function(I,P){return P==null?S:u(P)},c.nice=function(I){var P=d();return(!I||typeof I.range!="function")&&(I=e(P[0],P[P.length-1],I??10)),I?d(CU(P,I)):c},c.copy=function(){return Yd(c,iA(t,e,n,r,i,o,s,a,l,u))},c}function X_e(){return xr.apply(iA(Gxe,Wxe,Fi,nA,ov,Xd,eA,JS,Ds,UU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Q_e(){return xr.apply(iA(zxe,qxe,Ui,rA,sv,iv,tA,ZS,Ds,BU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function av(){var t=0,e=1,n,r,i,o,s=Sn,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(d){var p,v;return arguments.length?([p,v]=d,s=f(p,v),u):[s(0),s(1)]}}return u.range=c(Iu),u.rangeRound=c(zS),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function as(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function zU(){var t=ss(av()(Sn));return t.copy=function(){return as(t,zU())},Yi.apply(t,arguments)}function qU(){var t=HS(av()).domain([1,10]);return t.copy=function(){return as(t,qU()).base(t.base())},Yi.apply(t,arguments)}function GU(){var t=KS(av());return t.copy=function(){return as(t,GU()).constant(t.constant())},Yi.apply(t,arguments)}function oA(){var t=YS(av());return t.copy=function(){return as(t,oA()).exponent(t.exponent())},Yi.apply(t,arguments)}function J_e(){return oA.apply(null,arguments).exponent(.5)}function WU(){var t=[],e=Sn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Hd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Do),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>$0e(t,o/r))},n.copy=function(){return WU(e).domain(t)},Yi.apply(n,arguments)}function lv(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=Sn,c,f=!1,d;function p(x){return isNaN(x=+x)?d:(x=.5+((x=+c(x))-o)*(r*x<r*o?a:l),u(f?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([t,e,n]=x,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(x){return arguments.length?(f=!!x,p):f},p.interpolator=function(x){return arguments.length?(u=x,p):u};function v(x){return function(_){var b,w,T;return arguments.length?([b,w,T]=_,u=cxe(x,[b,w,T]),p):[u(0),u(.5),u(1)]}}return p.range=v(Iu),p.rangeRound=v(zS),p.unknown=function(x){return arguments.length?(d=x,p):d},function(x){return c=x,i=x(t),o=x(e),s=x(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p}}function HU(){var t=ss(lv()(Sn));return t.copy=function(){return as(t,HU())},Yi.apply(t,arguments)}function KU(){var t=HS(lv()).domain([.1,1,10]);return t.copy=function(){return as(t,KU()).base(t.base())},Yi.apply(t,arguments)}function YU(){var t=KS(lv());return t.copy=function(){return as(t,YU()).constant(t.constant())},Yi.apply(t,arguments)}function sA(){var t=YS(lv());return t.copy=function(){return as(t,sA()).exponent(t.exponent())},Yi.apply(t,arguments)}function Z_e(){return sA.apply(null,arguments).exponent(.5)}const SR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Bf,scaleDiverging:HU,scaleDivergingLog:KU,scaleDivergingPow:sA,scaleDivergingSqrt:Z_e,scaleDivergingSymlog:YU,scaleIdentity:PU,scaleImplicit:$b,scaleLinear:tg,scaleLog:IU,scaleOrdinal:FS,scalePoint:Hc,scalePow:XS,scaleQuantile:NU,scaleQuantize:RU,scaleRadial:OU,scaleSequential:zU,scaleSequentialLog:qU,scaleSequentialPow:oA,scaleSequentialQuantile:WU,scaleSequentialSqrt:J_e,scaleSequentialSymlog:GU,scaleSqrt:Rxe,scaleSymlog:kU,scaleThreshold:MU,scaleTime:X_e,scaleUtc:Q_e,tickFormat:AU},Symbol.toStringTag,{value:"Module"}));var ebe=_u;function tbe(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!ebe(s):n(s,a)))var a=s,l=o}return l}var uv=tbe;function nbe(t,e){return t>e}var XU=nbe,rbe=uv,ibe=XU,obe=Pu;function sbe(t){return t&&t.length?rbe(t,obe,ibe):void 0}var abe=sbe;const cv=Fe(abe);function lbe(t,e){return t<e}var QU=lbe,ube=uv,cbe=QU,fbe=Pu;function dbe(t){return t&&t.length?ube(t,fbe,cbe):void 0}var hbe=dbe;const fv=Fe(hbe);var pbe=_S,mbe=si,gbe=oU,ybe=Vn;function vbe(t,e){var n=ybe(t)?pbe:gbe;return n(t,mbe(e))}var xbe=vbe,_be=rU,bbe=xbe;function wbe(t,e){return _be(bbe(t,e),1)}var Tbe=wbe;const Ebe=Fe(Tbe);var Sbe=DS;function Abe(t,e){return Sbe(t,e)}var Pbe=Abe;const dv=Fe(Pbe);var ku=1e9,Cbe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lA,it=!0,yr="[DecimalError] ",Bs=yr+"Invalid argument: ",aA=yr+"Exponent out of range: ",Ou=Math.floor,As=Math.pow,Ibe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qn,jt=1e7,et=7,JU=9007199254740991,og=Ou(JU/et),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*et;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ae.dividedBy=ae.div=function(t){return Ii(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,n=e.constructor;return qe(Ii(e,new n(t),0,1),n.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return Pt(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(qn))throw Error(yr+"NaN");if(n.s<1)throw Error(yr+(n.s?"NaN":"-Infinity"));return n.eq(qn)?new r(0):(it=!1,e=Ii(Hf(n,o),Hf(t,o),o),it=!0,qe(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?tB(e,t):ZU(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(yr+"NaN");return n.s?(it=!1,e=Ii(n,t,0,1).times(t),it=!0,n.minus(e)):qe(new r(n),i)};ae.naturalExponential=ae.exp=function(){return eB(this)};ae.naturalLogarithm=ae.ln=function(){return Hf(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ZU(e,t):tB(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Bs+t);if(e=Pt(i)+1,r=i.d.length-1,n=r*et+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ae.squareRoot=ae.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(yr+"NaN")}for(t=Pt(a),it=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Gr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ou((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Ii(a,o,s+2)).times(.5),Gr(o.d).slice(0,s)===(e=Gr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(qe(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return it=!0,qe(r,n)};ae.times=ae.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,f=c.constructor,d=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=p.length,l<u&&(o=d,d=p,p=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+p[r]*d[i-r-1]+e,o[i--]=a%jt|0,e=a/jt|0;o[i]=(o[i]+e)%jt|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,it?qe(t,f.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ri(t,0,ku),e===void 0?e=r.rounding:ri(e,0,8),qe(n,t+Pt(n)+1,e))};ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ra(r,!0):(ri(t,0,ku),e===void 0?e=i.rounding:ri(e,0,8),r=qe(new i(r),t+1,e),n=ra(r,!0,t+1)),n};ae.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?ra(i):(ri(t,0,ku),e===void 0?e=o.rounding:ri(e,0,8),r=qe(new o(i),t+Pt(i)+1,e),n=ra(r.abs(),!1,t+Pt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return qe(new e(t),Pt(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(qn);if(a=new l(a),!a.s){if(t.s<1)throw Error(yr+"Infinity");return a}if(a.eq(qn))return a;if(r=l.precision,t.eq(qn))return qe(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=JU){for(i=new l(qn),e=Math.ceil(r/et+4),it=!1;n%2&&(i=i.times(a),PR(i.d,e)),n=Ou(n/2),n!==0;)a=a.times(a),PR(a.d,e);return it=!0,t.s<0?new l(qn).div(i):qe(i,r)}}else if(o<0)throw Error(yr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,it=!1,i=t.times(Hf(a,r+u)),it=!0,i=eB(i),i.s=o,i};ae.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Pt(i),r=ra(i,n<=o.toExpNeg||n>=o.toExpPos)):(ri(t,1,ku),e===void 0?e=o.rounding:ri(e,0,8),i=qe(new o(i),t,e),n=Pt(i),r=ra(i,t<=n||n<=o.toExpNeg,t)),r};ae.toSignificantDigits=ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ri(t,1,ku),e===void 0?e=r.rounding:ri(e,0,8)),qe(new r(n),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Pt(t),n=t.constructor;return ra(t,e<=n.toExpNeg||e>=n.toExpPos)};function ZU(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),it?qe(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/et),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/jt|0,l[o]%=jt;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,it?qe(e,f):e}function ri(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Bs+t)}function Gr(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=et-r.length,n&&(o+=ao(n)),o+=r;s=t[e],r=s+"",n=et-r.length,n&&(o+=ao(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Ii=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%jt|0,s=o/jt|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*jt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,f,d,p,v,x,_,b,w,T,C,S,I,P,A,O=r.constructor,N=r.s==i.s?1:-1,R=r.d,D=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(yr+"Division by zero");for(l=r.e-i.e,P=D.length,S=R.length,p=new O(N),v=p.d=[],u=0;D[u]==(R[u]||0);)++u;if(D[u]>(R[u]||0)&&--l,o==null?w=o=O.precision:s?w=o+(Pt(r)-Pt(i))+1:w=o,w<0)return new O(0);if(w=w/et+2|0,u=0,P==1)for(c=0,D=D[0],w++;(u<S||c)&&w--;u++)T=c*jt+(R[u]||0),v[u]=T/D|0,c=T%D|0;else{for(c=jt/(D[0]+1)|0,c>1&&(D=t(D,c),R=t(R,c),P=D.length,S=R.length),C=P,x=R.slice(0,P),_=x.length;_<P;)x[_++]=0;A=D.slice(),A.unshift(0),I=D[0],D[1]>=jt/2&&++I;do c=0,a=e(D,x,P,_),a<0?(b=x[0],P!=_&&(b=b*jt+(x[1]||0)),c=b/I|0,c>1?(c>=jt&&(c=jt-1),f=t(D,c),d=f.length,_=x.length,a=e(f,x,d,_),a==1&&(c--,n(f,P<d?A:D,d))):(c==0&&(a=c=1),f=D.slice()),d=f.length,d<_&&f.unshift(0),n(x,f,_),a==-1&&(_=x.length,a=e(D,x,P,_),a<1&&(c++,n(x,P<_?A:D,_))),_=x.length):a===0&&(c++,x=[0]),v[u++]=c,a&&x[0]?x[_++]=R[C]||0:(x=[R[C]],_=1);while((C++<S||x[0]!==void 0)&&w--)}return v[0]||v.shift(),p.e=l,qe(p,s?o+Pt(p)+1:o)}}();function eB(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,f=c.precision;if(Pt(t)>16)throw Error(aA+Pt(t));if(!t.s)return new c(qn);for(it=!1,a=f,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(As(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(qn),c.precision=a;;){if(i=qe(i.times(t),a),n=n.times(++l),s=o.plus(Ii(i,n,a)),Gr(s.d).slice(0,a)===Gr(o.d).slice(0,a)){for(;u--;)o=qe(o.times(o),a);return c.precision=f,e==null?(it=!0,qe(o,f)):o}o=s}}function Pt(t){for(var e=t.e*et,n=t.d[0];n>=10;n/=10)e++;return e}function ax(t,e,n){if(e>t.LN10.sd())throw it=!0,n&&(t.precision=n),Error(yr+"LN10 precision limit exceeded");return qe(new t(t.LN10),e)}function ao(t){for(var e="";t--;)e+="0";return e}function Hf(t,e){var n,r,i,o,s,a,l,u,c,f=1,d=10,p=t,v=p.d,x=p.constructor,_=x.precision;if(p.s<1)throw Error(yr+(p.s?"NaN":"-Infinity"));if(p.eq(qn))return new x(0);if(e==null?(it=!1,u=_):u=e,p.eq(10))return e==null&&(it=!0),ax(x,u);if(u+=d,x.precision=u,n=Gr(v),r=n.charAt(0),o=Pt(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Gr(p.d),r=n.charAt(0),f++;o=Pt(p),r>1?(p=new x("0."+n),o++):p=new x(r+"."+n.slice(1))}else return l=ax(x,u+2,_).times(o+""),p=Hf(new x(r+"."+n.slice(1)),u-d).plus(l),x.precision=_,e==null?(it=!0,qe(p,_)):p;for(a=s=p=Ii(p.minus(qn),p.plus(qn),u),c=qe(p.times(p),u),i=3;;){if(s=qe(s.times(c),u),l=a.plus(Ii(s,new x(i),u)),Gr(l.d).slice(0,u)===Gr(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(ax(x,u+2,_).times(o+""))),a=Ii(a,new x(f),u),x.precision=_,e==null?(it=!0,qe(a,_)):a;a=l,i+=2}}function AR(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ou(n/et),t.d=[],r=(n+1)%et,n<0&&(r+=et),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=et;r<i;)t.d.push(+e.slice(r,r+=et));e=e.slice(r),r=et-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),it&&(t.e>og||t.e<-og))throw Error(aA+n)}else t.s=0,t.e=0,t.d=[0];return t}function qe(t,e,n){var r,i,o,s,a,l,u,c,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=et,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/et),o=f.length,c>=o)return t;for(u=o=f[c],s=1;o>=10;o/=10)s++;r%=et,i=r-et+s}if(n!==void 0&&(o=As(10,s-i-1),a=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/As(10,s-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Pt(t),f.length=1,e=e-o-1,f[0]=As(10,(et-e%et)%et),t.e=Ou(-e/et)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=As(10,et-r),f[c]=i>0?(u/As(10,s-i)%As(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==jt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=jt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(it&&(t.e>og||t.e<-og))throw Error(aA+Pt(t));return t}function tB(t,e){var n,r,i,o,s,a,l,u,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),it?qe(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(p/et),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=jt-1;--l[o],l[i]+=jt}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,it?qe(e,p):e):new d(0)}function ra(t,e,n){var r,i=Pt(t),o=Gr(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+ao(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ao(-i-1)+o,n&&(r=n-s)>0&&(o+=ao(r))):i>=s?(o+=ao(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+ao(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=ao(r))),t.s<0?"-"+o:o}function PR(t,e){if(t.length>e)return t.length=e,!0}function nB(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Bs+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return AR(s,o.toString())}else if(typeof o!="string")throw Error(Bs+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,Ibe.test(o))AR(s,o);else throw Error(Bs+o)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=nB,i.config=i.set=kbe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function kbe(t){if(!t||typeof t!="object")throw Error(yr+"Object expected");var e,n,r,i=["precision",1,ku,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ou(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Bs+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Bs+n+": "+r);return this}var lA=nB(Cbe);qn=new lA(1);const Be=lA;function Obe(t){return Dbe(t)||Mbe(t)||Rbe(t)||Nbe()}function Nbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rbe(t,e){if(t){if(typeof t=="string")return Bb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bb(t,e)}}function Mbe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Dbe(t){if(Array.isArray(t))return Bb(t)}function Bb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Lbe=function(e){return e},rB={},iB=function(e){return e===rB},CR=function(e){return function n(){return arguments.length===0||arguments.length===1&&iB(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},jbe=function t(e,n){return e===1?n:CR(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==rB}).length;return s>=e?n.apply(void 0,i):t(e-s,CR(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(f){return iB(f)?l.shift():f});return n.apply(void 0,Obe(c).concat(l))}))})},hv=function(e){return jbe(e.length,e)},zb=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},$be=hv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Vbe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Lbe;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},qb=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},oB=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Fbe(t){var e;return t===0?e=1:e=Math.floor(new Be(t).abs().log(10).toNumber())+1,e}function Ube(t,e,n){for(var r=new Be(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Bbe=hv(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),zbe=hv(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),qbe=hv(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const pv={rangeStep:Ube,getDigitCount:Fbe,interpolateNumber:Bbe,uninterpolateNumber:zbe,uninterpolateTruncation:qbe};function Gb(t){return Hbe(t)||Wbe(t)||sB(t)||Gbe()}function Gbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wbe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Hbe(t){if(Array.isArray(t))return Wb(t)}function Kf(t,e){return Xbe(t)||Ybe(t,e)||sB(t,e)||Kbe()}function Kbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sB(t,e){if(t){if(typeof t=="string")return Wb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wb(t,e)}}function Wb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ybe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function Xbe(t){if(Array.isArray(t))return t}function aB(t){var e=Kf(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function lB(t,e,n){if(t.lte(0))return new Be(0);var r=pv.getDigitCount(t.toNumber()),i=new Be(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Be(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new Be(Math.ceil(l))}function Qbe(t,e,n){var r=1,i=new Be(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Be(10).pow(pv.getDigitCount(t)-1),i=new Be(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Be(Math.floor(t)))}else t===0?i=new Be(Math.floor((e-1)/2)):n||(i=new Be(Math.floor(t)));var s=Math.floor((e-1)/2),a=Vbe($be(function(l){return i.add(new Be(l-s).mul(r)).toNumber()}),zb);return a(0,e)}function uB(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Be(0),tickMin:new Be(0),tickMax:new Be(0)};var o=lB(new Be(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Be(0):(s=new Be(t).add(e).div(2),s=s.sub(new Be(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Be(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?uB(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new Be(a).mul(o)),tickMax:s.add(new Be(l).mul(o))})}function Jbe(t){var e=Kf(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=aB([n,r]),l=Kf(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(Gb(zb(0,i-1).map(function(){return 1/0}))):[].concat(Gb(zb(0,i-1).map(function(){return-1/0})),[c]);return n>r?qb(f):f}if(u===c)return Qbe(u,i,o);var d=uB(u,c,s,o),p=d.step,v=d.tickMin,x=d.tickMax,_=pv.rangeStep(v,x.add(new Be(.1).mul(p)),p);return n>r?qb(_):_}function Zbe(t,e){var n=Kf(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=aB([r,i]),a=Kf(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=lB(new Be(u).sub(l).div(c-1),o,0),d=[].concat(Gb(pv.rangeStep(new Be(l),new Be(u).sub(new Be(.99).mul(f)),f)),[u]);return r>i?qb(d):d}var ewe=oB(Jbe),twe=oB(Zbe),nwe="Invariant failed";function ia(t,e){throw new Error(nwe)}var rwe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function sg(){return sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sg.apply(this,arguments)}function iwe(t,e){return lwe(t)||awe(t,e)||swe(t,e)||owe()}function owe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function swe(t,e){if(t){if(typeof t=="string")return IR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IR(t,e)}}function IR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function awe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function lwe(t){if(Array.isArray(t))return t}function uwe(t,e){if(t==null)return{};var n=cwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dB(r.key),r)}}function hwe(t,e,n){return e&&dwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pwe(t,e,n){return e=ag(e),mwe(t,cB()?Reflect.construct(e,n||[],ag(t).constructor):e.apply(t,n))}function mwe(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gwe(t)}function gwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cB=function(){return!!t})()}function ag(t){return ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ag(t)}function ywe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hb(t,e)}function Hb(t,e){return Hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hb(t,e)}function fB(t,e,n){return e=dB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dB(t){var e=vwe(t,"string");return Gl(e)=="symbol"?e:e+""}function vwe(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mv=function(t){function e(){return fwe(this,e),pwe(this,e,arguments)}return ywe(e,t),hwe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,d=uwe(r,rwe),p=pe(d,!1);this.props.direction==="x"&&c.type!=="number"&&ia();var v=l.map(function(x){var _=u(x,a),b=_.x,w=_.y,T=_.value,C=_.errorVal;if(!C)return null;var S=[],I,P;if(Array.isArray(C)){var A=iwe(C,2);I=A[0],P=A[1]}else I=P=C;if(o==="vertical"){var O=c.scale,N=w+i,R=N+s,D=N-s,M=O(T-I),U=O(T+P);S.push({x1:U,y1:R,x2:U,y2:D}),S.push({x1:M,y1:N,x2:U,y2:N}),S.push({x1:M,y1:R,x2:M,y2:D})}else if(o==="horizontal"){var z=f.scale,K=b+i,W=K-s,V=K+s,q=z(T-I),Y=z(T+P);S.push({x1:W,y1:Y,x2:V,y2:Y}),S.push({x1:K,y1:q,x2:K,y2:Y}),S.push({x1:W,y1:q,x2:V,y2:q})}return $.createElement(je,sg({className:"recharts-errorBar",key:"bar-".concat(S.map(function(re){return"".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))},p),S.map(function(re){return $.createElement("line",sg({},re,{key:"line-".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))}))});return $.createElement(je,{className:"recharts-errorBars"},v)}}])}($.Component);fB(mv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});fB(mv,"displayName","ErrorBar");function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){xwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xwe(t,e,n){return e=_we(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _we(t){var e=bwe(t,"string");return Yf(e)=="symbol"?e:e+""}function bwe(t,e){if(Yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hB=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=zn(n,hl);if(!s)return null;var a=hl.defaultProps,l=a!==void 0?gs(gs({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var d=f.item,p=f.props,v=p.sectors||p.data||[];return c.concat(v.map(function(x){return{type:s.props.iconType||d.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(r||[]).map(function(c){var f=c.item,d=f.type.defaultProps,p=d!==void 0?gs(gs({},d),f.props):{},v=p.dataKey,x=p.name,_=p.legendType,b=p.hide;return{inactive:b,dataKey:v,type:l.iconType||_||"square",color:uA(f),value:x||v,payload:p}}),gs(gs(gs({},l),hl.getWithHeight(s,i)),{},{payload:u,item:s})};function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function OR(t){return Swe(t)||Ewe(t)||Twe(t)||wwe()}function wwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Twe(t,e){if(t){if(typeof t=="string")return Kb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kb(t,e)}}function Ewe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Swe(t){if(Array.isArray(t))return Kb(t)}function Kb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){ml(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ml(t,e,n){return e=Awe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Awe(t){var e=Pwe(t,"string");return Xf(e)=="symbol"?e:e+""}function Pwe(t,e){if(Xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mn(t,e,n){return Ee(t)||Ee(e)?n:Rt(e)?Xn(t,e,n):ge(e)?e(t):n}function Kc(t,e,n,r){var i=Ebe(t,function(a){return mn(a,e)});if(n==="number"){var o=i.filter(function(a){return ee(a)||parseFloat(a)});return o.length?[fv(o),cv(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!Ee(a)}):i;return s.map(function(a){return Rt(a)||a instanceof Date?a:""})}var Cwe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,f=i[u].coordinate,d=u>=a-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Tn(f-c)!==Tn(d-f)){var v=[];if(Tn(d-f)===Tn(l[1]-l[0])){p=d;var x=f+l[1]-l[0];v[0]=Math.min(x,(x+c)/2),v[1]=Math.max(x,(x+c)/2)}else{p=c;var _=d+l[1]-l[0];v[0]=Math.min(f,(_+f)/2),v[1]=Math.max(f,(_+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>b[0]&&e<=b[1]||e>=v[0]&&e<=v[1]){s=i[u].index;break}}else{var w=Math.min(c,d),T=Math.max(c,d);if(e>(w+f)/2&&e<=(T+f)/2){s=i[u].index;break}}}else for(var C=0;C<a;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){s=r[C].index;break}return s},uA=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?yt(yt({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},Iwe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,f=Object.keys(c),d=0,p=f.length;d<p;d++){var v=c[f[d]],x=v.items,_=v.cateAxisId,b=x.filter(function(P){return Ci(P.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,T=w!==void 0?yt(yt({},w),b[0].props):b[0].props,C=T.barSize,S=T[_];s[S]||(s[S]=[]);var I=Ee(C)?n:C;s[S].push({item:b[0],stackList:b.slice(1),barSize:Ee(I)?void 0:En(I,r,0)})}}return s},kwe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=En(n,i,0,!0),c,f=[];if(s[0].barSize===+s[0].barSize){var d=!1,p=i/l,v=s.reduce(function(C,S){return C+S.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&p>0&&(d=!0,p*=.9,v=l*p);var x=(i-v)/2>>0,_={offset:x-u,size:0};c=s.reduce(function(C,S){var I={item:S.item,position:{offset:_.offset+_.size+u,size:d?p:S.barSize}},P=[].concat(OR(C),[I]);return _=P[P.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){P.push({item:A,position:_})}),P},f)}else{var b=En(r,i,0,!0);i-2*b-(l-1)*u<=0&&(u=0);var w=(i-2*b-(l-1)*u)/l;w>1&&(w>>=0);var T=a===+a?Math.min(w,a):w;c=s.reduce(function(C,S,I){var P=[].concat(OR(C),[{item:S.item,position:{offset:b+(w+u)*I+(w-T)/2,size:T}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){P.push({item:A,position:P[P.length-1].position})}),P},f)}return c},Owe=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=hB({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,d=c.height,p=u.align,v=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&v==="middle")&&p!=="center"&&ee(e[p]))return yt(yt({},e),{},ml({},p,e[p]+(f||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&v!=="middle"&&ee(e[v]))return yt(yt({},e),{},ml({},v,e[v]+(d||0)))}return e},Nwe=function(e,n,r){return Ee(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},pB=function(e,n,r,i,o){var s=n.props.children,a=pr(s,mv).filter(function(u){return Nwe(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=mn(c,r);if(Ee(f))return u;var d=Array.isArray(f)?[fv(f),cv(f)]:[f,f],p=l.reduce(function(v,x){var _=mn(c,x,0),b=d[0]-Math.abs(Array.isArray(_)?_[0]:_),w=d[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(b,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Rwe=function(e,n,r,i,o){var s=n.map(function(a){return pB(e,a,r,o,i)}).filter(function(a){return!Ee(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},mB=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&pB(e,l,u,i)||Kc(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},gB=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},yB=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},wi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Tn(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var d=o?o.indexOf(f):f;return{coordinate:i(d)+u,value:f,offset:u}});return c.filter(function(f){return!qd(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+u,value:f,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,d){return{coordinate:i(f)+u,value:o?o[f]:f,index:d,offset:u}})},lx=new WeakMap,ep=function(e,n){if(typeof n!="function")return e;lx.has(e)||lx.set(e,new WeakMap);var r=lx.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},vB=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Bf(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:tg(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Hc(),realScaleType:"point"}:o==="category"?{scale:Bf(),realScaleType:"band"}:{scale:tg(),realScaleType:"linear"};if(ea(i)){var l="scale".concat(Yy(i));return{scale:(SR[l]||Hc)(),realScaleType:SR[l]?l:"point"}}return ge(i)?{scale:i}:{scale:Hc(),realScaleType:"point"}},RR=1e-4,xB=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-RR,s=Math.max(i[0],i[1])+RR,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},Mwe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Dwe=function(e,n){if(!n||n.length!==2||!ee(n[0])||!ee(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ee(e[0])||e[0]<r)&&(o[0]=r),(!ee(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Lwe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=qd(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},jwe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=qd(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},$we={sign:Lwe,expand:rce,none:jl,silhouette:ice,wiggle:oce,positive:jwe},Vwe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=$we[r],s=nce().keys(i).value(function(a,l){return+mn(a,l,0)}).order(vb).offset(o);return s(e)},Fwe=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(f,d){var p,v=(p=d.type)!==null&&p!==void 0&&p.defaultProps?yt(yt({},d.type.defaultProps),d.props):d.props,x=v.stackId,_=v.hide;if(_)return f;var b=v[r],w=f[b]||{hasStack:!1,stackGroups:{}};if(Rt(x)){var T=w.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};T.items.push(d),w.hasStack=!0,w.stackGroups[x]=T}else w.stackGroups[Gd("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return yt(yt({},f),{},ml({},b,w))},l),c={};return Object.keys(u).reduce(function(f,d){var p=u[d];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,_){var b=p.stackGroups[_];return yt(yt({},x),{},ml({},_,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:Vwe(e,b.items,o)}))},v)}return yt(yt({},f),{},ml({},d,p))},c)},_B=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=ewe(u,o,a);return e.domain([fv(c),cv(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),d=twe(f,o,a);return{niceTicks:d}}return null},MR=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=mn(s,n.dataKey,n.domain[a]);return Ee(l)?null:n.scale(l)-o/2+i},Uwe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Bwe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?yt(yt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Rt(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},zwe=function(e){return e.reduce(function(n,r){return[fv(r.concat([n[0]]).filter(ee)),cv(r.concat([n[1]]).filter(ee))]},[1/0,-1/0])},bB=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var f=zwe(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},DR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,LR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yb=function(e,n,r){if(ge(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ee(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(DR.test(e[0])){var o=+DR.exec(e[0])[1];i[0]=n[0]-o}else ge(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ee(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(LR.test(e[1])){var s=+LR.exec(e[1])[1];i[1]=n[1]+s}else ge(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},lg=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=jS(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},jR=function(e,n,r){return!e||!e.length||dv(e,Xn(r,"type.defaultProps.domain"))?n:e},wB=function(e,n){var r=e.type.defaultProps?yt(yt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return yt(yt({},pe(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:uA(e),value:mn(n,i),type:l,payload:n,chartType:u,hide:c})};function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){TB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TB(t,e,n){return e=qwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qwe(t){var e=Gwe(t,"string");return Qf(e)=="symbol"?e:e+""}function Gwe(t,e){if(Qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wwe(t,e){return Xwe(t)||Ywe(t,e)||Kwe(t,e)||Hwe()}function Hwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kwe(t,e){if(t){if(typeof t=="string")return VR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VR(t,e)}}function VR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ywe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Xwe(t){if(Array.isArray(t))return t}var ug=Math.PI/180,Qwe=function(e){return e*180/Math.PI},Xe=function(e,n,r,i){return{x:e+Math.cos(-ug*i)*r,y:n+Math.sin(-ug*i)*r}},EB=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Jwe=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.startAngle,u=e.endAngle,c=En(e.cx,s,s/2),f=En(e.cy,a,a/2),d=EB(s,a,r),p=En(e.innerRadius,d,0),v=En(e.outerRadius,d,d*.8),x=Object.keys(n);return x.reduce(function(_,b){var w=n[b],T=w.domain,C=w.reversed,S;if(Ee(w.range))i==="angleAxis"?S=[l,u]:i==="radiusAxis"&&(S=[p,v]),C&&(S=[S[1],S[0]]);else{S=w.range;var I=S,P=Wwe(I,2);l=P[0],u=P[1]}var A=vB(w,o),O=A.realScaleType,N=A.scale;N.domain(T).range(S),xB(N);var R=_B(N,hi(hi({},w),{},{realScaleType:O})),D=hi(hi(hi({},w),R),{},{range:S,radius:v,realScaleType:O,scale:N,cx:c,cy:f,innerRadius:p,outerRadius:v,startAngle:l,endAngle:u});return hi(hi({},_),{},TB({},b,D))},{})},Zwe=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},eTe=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=Zwe({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:Qwe(u),angleInRadian:u}},tTe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},nTe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},FR=function(e,n){var r=e.x,i=e.y,o=eTe({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=tTe(n),f=c.startAngle,d=c.endAngle,p=a,v;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;v=p>=d&&p<=f}return v?hi(hi({},n),{},{radius:s,angle:nTe(p,n)}):null},SB=function(e){return!j.isValidElement(e)&&!ge(e)&&typeof e!="boolean"?e.className:""};function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}var rTe=["offset"];function iTe(t){return lTe(t)||aTe(t)||sTe(t)||oTe()}function oTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sTe(t,e){if(t){if(typeof t=="string")return Xb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xb(t,e)}}function aTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lTe(t){if(Array.isArray(t))return Xb(t)}function Xb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uTe(t,e){if(t==null)return{};var n=cTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){fTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fTe(t,e,n){return e=dTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dTe(t){var e=hTe(t,"string");return Jf(e)=="symbol"?e:e+""}function hTe(t,e){if(Jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zf(){return Zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zf.apply(this,arguments)}var pTe=function(e){var n=e.value,r=e.formatter,i=Ee(e.children)?n:e.children;return ge(r)?r(i):i},mTe=function(e,n){var r=Tn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},gTe=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,d=l.outerRadius,p=l.startAngle,v=l.endAngle,x=l.clockWise,_=(f+d)/2,b=mTe(p,v),w=b>=0?1:-1,T,C;i==="insideStart"?(T=p+w*s,C=x):i==="insideEnd"?(T=v-w*s,C=!x):i==="end"&&(T=v+w*s,C=x),C=b<=0?C:!C;var S=Xe(u,c,_,T),I=Xe(u,c,_,T+(C?1:-1)*359),P="M".concat(S.x,",").concat(S.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(C?0:1,`,
    `).concat(I.x,",").concat(I.y),A=Ee(e.id)?Gd("recharts-radial-line-"):e.id;return $.createElement("text",Zf({},r,{dominantBaseline:"central",className:Te("recharts-radial-bar-label",a)}),$.createElement("defs",null,$.createElement("path",{id:A,d:P})),$.createElement("textPath",{xlinkHref:"#".concat(A)},n))},yTe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,d=(c+f)/2;if(i==="outside"){var p=Xe(s,a,u+r,d),v=p.x,x=p.y;return{x:v,y:x,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var _=(l+u)/2,b=Xe(s,a,_,d),w=b.x,T=b.y;return{x:w,y:T,textAnchor:"middle",verticalAnchor:"middle"}},vTe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,f=c>=0?1:-1,d=f*i,p=f>0?"end":"start",v=f>0?"start":"end",x=u>=0?1:-1,_=x*i,b=x>0?"end":"start",w=x>0?"start":"end";if(o==="top"){var T={x:a+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return kt(kt({},T),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var C={x:a+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:v};return kt(kt({},C),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:a-_,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return kt(kt({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var I={x:a+u+_,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return kt(kt({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:c}:{})}var P=r?{width:u,height:c}:{};return o==="insideLeft"?kt({x:a+_,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},P):o==="insideRight"?kt({x:a+u-_,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},P):o==="insideTop"?kt({x:a+u/2,y:l+d,textAnchor:"middle",verticalAnchor:v},P):o==="insideBottom"?kt({x:a+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:p},P):o==="insideTopLeft"?kt({x:a+_,y:l+d,textAnchor:w,verticalAnchor:v},P):o==="insideTopRight"?kt({x:a+u-_,y:l+d,textAnchor:b,verticalAnchor:v},P):o==="insideBottomLeft"?kt({x:a+_,y:l+c-d,textAnchor:w,verticalAnchor:p},P):o==="insideBottomRight"?kt({x:a+u-_,y:l+c-d,textAnchor:b,verticalAnchor:p},P):bu(o)&&(ee(o.x)||Rs(o.x))&&(ee(o.y)||Rs(o.y))?kt({x:a+En(o.x,u),y:l+En(o.y,c),textAnchor:"end",verticalAnchor:"end"},P):kt({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},P)},xTe=function(e){return"cx"in e&&ee(e.cx)};function Vt(t){var e=t.offset,n=e===void 0?5:e,r=uTe(t,rTe),i=kt({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,d=i.textBreakAll;if(!o||Ee(a)&&Ee(l)&&!j.isValidElement(u)&&!ge(u))return null;if(j.isValidElement(u))return j.cloneElement(u,i);var p;if(ge(u)){if(p=j.createElement(u,i),j.isValidElement(p))return p}else p=pTe(i);var v=xTe(o),x=pe(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return gTe(i,p,x);var _=v?yTe(i):vTe(i);return $.createElement(na,Zf({className:Te("recharts-label",f)},x,_,{breakAll:d}),p)}Vt.displayName="Label";var AB=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,d=e.y,p=e.top,v=e.left,x=e.width,_=e.height,b=e.clockWise,w=e.labelViewBox;if(w)return w;if(ee(x)&&ee(_)){if(ee(f)&&ee(d))return{x:f,y:d,width:x,height:_};if(ee(p)&&ee(v))return{x:p,y:v,width:x,height:_}}return ee(f)&&ee(d)?{x:f,y:d,width:0,height:0}:ee(n)&&ee(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:b}:e.viewBox?e.viewBox:{}},_Te=function(e,n){return e?e===!0?$.createElement(Vt,{key:"label-implicit",viewBox:n}):Rt(e)?$.createElement(Vt,{key:"label-implicit",viewBox:n,value:e}):j.isValidElement(e)?e.type===Vt?j.cloneElement(e,{key:"label-implicit",viewBox:n}):$.createElement(Vt,{key:"label-implicit",content:e,viewBox:n}):ge(e)?$.createElement(Vt,{key:"label-implicit",content:e,viewBox:n}):bu(e)?$.createElement(Vt,Zf({viewBox:n},e,{key:"label-implicit"})):null:null},bTe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=AB(e),s=pr(i,Vt).map(function(l,u){return j.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=_Te(e.label,n||o);return[a].concat(iTe(s))};Vt.parseViewBox=AB;Vt.renderCallByParent=bTe;function wTe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var TTe=wTe;const ETe=Fe(TTe);function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}var STe=["valueAccessor"],ATe=["data","dataKey","clockWise","id","textBreakAll"];function PTe(t){return OTe(t)||kTe(t)||ITe(t)||CTe()}function CTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ITe(t,e){if(t){if(typeof t=="string")return Qb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qb(t,e)}}function kTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OTe(t){if(Array.isArray(t))return Qb(t)}function Qb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cg(){return cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cg.apply(this,arguments)}function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){NTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NTe(t,e,n){return e=RTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RTe(t){var e=MTe(t,"string");return ed(e)=="symbol"?e:e+""}function MTe(t,e){if(ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qR(t,e){if(t==null)return{};var n=DTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var LTe=function(e){return Array.isArray(e.value)?ETe(e.value):e.value};function Lo(t){var e=t.valueAccessor,n=e===void 0?LTe:e,r=qR(t,STe),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=qR(r,ATe);return!i||!i.length?null:$.createElement(je,{className:"recharts-label-list"},i.map(function(c,f){var d=Ee(o)?n(c,f):mn(c&&c.payload,o),p=Ee(a)?{}:{id:"".concat(a,"-").concat(f)};return $.createElement(Vt,cg({},pe(c,!0),u,p,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:Vt.parseViewBox(Ee(s)?c:zR(zR({},c),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Lo.displayName="LabelList";function jTe(t,e){return t?t===!0?$.createElement(Lo,{key:"labelList-implicit",data:e}):$.isValidElement(t)||ge(t)?$.createElement(Lo,{key:"labelList-implicit",data:e,content:t}):bu(t)?$.createElement(Lo,cg({data:e},t,{key:"labelList-implicit"})):null:null}function $Te(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=pr(r,Lo).map(function(s,a){return j.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=jTe(t.label,e);return[o].concat(PTe(i))}Lo.renderCallByParent=$Te;function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function Jb(){return Jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jb.apply(this,arguments)}function GR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(n),!0).forEach(function(r){VTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VTe(t,e,n){return e=FTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FTe(t){var e=UTe(t,"string");return td(e)=="symbol"?e:e+""}function UTe(t,e){if(td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BTe=function(e,n){var r=Tn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},tp=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,f=Math.asin(l/c)/ug,d=u?o:o+s*f,p=Xe(n,r,c,d),v=Xe(n,r,i,d),x=u?o-s*f:o,_=Xe(n,r,c*Math.cos(f*ug),x);return{center:p,circleTangency:v,lineTangency:_,theta:f}},PB=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=BTe(s,a),u=s+l,c=Xe(n,r,o,s),f=Xe(n,r,o,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Xe(n,r,i,s),v=Xe(n,r,i,u);d+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},zTe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Tn(c-u),d=tp({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),p=d.circleTangency,v=d.lineTangency,x=d.theta,_=tp({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:s,cornerIsExternal:l}),b=_.circleTangency,w=_.lineTangency,T=_.theta,C=l?Math.abs(u-c):Math.abs(u-c)-x-T;if(C<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):PB({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var I=tp({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),P=I.circleTangency,A=I.lineTangency,O=I.theta,N=tp({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),R=N.circleTangency,D=N.lineTangency,M=N.theta,U=l?Math.abs(u-c):Math.abs(u-c)-O-M;if(U<0&&s===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},qTe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},CB=function(e){var n=WR(WR({},qTe),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,d=n.className;if(s<o||c===f)return null;var p=Te("recharts-sector",d),v=s-o,x=En(a,v,0,!0),_;return x>0&&Math.abs(c-f)<360?_=zTe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(x,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):_=PB({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:f}),$.createElement("path",Jb({},pe(n,!0),{className:p,d:_,role:"img"}))};function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function Zb(){return Zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zb.apply(this,arguments)}function HR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(n),!0).forEach(function(r){GTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GTe(t,e,n){return e=WTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WTe(t){var e=HTe(t,"string");return nd(e)=="symbol"?e:e+""}function HTe(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YR={curveBasisClosed:Gue,curveBasisOpen:Wue,curveBasis:que,curveBumpX:kue,curveBumpY:Oue,curveLinearClosed:Hue,curveLinear:Qy,curveMonotoneX:Kue,curveMonotoneY:Yue,curveNatural:Xue,curveStep:Que,curveStepAfter:Zue,curveStepBefore:Jue},np=function(e){return e.x===+e.x&&e.y===+e.y},uc=function(e){return e.x},cc=function(e){return e.y},KTe=function(e,n){if(ge(e))return e;var r="curve".concat(Yy(e));return(r==="curveMonotone"||r==="curveBump")&&n?YR["".concat(r).concat(n==="vertical"?"Y":"X")]:YR[r]||Qy},YTe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=KTe(r,a),f=u?o.filter(function(x){return np(x)}):o,d;if(Array.isArray(s)){var p=u?s.filter(function(x){return np(x)}):s,v=f.map(function(x,_){return KR(KR({},x),{},{base:p[_]})});return a==="vertical"?d=Wh().y(cc).x1(uc).x0(function(x){return x.base.x}):d=Wh().x(uc).y1(cc).y0(function(x){return x.base.y}),d.defined(np).curve(c),d(v)}return a==="vertical"&&ee(s)?d=Wh().y(cc).x1(uc).x0(s):ee(s)?d=Wh().x(uc).y1(cc).y0(s):d=w4().x(uc).y(cc),d.defined(np).curve(c),d(f)},ew=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?YTe(e):i;return j.createElement("path",Zb({},pe(e,!1),Dm(e),{className:Te("recharts-curve",n),d:s,ref:o}))},IB={exports:{}},XTe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",QTe=XTe,JTe=QTe;function kB(){}function OB(){}OB.resetWarningCache=kB;var ZTe=function(){function t(r,i,o,s,a,l){if(l!==JTe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:OB,resetWarningCache:kB};return n.PropTypes=n,n};IB.exports=ZTe();var eEe=IB.exports;const Le=Fe(eEe);var tEe=Object.getOwnPropertyNames,nEe=Object.getOwnPropertySymbols,rEe=Object.prototype.hasOwnProperty;function XR(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function rp(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function iEe(t){return t!=null?t[Symbol.toStringTag]:void 0}function QR(t){return tEe(t).concat(nEe(t))}var oEe=Object.hasOwn||function(t,e){return rEe.call(t,e)};function ga(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var sEe="__v",aEe="__o",lEe="_owner",JR=Object.getOwnPropertyDescriptor,ZR=Object.keys;function uEe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function cEe(t,e){return ga(t.getTime(),e.getTime())}function fEe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function dEe(t,e){return t===e}function eM(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),s,a,l=0;(s=o.next())&&!s.done;){for(var u=e.entries(),c=!1,f=0;(a=u.next())&&!a.done;){if(i[f]){f++;continue}var d=s.value,p=a.value;if(n.equals(d[0],p[0],l,f,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var hEe=ga;function pEe(t,e,n){var r=ZR(t),i=r.length;if(ZR(e).length!==i)return!1;for(;i-- >0;)if(!NB(t,e,n,r[i]))return!1;return!0}function fc(t,e,n){var r=QR(t),i=r.length;if(QR(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],!NB(t,e,n,o)||(s=JR(t,o),a=JR(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function mEe(t,e){return ga(t.valueOf(),e.valueOf())}function gEe(t,e){return t.source===e.source&&t.flags===e.flags}function tM(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),s,a;(s=o.next())&&!s.done;){for(var l=e.values(),u=!1,c=0;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function yEe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function vEe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function NB(t,e,n,r){return(r===lEe||r===aEe||r===sEe)&&(t.$$typeof||e.$$typeof)?!0:oEe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var xEe="[object Arguments]",_Ee="[object Boolean]",bEe="[object Date]",wEe="[object Error]",TEe="[object Map]",EEe="[object Number]",SEe="[object Object]",AEe="[object RegExp]",PEe="[object Set]",CEe="[object String]",IEe="[object URL]",kEe=Array.isArray,nM=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,rM=Object.assign,OEe=Object.prototype.toString.call.bind(Object.prototype.toString);function NEe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,d=t.areUrlsEqual,p=t.unknownTagComparators;return function(x,_,b){if(x===_)return!0;if(x==null||_==null)return!1;var w=typeof x;if(w!==typeof _)return!1;if(w!=="object")return w==="number"?s(x,_,b):w==="function"?i(x,_,b):!1;var T=x.constructor;if(T!==_.constructor)return!1;if(T===Object)return a(x,_,b);if(kEe(x))return e(x,_,b);if(nM!=null&&nM(x))return f(x,_,b);if(T===Date)return n(x,_,b);if(T===RegExp)return u(x,_,b);if(T===Map)return o(x,_,b);if(T===Set)return c(x,_,b);var C=OEe(x);if(C===bEe)return n(x,_,b);if(C===AEe)return u(x,_,b);if(C===TEe)return o(x,_,b);if(C===PEe)return c(x,_,b);if(C===SEe)return typeof x.then!="function"&&typeof _.then!="function"&&a(x,_,b);if(C===IEe)return d(x,_,b);if(C===wEe)return r(x,_,b);if(C===xEe)return a(x,_,b);if(C===_Ee||C===EEe||C===CEe)return l(x,_,b);if(p){var S=p[C];if(!S){var I=iEe(x);I&&(S=p[I])}if(S)return S(x,_,b)}return!1}}function REe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?fc:uEe,areDatesEqual:cEe,areErrorsEqual:fEe,areFunctionsEqual:dEe,areMapsEqual:r?XR(eM,fc):eM,areNumbersEqual:hEe,areObjectsEqual:r?fc:pEe,arePrimitiveWrappersEqual:mEe,areRegExpsEqual:gEe,areSetsEqual:r?XR(tM,fc):tM,areTypedArraysEqual:r?fc:yEe,areUrlsEqual:vEe,unknownTagComparators:void 0};if(n&&(i=rM({},i,n(i))),e){var o=rp(i.areArraysEqual),s=rp(i.areMapsEqual),a=rp(i.areObjectsEqual),l=rp(i.areSetsEqual);i=rM({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function MEe(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function DEe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,d=f===void 0?e?new WeakMap:void 0:f,p=c.meta;return n(l,u,{cache:d,equals:i,meta:p,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,s)}}var LEe=ls();ls({strict:!0});ls({circular:!0});ls({circular:!0,strict:!0});ls({createInternalComparator:function(){return ga}});ls({strict:!0,createInternalComparator:function(){return ga}});ls({circular:!0,createInternalComparator:function(){return ga}});ls({circular:!0,createInternalComparator:function(){return ga},strict:!0});function ls(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=REe(t),l=NEe(a),u=r?r(l):MEe(l);return DEe({circular:n,comparator:l,createState:i,equals:u,strict:s})}function jEe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function iM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):jEe(i)};requestAnimationFrame(r)}function tw(t){"@babel/helpers - typeof";return tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tw(t)}function $Ee(t){return BEe(t)||UEe(t)||FEe(t)||VEe()}function VEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FEe(t,e){if(t){if(typeof t=="string")return oM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oM(t,e)}}function oM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BEe(t){if(Array.isArray(t))return t}function zEe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=$Ee(s),l=a[0],u=a.slice(1);if(typeof l=="number"){iM(i.bind(null,u),l);return}i(l),iM(i.bind(null,u));return}tw(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){RB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RB(t,e,n){return e=qEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qEe(t){var e=GEe(t,"string");return rd(e)==="symbol"?e:String(e)}function GEe(t,e){if(rd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WEe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},HEe=function(e){return e},KEe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Yc=function(e,n){return Object.keys(n).reduce(function(r,i){return aM(aM({},r),{},RB({},i,e(i,n[i])))},{})},lM=function(e,n,r){return e.map(function(i){return"".concat(KEe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function YEe(t,e){return JEe(t)||QEe(t,e)||MB(t,e)||XEe()}function XEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function JEe(t){if(Array.isArray(t))return t}function ZEe(t){return nSe(t)||tSe(t)||MB(t)||eSe()}function eSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MB(t,e){if(t){if(typeof t=="string")return nw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nw(t,e)}}function tSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nSe(t){if(Array.isArray(t))return nw(t)}function nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fg=1e-4,DB=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},LB=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},uM=function(e,n){return function(r){var i=DB(e,n);return LB(i,r)}},rSe=function(e,n){return function(r){var i=DB(e,n),o=[].concat(ZEe(i.map(function(s,a){return s*a}).slice(1)),[0]);return LB(o,r)}},cM=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),c=YEe(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var f=uM(i,s),d=uM(o,a),p=rSe(i,s),v=function(b){return b>1?1:b<0?0:b},x=function(b){for(var w=b>1?1:b,T=w,C=0;C<8;++C){var S=f(T)-w,I=p(T);if(Math.abs(S-w)<fg||I<fg)return d(T);T=v(T-S/I)}return d(T)};return x.isStepper=!1,x},iSe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,f,d){var p=-(c-f)*r,v=d*o,x=d+(p-v)*a/1e3,_=d*a/1e3+c;return Math.abs(_-f)<fg&&Math.abs(x)<fg?[f,0]:[_,x]};return l.isStepper=!0,l.dt=a,l},oSe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return cM(i);case"spring":return iSe();default:if(i.split("(")[0]==="cubic-bezier")return cM(i)}return typeof i=="function"?i:null};function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function fM(t){return lSe(t)||aSe(t)||jB(t)||sSe()}function sSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lSe(t){if(Array.isArray(t))return iw(t)}function dM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(n),!0).forEach(function(r){rw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rw(t,e,n){return e=uSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uSe(t){var e=cSe(t,"string");return id(e)==="symbol"?e:String(e)}function cSe(t,e){if(id(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(id(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fSe(t,e){return pSe(t)||hSe(t,e)||jB(t,e)||dSe()}function dSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jB(t,e){if(t){if(typeof t=="string")return iw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iw(t,e)}}function iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function pSe(t){if(Array.isArray(t))return t}var dg=function(e,n,r){return e+(n-e)*r},ow=function(e){var n=e.from,r=e.to;return n!==r},mSe=function t(e,n,r){var i=Yc(function(o,s){if(ow(s)){var a=e(s.from,s.to,s.velocity),l=fSe(a,2),u=l[0],c=l[1];return qt(qt({},s),{},{from:u,velocity:c})}return s},n);return r<1?Yc(function(o,s){return ow(s)?qt(qt({},s),{},{velocity:dg(s.velocity,i[o].velocity,r),from:dg(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const gSe=function(t,e,n,r,i){var o=WEe(t,e),s=o.reduce(function(_,b){return qt(qt({},_),{},rw({},b,[t[b],e[b]]))},{}),a=o.reduce(function(_,b){return qt(qt({},_),{},rw({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,u,c,f=function(){return null},d=function(){return Yc(function(b,w){return w.from},a)},p=function(){return!Object.values(a).filter(ow).length},v=function(b){u||(u=b);var w=b-u,T=w/n.dt;a=mSe(n,a,T),i(qt(qt(qt({},t),e),d())),u=b,p()||(l=requestAnimationFrame(f))},x=function(b){c||(c=b);var w=(b-c)/r,T=Yc(function(S,I){return dg.apply(void 0,fM(I).concat([n(w)]))},s);if(i(qt(qt(qt({},t),e),T)),w<1)l=requestAnimationFrame(f);else{var C=Yc(function(S,I){return dg.apply(void 0,fM(I).concat([n(1)]))},s);i(qt(qt(qt({},t),e),C))}};return f=n.isStepper?v:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}var ySe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function vSe(t,e){if(t==null)return{};var n=xSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ux(t){return TSe(t)||wSe(t)||bSe(t)||_Se()}function _Se(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bSe(t,e){if(t){if(typeof t=="string")return sw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sw(t,e)}}function wSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TSe(t){if(Array.isArray(t))return sw(t)}function sw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(n),!0).forEach(function(r){Cc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cc(t,e,n){return e=$B(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ESe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$B(r.key),r)}}function ASe(t,e,n){return e&&SSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $B(t){var e=PSe(t,"string");return Wl(e)==="symbol"?e:String(e)}function PSe(t,e){if(Wl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aw(t,e)}function aw(t,e){return aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aw(t,e)}function ISe(t){var e=kSe();return function(){var r=hg(t),i;if(e){var o=hg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return lw(this,i)}}function lw(t,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uw(t)}function uw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hg(t){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hg(t)}var Bi=function(t){CSe(n,t);var e=ISe(n);function n(r,i){var o;ESe(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,f=s.steps,d=s.children,p=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(uw(o)),o.changeStyle=o.changeStyle.bind(uw(o)),!a||p<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:c}),lw(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof d=="function")return o.state={style:u},lw(o);o.state={style:l?Cc({},l,u):u}}else o.state={style:{}};return o}return ASe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,d=this.state.style;if(a){if(!s){var p={style:l?Cc({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(p);return}if(!(LEe(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=v||u?f:i.to;if(this.state&&d){var _={style:l?Cc({},l,x):x};(l&&d[l]!==x||!l&&d!==x)&&this.setState(_)}this.runAnimation(wr(wr({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,p=gSe(s,a,oSe(u),l,this.changeStyle),v=function(){o.stopJSAnimation=p()};this.manager.start([d,c,v,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,f=u.duration,d=f===void 0?0:f,p=function(x,_,b){if(b===0)return x;var w=_.duration,T=_.easing,C=T===void 0?"ease":T,S=_.style,I=_.properties,P=_.onAnimationEnd,A=b>0?s[b-1]:_,O=I||Object.keys(S);if(typeof C=="function"||C==="spring")return[].concat(ux(x),[o.runJSAnimation.bind(o,{from:A.style,to:S,duration:w,easing:C}),w]);var N=lM(O,w,C),R=wr(wr(wr({},A.style),S),{},{transition:N});return[].concat(ux(x),[R,w,P]).filter(HEe)};return this.manager.start([l].concat(ux(s.reduce(p,[c,Math.max(d,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=zEe());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var x=a?Cc({},a,l):l,_=lM(Object.keys(x),s,u);v.start([c,o,wr(wr({},x),{},{transition:_}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=vSe(i,ySe),u=j.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var f=function(p){var v=p.props,x=v.style,_=x===void 0?{}:x,b=v.className,w=j.cloneElement(p,wr(wr({},l),{},{style:wr(wr({},_),c),className:b}));return w};return u===1?f(j.Children.only(o)):$.createElement("div",null,j.Children.map(o,function(d){return f(d)}))}}]),n}(j.PureComponent);Bi.displayName="Animate";Bi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Bi.propTypes={from:Le.oneOfType([Le.object,Le.string]),to:Le.oneOfType([Le.object,Le.string]),attributeName:Le.string,duration:Le.number,begin:Le.number,easing:Le.oneOfType([Le.string,Le.func]),steps:Le.arrayOf(Le.shape({duration:Le.number.isRequired,style:Le.object.isRequired,easing:Le.oneOfType([Le.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Le.func]),properties:Le.arrayOf("string"),onAnimationEnd:Le.func})),children:Le.oneOfType([Le.node,Le.func]),isActive:Le.bool,canBegin:Le.bool,onAnimationEnd:Le.func,shouldReAnimate:Le.bool,onAnimationStart:Le.func,onAnimationReStart:Le.func};function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function pg(){return pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pg.apply(this,arguments)}function OSe(t,e){return DSe(t)||MSe(t,e)||RSe(t,e)||NSe()}function NSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RSe(t,e){if(t){if(typeof t=="string")return pM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pM(t,e)}}function pM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function DSe(t){if(Array.isArray(t))return t}function mM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mM(Object(n),!0).forEach(function(r){LSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LSe(t,e,n){return e=jSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jSe(t){var e=$Se(t,"string");return od(e)=="symbol"?e:e+""}function $Se(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yM=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],d=0,p=4;d<p;d++)f[d]=o[d]>s?s:o[d];c="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*f[1])),c+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*f[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var v=Math.min(s,o);c="M ".concat(e,",").concat(n+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*v,`
            L `).concat(e+r,",").concat(n+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},VSe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),f=Math.min(s,s+l),d=Math.max(s,s+l);return r>=u&&r<=c&&i>=f&&i<=d}return!1},FSe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cA=function(e){var n=gM(gM({},FSe),e),r=j.useRef(),i=j.useState(-1),o=OSe(i,2),s=o[0],a=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&a(C)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,d=n.radius,p=n.className,v=n.animationEasing,x=n.animationDuration,_=n.animationBegin,b=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var T=Te("recharts-rectangle",p);return w?$.createElement(Bi,{canBegin:s>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:x,animationEasing:v,isActive:w},function(C){var S=C.width,I=C.height,P=C.x,A=C.y;return $.createElement(Bi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:x,isActive:b,easing:v},$.createElement("path",pg({},pe(n,!0),{className:T,d:yM(P,A,S,I,d),ref:r})))}):$.createElement("path",pg({},pe(n,!0),{className:T,d:yM(l,u,c,f,d)}))},USe=["points","className","baseLinePoints","connectNulls"];function Xa(){return Xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xa.apply(this,arguments)}function BSe(t,e){if(t==null)return{};var n=zSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vM(t){return HSe(t)||WSe(t)||GSe(t)||qSe()}function qSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GSe(t,e){if(t){if(typeof t=="string")return cw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cw(t,e)}}function WSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HSe(t){if(Array.isArray(t))return cw(t)}function cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xM=function(e){return e&&e.x===+e.x&&e.y===+e.y},KSe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){xM(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),xM(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Xc=function(e,n){var r=KSe(e);n&&(r=[r.reduce(function(o,s){return[].concat(vM(o),vM(s))},[])]);var i=r.map(function(o){return o.reduce(function(s,a,l){return"".concat(s).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},YSe=function(e,n,r){var i=Xc(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Xc(n.reverse(),r).slice(1))},XSe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,s=BSe(e,USe);if(!n||!n.length)return null;var a=Te("recharts-polygon",r);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",u=YSe(n,i,o);return $.createElement("g",{className:a},$.createElement("path",Xa({},pe(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),l?$.createElement("path",Xa({},pe(s,!0),{fill:"none",d:Xc(n,o)})):null,l?$.createElement("path",Xa({},pe(s,!0),{fill:"none",d:Xc(i,o)})):null)}var c=Xc(n,o);return $.createElement("path",Xa({},pe(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",className:a,d:c}))};function fw(){return fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fw.apply(this,arguments)}var fA=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Te("recharts-dot",o);return n===+n&&r===+r&&i===+i?j.createElement("circle",fw({},pe(e,!1),Dm(e),{className:s,cx:n,cy:r,r:i})):null};function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}var QSe=["x","y","top","left","width","height","className"];function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dw.apply(this,arguments)}function _M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JSe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(n),!0).forEach(function(r){ZSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZSe(t,e,n){return e=eAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eAe(t){var e=tAe(t,"string");return sd(e)=="symbol"?e:e+""}function tAe(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nAe(t,e){if(t==null)return{};var n=rAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var iAe=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},oAe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,d=e.height,p=d===void 0?0:d,v=e.className,x=nAe(e,QSe),_=JSe({x:r,y:o,top:a,left:u,width:f,height:p},x);return!ee(r)||!ee(o)||!ee(f)||!ee(p)||!ee(a)||!ee(u)?null:$.createElement("path",dw({},pe(_,!0),{className:Te("recharts-cross",v),d:iAe(r,o,f,p,a,u)}))},sAe=uv,aAe=XU,lAe=si;function uAe(t,e){return t&&t.length?sAe(t,lAe(e),aAe):void 0}var cAe=uAe;const fAe=Fe(cAe);var dAe=uv,hAe=si,pAe=QU;function mAe(t,e){return t&&t.length?dAe(t,hAe(e),pAe):void 0}var gAe=mAe;const yAe=Fe(gAe);var vAe=["cx","cy","angle","ticks","axisLine"],xAe=["ticks","tick","angle","tickFormatter","stroke"];function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qc.apply(this,arguments)}function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ys(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(n),!0).forEach(function(r){gv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wM(t,e){if(t==null)return{};var n=_Ae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _Ae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FB(r.key),r)}}function wAe(t,e,n){return e&&TM(t.prototype,e),n&&TM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function TAe(t,e,n){return e=mg(e),EAe(t,VB()?Reflect.construct(e,n||[],mg(t).constructor):e.apply(t,n))}function EAe(t,e){if(e&&(Hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SAe(t)}function SAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VB=function(){return!!t})()}function mg(t){return mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mg(t)}function AAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hw(t,e)}function hw(t,e){return hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hw(t,e)}function gv(t,e,n){return e=FB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FB(t){var e=PAe(t,"string");return Hl(e)=="symbol"?e:e+""}function PAe(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yv=function(t){function e(){return bAe(this,e),TAe(this,e,arguments)}return AAe(e,t),wAe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,s=o.angle,a=o.cx,l=o.cy;return Xe(a,l,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=fAe(a,function(c){return c.coordinate||0}),u=yAe(a,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=r.axisLine,u=wM(r,vAe),c=a.reduce(function(v,x){return[Math.min(v[0],x.coordinate),Math.max(v[1],x.coordinate)]},[1/0,-1/0]),f=Xe(i,o,c[0],s),d=Xe(i,o,c[1],s),p=ys(ys(ys({},pe(u,!1)),{},{fill:"none"},pe(l,!1)),{},{x1:f.x,y1:f.y,x2:d.x,y2:d.y});return $.createElement("line",Qc({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.angle,l=i.tickFormatter,u=i.stroke,c=wM(i,xAe),f=this.getTickTextAnchor(),d=pe(c,!1),p=pe(s,!1),v=o.map(function(x,_){var b=r.getTickValueCoord(x),w=ys(ys(ys(ys({textAnchor:f,transform:"rotate(".concat(90-a,", ").concat(b.x,", ").concat(b.y,")")},d),{},{stroke:"none",fill:u},p),{},{index:_},b),{},{payload:x});return $.createElement(je,Qc({className:Te("recharts-polar-radius-axis-tick",SB(s)),key:"tick-".concat(x.coordinate)},ta(r.props,x,_)),e.renderTickItem(s,w,l?l(x.value,_):x.value))});return $.createElement(je,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,s=r.tick;return!i||!i.length?null:$.createElement(je,{className:Te("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),Vt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var s;return $.isValidElement(r)?s=$.cloneElement(r,i):ge(r)?s=r(i):s=$.createElement(na,Qc({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(j.PureComponent);gv(yv,"displayName","PolarRadiusAxis");gv(yv,"axisType","radiusAxis");gv(yv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function Ps(){return Ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ps.apply(this,arguments)}function EM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(n),!0).forEach(function(r){vv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BB(r.key),r)}}function IAe(t,e,n){return e&&SM(t.prototype,e),n&&SM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kAe(t,e,n){return e=gg(e),OAe(t,UB()?Reflect.construct(e,n||[],gg(t).constructor):e.apply(t,n))}function OAe(t,e){if(e&&(Kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NAe(t)}function NAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UB=function(){return!!t})()}function gg(t){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gg(t)}function RAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pw(t,e)}function pw(t,e){return pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pw(t,e)}function vv(t,e,n){return e=BB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BB(t){var e=MAe(t,"string");return Kl(e)=="symbol"?e:e+""}function MAe(t,e){if(Kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var DAe=Math.PI/180,AM=1e-5,xv=function(t){function e(){return CAe(this,e),kAe(this,e,arguments)}return RAe(e,t),IAe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,s=i.cy,a=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=Xe(o,s,a,r.coordinate),d=Xe(o,s,a+(l==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:d.x,y2:d.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*DAe),s;return o>AM?s=i==="outer"?"start":"end":o<-AM?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.radius,a=r.axisLine,l=r.axisLineType,u=vs(vs({},pe(this.props,!1)),{},{fill:"none"},pe(a,!1));if(l==="circle")return $.createElement(fA,Ps({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:s}));var c=this.props.ticks,f=c.map(function(d){return Xe(i,o,s,d.coordinate)});return $.createElement(XSe,Ps({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.tickLine,l=i.tickFormatter,u=i.stroke,c=pe(this.props,!1),f=pe(s,!1),d=vs(vs({},c),{},{fill:"none"},pe(a,!1)),p=o.map(function(v,x){var _=r.getTickLineCoord(v),b=r.getTickTextAnchor(v),w=vs(vs(vs({textAnchor:b},c),{},{stroke:"none",fill:u},f),{},{index:x,payload:v,x:_.x2,y:_.y2});return $.createElement(je,Ps({className:Te("recharts-polar-angle-axis-tick",SB(s)),key:"tick-".concat(v.coordinate)},ta(r.props,v,x)),a&&$.createElement("line",Ps({className:"recharts-polar-angle-axis-tick-line"},d,_)),s&&e.renderTickItem(s,w,l?l(v.value,x):v.value))});return $.createElement(je,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,s=r.axisLine;return o<=0||!i||!i.length?null:$.createElement(je,{className:Te("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var s;return $.isValidElement(r)?s=$.cloneElement(r,i):ge(r)?s=r(i):s=$.createElement(na,Ps({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(j.PureComponent);vv(xv,"displayName","PolarAngleAxis");vv(xv,"axisType","angleAxis");vv(xv,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var LAe=W4,jAe=LAe(Object.getPrototypeOf,Object),$Ae=jAe,VAe=Hi,FAe=$Ae,UAe=Ki,BAe="[object Object]",zAe=Function.prototype,qAe=Object.prototype,zB=zAe.toString,GAe=qAe.hasOwnProperty,WAe=zB.call(Object);function HAe(t){if(!UAe(t)||VAe(t)!=BAe)return!1;var e=FAe(t);if(e===null)return!0;var n=GAe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&zB.call(n)==WAe}var KAe=HAe;const YAe=Fe(KAe);var XAe=Hi,QAe=Ki,JAe="[object Boolean]";function ZAe(t){return t===!0||t===!1||QAe(t)&&XAe(t)==JAe}var e1e=ZAe;const t1e=Fe(e1e);function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function yg(){return yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yg.apply(this,arguments)}function n1e(t,e){return s1e(t)||o1e(t,e)||i1e(t,e)||r1e()}function r1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i1e(t,e){if(t){if(typeof t=="string")return PM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PM(t,e)}}function PM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function s1e(t){if(Array.isArray(t))return t}function CM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(n),!0).forEach(function(r){a1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a1e(t,e,n){return e=l1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l1e(t){var e=u1e(t,"string");return ad(e)=="symbol"?e:e+""}function u1e(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kM=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},c1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},f1e=function(e){var n=IM(IM({},c1e),e),r=j.useRef(),i=j.useState(-1),o=n1e(i,2),s=o[0],a=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&a(T)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,d=n.height,p=n.className,v=n.animationEasing,x=n.animationDuration,_=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var w=Te("recharts-trapezoid",p);return b?$.createElement(Bi,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:d,x:l,y:u},duration:x,animationEasing:v,isActive:b},function(T){var C=T.upperWidth,S=T.lowerWidth,I=T.height,P=T.x,A=T.y;return $.createElement(Bi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:x,easing:v},$.createElement("path",yg({},pe(n,!0),{className:w,d:kM(P,A,C,S,I),ref:r})))}):$.createElement("g",null,$.createElement("path",yg({},pe(n,!0),{className:w,d:kM(l,u,c,f,d)})))},d1e=["option","shapeType","propTransformer","activeClassName","isActive"];function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function h1e(t,e){if(t==null)return{};var n=p1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(n),!0).forEach(function(r){m1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m1e(t,e,n){return e=g1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g1e(t){var e=y1e(t,"string");return ld(e)=="symbol"?e:e+""}function y1e(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v1e(t,e){return vg(vg({},e),t)}function x1e(t,e){return t==="symbols"}function NM(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return $.createElement(cA,n);case"trapezoid":return $.createElement(f1e,n);case"sector":return $.createElement(CB,n);case"symbols":if(x1e(e))return $.createElement(IS,n);break;default:return null}}function _1e(t){return j.isValidElement(t)?t.props:t}function qB(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?v1e:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=h1e(t,d1e),u;if(j.isValidElement(e))u=j.cloneElement(e,vg(vg({},l),_1e(e)));else if(ge(e))u=e(l);else if(YAe(e)&&!t1e(e)){var c=i(e,l);u=$.createElement(NM,{shapeType:n,elementProps:c})}else{var f=l;u=$.createElement(NM,{shapeType:n,elementProps:f})}return a?$.createElement(je,{className:s},u):u}function _v(t,e){return e!=null&&"trapezoids"in t.props}function bv(t,e){return e!=null&&"sectors"in t.props}function ud(t,e){return e!=null&&"points"in t.props}function b1e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function w1e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function T1e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function E1e(t,e){var n;return _v(t,e)?n=b1e:bv(t,e)?n=w1e:ud(t,e)&&(n=T1e),n}function S1e(t,e){var n;return _v(t,e)?n="trapezoids":bv(t,e)?n="sectors":ud(t,e)&&(n="points"),n}function A1e(t,e){if(_v(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(bv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return ud(t,e)?e.payload:{}}function P1e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=S1e(n,e),o=A1e(n,e),s=r.filter(function(l,u){var c=dv(o,l),f=n.props[i].filter(function(v){var x=E1e(n,e);return x(v,e)}),d=n.props[i].indexOf(f[f.length-1]),p=u===d;return c&&p}),a=r.indexOf(s[s.length-1]);return a}var Np;function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function Qa(){return Qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qa.apply(this,arguments)}function RM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function We(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(n),!0).forEach(function(r){ur(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WB(r.key),r)}}function I1e(t,e,n){return e&&MM(t.prototype,e),n&&MM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function k1e(t,e,n){return e=xg(e),O1e(t,GB()?Reflect.construct(e,n||[],xg(t).constructor):e.apply(t,n))}function O1e(t,e){if(e&&(Yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N1e(t)}function N1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GB=function(){return!!t})()}function xg(t){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xg(t)}function R1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mw(t,e)}function mw(t,e){return mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mw(t,e)}function ur(t,e,n){return e=WB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WB(t){var e=M1e(t,"string");return Yl(e)=="symbol"?e:e+""}function M1e(t,e){if(Yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xi=function(t){function e(n){var r;return C1e(this,e),r=k1e(this,e,[n]),ur(r,"pieRef",null),ur(r,"sectorRefs",[]),ur(r,"id",Gd("recharts-pie-")),ur(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ge(i)&&i()}),ur(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ge(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return R1e(e,t),I1e(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,a=o.labelLine,l=o.dataKey,u=o.valueKey,c=pe(this.props,!1),f=pe(s,!1),d=pe(a,!1),p=s&&s.offsetRadius||20,v=r.map(function(x,_){var b=(x.startAngle+x.endAngle)/2,w=Xe(x.cx,x.cy,x.outerRadius+p,b),T=We(We(We(We({},c),x),{},{stroke:"none"},f),{},{index:_,textAnchor:e.getTextAnchor(w.x,x.cx)},w),C=We(We(We(We({},c),x),{},{fill:"none",stroke:x.fill},d),{},{index:_,points:[Xe(x.cx,x.cy,x.outerRadius,b),w]}),S=l;return Ee(l)&&Ee(u)?S="value":Ee(l)&&(S=u),$.createElement(je,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(_)},a&&e.renderLabelLineItem(a,C,"line"),e.renderLabelItem(s,T,mn(x,S)))});return $.createElement(je,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,s=o.activeShape,a=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(c),d=l&&i.hasActiveIndex()?l:null,p=f?s:d,v=We(We({},u),{},{stroke:a?u.fill:u.stroke,tabIndex:-1});return $.createElement(je,Qa({ref:function(_){_&&!i.sectorRefs.includes(_)&&i.sectorRefs.push(_)},tabIndex:-1,className:"recharts-pie-sector"},ta(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),$.createElement(qB,Qa({option:p,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,s=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,d=f.prevSectors,p=f.prevIsAnimationActive;return $.createElement(Bi,{begin:a,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var x=v.t,_=[],b=o&&o[0],w=b.startAngle;return o.forEach(function(T,C){var S=d&&d[C],I=C>0?Xn(T,"paddingAngle",0):0;if(S){var P=so(S.endAngle-S.startAngle,T.endAngle-T.startAngle),A=We(We({},T),{},{startAngle:w+I,endAngle:w+P(x)+I});_.push(A),w=A.endAngle}else{var O=T.endAngle,N=T.startAngle,R=so(0,O-N),D=R(x),M=We(We({},T),{},{startAngle:w+I,endAngle:w+D+I});_.push(M),w=M.endAngle}}),$.createElement(je,null,r.renderSectorsStatically(_))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!dv(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,s=i.sectors,a=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,d=i.outerRadius,p=i.isAnimationActive,v=this.state.isAnimationFinished;if(o||!s||!s.length||!ee(u)||!ee(c)||!ee(f)||!ee(d))return null;var x=Te("recharts-pie",a);return $.createElement(je,{tabIndex:this.props.rootTabIndex,className:x,ref:function(b){r.pieRef=b}},this.renderSectors(),l&&this.renderLabels(s),Vt.renderCallByParent(this.props,null,!1),(!p||v)&&Lo.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if($.isValidElement(r))return $.cloneElement(r,i);if(ge(r))return r(i);var s=Te("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return $.createElement(ew,Qa({},i,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,o){if($.isValidElement(r))return $.cloneElement(r,i);var s=o;if(ge(r)&&(s=r(i),$.isValidElement(s)))return s;var a=Te("recharts-pie-label-text",typeof r!="boolean"&&!ge(r)?r.className:"");return $.createElement(na,Qa({},i,{alignmentBaseline:"middle",className:a}),s)}}])}(j.PureComponent);Np=Xi;ur(Xi,"displayName","Pie");ur(Xi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Cu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ur(Xi,"parseDeltaAngle",function(t,e){var n=Tn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ur(Xi,"getRealPieData",function(t){var e=t.data,n=t.children,r=pe(t,!1),i=pr(n,nv);return e&&e.length?e.map(function(o,s){return We(We(We({payload:o},r),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return We(We({},r),o.props)}):[]});ur(Xi,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,s=EB(i,o),a=r+En(t.cx,i,i/2),l=n+En(t.cy,o,o/2),u=En(t.innerRadius,s,0),c=En(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:a,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});ur(Xi,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?We(We({},e.type.defaultProps),e.props):e.props,i=Np.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,s=r.startAngle,a=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,f=r.valueKey,d=r.tooltipType,p=Math.abs(r.minAngle),v=Np.parseCoordinateOfPie(r,n),x=Np.parseDeltaAngle(s,a),_=Math.abs(x),b=u;Ee(u)&&Ee(f)?(Nr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Ee(u)&&(Nr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var w=i.filter(function(A){return mn(A,b,0)!==0}).length,T=(_>=360?w:w-1)*l,C=_-w*p-T,S=i.reduce(function(A,O){var N=mn(O,b,0);return A+(ee(N)?N:0)},0),I;if(S>0){var P;I=i.map(function(A,O){var N=mn(A,b,0),R=mn(A,c,O),D=(ee(N)?N:0)/S,M;O?M=P.endAngle+Tn(x)*l*(N!==0?1:0):M=s;var U=M+Tn(x)*((N!==0?p:0)+D*C),z=(M+U)/2,K=(v.innerRadius+v.outerRadius)/2,W=[{name:R,value:N,payload:A,dataKey:b,type:d}],V=Xe(v.cx,v.cy,K,z);return P=We(We(We({percent:D,cornerRadius:o,name:R,tooltipPayload:W,midAngle:z,middleRadius:K,tooltipPosition:V},A),v),{},{value:mn(A,b),startAngle:M,endAngle:U,payload:A,paddingAngle:Tn(x)*l}),P})}return We(We({},v),{},{sectors:I,data:i})});var D1e=Math.ceil,L1e=Math.max;function j1e(t,e,n,r){for(var i=-1,o=L1e(D1e((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var $1e=j1e,V1e=fU,DM=1/0,F1e=17976931348623157e292;function U1e(t){if(!t)return t===0?t:0;if(t=V1e(t),t===DM||t===-DM){var e=t<0?-1:1;return e*F1e}return t===t?t:0}var HB=U1e,B1e=$1e,z1e=tv,cx=HB;function q1e(t){return function(e,n,r){return r&&typeof r!="number"&&z1e(e,n,r)&&(n=r=void 0),e=cx(e),n===void 0?(n=e,e=0):n=cx(n),r=r===void 0?e<n?1:-1:cx(r),B1e(e,n,r,t)}}var G1e=q1e,W1e=G1e,H1e=W1e(),K1e=H1e;const _g=Fe(K1e);function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){KB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KB(t,e,n){return e=Y1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y1e(t){var e=X1e(t,"string");return cd(e)=="symbol"?e:e+""}function X1e(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q1e=["Webkit","Moz","O","ms"],J1e=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Q1e.reduce(function(o,s){return jM(jM({},o),{},KB({},s+r,n))},{});return i[e]=n,i};function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(this,arguments)}function $M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(n),!0).forEach(function(r){Un(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XB(r.key),r)}}function ePe(t,e,n){return e&&VM(t.prototype,e),n&&VM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tPe(t,e,n){return e=wg(e),nPe(t,YB()?Reflect.construct(e,n||[],wg(t).constructor):e.apply(t,n))}function nPe(t,e){if(e&&(Xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rPe(t)}function rPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YB=function(){return!!t})()}function wg(t){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wg(t)}function iPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gw(t,e)}function gw(t,e){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gw(t,e)}function Un(t,e,n){return e=XB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XB(t){var e=oPe(t,"string");return Xl(e)=="symbol"?e:e+""}function oPe(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sPe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Hc().domain(_g(0,l)).range([o,o+s-a]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},FM=function(e){return e.changedTouches&&!!e.changedTouches.length},Ql=function(t){function e(n){var r;return Z1e(this,e),r=tPe(this,e,[n]),Un(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Un(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Un(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Un(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Un(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Un(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Un(r,"handleSlideDragStart",function(i){var o=FM(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return iPe(e,t),ePe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,f=Math.min(i,o),d=Math.max(i,o),p=e.getIndexInRange(s,f),v=e.getIndexInRange(s,d);return{startIndex:p-p%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=mn(o[r],a,r);return ge(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,d=l.startIndex,p=l.endIndex,v=l.onChange,x=r.pageX-o;x>0?x=Math.min(x,u+c-f-a,u+c-f-s):x<0&&(x=Math.max(x,u-s,u-a));var _=this.getIndex({startX:s+x,endX:a+x});(_.startIndex!==d||_.endIndex!==p)&&v&&v(_),this.setState({startX:s+x,endX:a+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=FM(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,f=c.x,d=c.width,p=c.travellerWidth,v=c.onChange,x=c.gap,_=c.data,b={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+d-p-u):w<0&&(w=Math.max(w,f-u)),b[s]=u+w;var T=this.getIndex(b),C=T.startIndex,S=T.endIndex,I=function(){var A=_.length-1;return s==="startX"&&(a>l?C%x===0:S%x===0)||a<l&&S===A||s==="endX"&&(a>l?S%x===0:C%x===0)||a>l&&S===A};this.setState(Un(Un({},s,u+w),"brushMoveStartX",r.pageX),function(){v&&I()&&v(T)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],f=a.indexOf(c);if(f!==-1){var d=f+r;if(!(d===-1||d>=a.length)){var p=a[d];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Un({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return $.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,f=j.Children.only(u);return f?$.cloneElement(f,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,d=l.traveller,p=l.ariaLabel,v=l.data,x=l.startIndex,_=l.endIndex,b=Math.max(r,this.props.x),w=fx(fx({},pe(this.props,!1)),{},{x:b,y:u,width:c,height:f}),T=p||"Min value: ".concat((o=v[x])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=v[_])===null||s===void 0?void 0:s.name);return $.createElement(je,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),a.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,d=c.endX,p=5,v={pointerEvents:"none",fill:u};return $.createElement(je,{className:"recharts-brush-texts"},$.createElement(na,bg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-p,y:s+a/2},v),this.getTextOfTick(i)),$.createElement(na,bg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+p,y:s+a/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,d=this.state,p=d.startX,v=d.endX,x=d.isTextActive,_=d.isSlideMoving,b=d.isTravellerMoving,w=d.isTravellerFocused;if(!i||!i.length||!ee(a)||!ee(l)||!ee(u)||!ee(c)||u<=0||c<=0)return null;var T=Te("recharts-brush",o),C=$.Children.count(s)===1,S=J1e("userSelect","none");return $.createElement(je,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(x||_||b||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),$.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return $.isValidElement(r)?o=$.cloneElement(r,i):ge(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return fx({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?sPe({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(j.PureComponent);Un(Ql,"displayName","Brush");Un(Ql,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var aPe=LS;function lPe(t,e){var n;return aPe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var uPe=lPe,cPe=$4,fPe=si,dPe=uPe,hPe=Vn,pPe=tv;function mPe(t,e,n){var r=hPe(t)?cPe:dPe;return n&&pPe(t,e,n)&&(e=void 0),r(t,fPe(e))}var gPe=mPe;const yPe=Fe(gPe);var ti=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},UM=sU;function vPe(t,e,n){e=="__proto__"&&UM?UM(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var xPe=vPe,_Pe=xPe,bPe=iU,wPe=si;function TPe(t,e){var n={};return e=wPe(e),bPe(t,function(r,i,o){_Pe(n,i,e(r,i,o))}),n}var EPe=TPe;const SPe=Fe(EPe);function APe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var PPe=APe,CPe=LS;function IPe(t,e){var n=!0;return CPe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var kPe=IPe,OPe=PPe,NPe=kPe,RPe=si,MPe=Vn,DPe=tv;function LPe(t,e,n){var r=MPe(t)?OPe:NPe;return n&&DPe(t,e,n)&&(e=void 0),r(t,RPe(e))}var jPe=LPe;const QB=Fe(jPe);var $Pe=["x","y"];function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yw.apply(this,arguments)}function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){VPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VPe(t,e,n){return e=FPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FPe(t){var e=UPe(t,"string");return fd(e)=="symbol"?e:e+""}function UPe(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BPe(t,e){if(t==null)return{};var n=zPe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qPe(t,e){var n=t.x,r=t.y,i=BPe(t,$Pe),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),d=parseInt(f,10);return dc(dc(dc(dc(dc({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function zM(t){return $.createElement(qB,yw({shapeType:"rectangle",propTransformer:qPe,activeClassName:"recharts-active-bar"},t))}var GPe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ee(r)||gle(r);return o?e(r,i):(o||ia(),n)}},WPe=["value","background"],JB;function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function HPe(t,e){if(t==null)return{};var n=KPe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(this,arguments)}function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){_o(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e5(r.key),r)}}function XPe(t,e,n){return e&&GM(t.prototype,e),n&&GM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function QPe(t,e,n){return e=Eg(e),JPe(t,ZB()?Reflect.construct(e,n||[],Eg(t).constructor):e.apply(t,n))}function JPe(t,e){if(e&&(Jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZPe(t)}function ZPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZB=function(){return!!t})()}function Eg(t){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eg(t)}function eCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vw(t,e)}function vw(t,e){return vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vw(t,e)}function _o(t,e,n){return e=e5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e5(t){var e=tCe(t,"string");return Jl(e)=="symbol"?e:e+""}function tCe(t,e){if(Jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var us=function(t){function e(){var n;YPe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=QPe(this,e,[].concat(i)),_o(n,"state",{isAnimationFinished:!1}),_o(n,"id",Gd("recharts-bar-")),_o(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),_o(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return eCe(e,t),XPe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=pe(this.props,!1);return r&&r.map(function(f,d){var p=d===l,v=p?u:s,x=Tt(Tt(Tt({},c),f),{},{isActive:p,option:v,index:d,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return $.createElement(je,Tg({className:"recharts-bar-rectangle"},ta(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),$.createElement(zM,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state.prevData;return $.createElement(Bi,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,x=o.map(function(_,b){var w=d&&d[b];if(w){var T=so(w.x,_.x),C=so(w.y,_.y),S=so(w.width,_.width),I=so(w.height,_.height);return Tt(Tt({},_),{},{x:T(v),y:C(v),width:S(v),height:I(v)})}if(s==="horizontal"){var P=so(0,_.height),A=P(v);return Tt(Tt({},_),{},{y:_.y+_.height-A,height:A})}var O=so(0,_.width),N=O(v);return Tt(Tt({},_),{},{width:N})});return $.createElement(je,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!dv(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=pe(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,d=HPe(u,WPe);if(!f)return null;var p=Tt(Tt(Tt(Tt(Tt({},d),{},{fill:"#eee"},f),l),ta(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return $.createElement(zM,Tg({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=pr(c,mv);if(!f)return null;var d=u==="vertical"?s[0].height/2:s[0].width/2,p=function(_,b){var w=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:w,errorVal:mn(_,b)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(je,v,f.map(function(x){return $.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,d=r.height,p=r.isAnimationActive,v=r.background,x=r.id;if(i||!o||!o.length)return null;var _=this.state.isAnimationFinished,b=Te("recharts-bar",s),w=a&&a.allowDataOverflow,T=l&&l.allowDataOverflow,C=w||T,S=Ee(x)?this.id:x;return $.createElement(je,{className:b},w||T?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(S)},$.createElement("rect",{x:w?u:u-f/2,y:T?c:c-d/2,width:w?f:f*2,height:T?d:d*2}))):null,$.createElement(je,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,S),(!p||_)&&Lo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(j.PureComponent);JB=us;_o(us,"displayName","Bar");_o(us,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Cu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_o(us,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,d=t.offset,p=Mwe(r,n);if(!p)return null;var v=e.layout,x=n.type.defaultProps,_=x!==void 0?Tt(Tt({},x),n.props):n.props,b=_.dataKey,w=_.children,T=_.minPointSize,C=v==="horizontal"?s:o,S=u?C.scale.domain():null,I=Uwe({numericAxis:C}),P=pr(w,nv),A=f.map(function(O,N){var R,D,M,U,z,K;u?R=Dwe(u[c+N],S):(R=mn(O,b),Array.isArray(R)||(R=[I,R]));var W=GPe(T,JB.defaultProps.minPointSize)(R[1],N);if(v==="horizontal"){var V,q=[s.scale(R[0]),s.scale(R[1])],Y=q[0],re=q[1];D=MR({axis:o,ticks:a,bandSize:i,offset:p.offset,entry:O,index:N}),M=(V=re??Y)!==null&&V!==void 0?V:void 0,U=p.size;var J=Y-re;if(z=Number.isNaN(J)?0:J,K={x:D,y:s.y,width:U,height:s.height},Math.abs(W)>0&&Math.abs(z)<Math.abs(W)){var oe=Tn(z||W)*(Math.abs(W)-Math.abs(z));M-=oe,z+=oe}}else{var Ce=[o.scale(R[0]),o.scale(R[1])],De=Ce[0],ot=Ce[1];if(D=De,M=MR({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:O,index:N}),U=ot-De,z=p.size,K={x:o.x,y:M,width:o.width,height:z},Math.abs(W)>0&&Math.abs(U)<Math.abs(W)){var Bt=Tn(U||W)*(Math.abs(W)-Math.abs(U));U+=Bt}}return Tt(Tt(Tt({},O),{},{x:D,y:M,width:U,height:z,value:u?R:R[1],payload:O,background:K},P&&P[N]&&P[N].props),{},{tooltipPayload:[wB(n,O)],tooltipPosition:{x:D+U/2,y:M+z/2}})});return Tt({data:A,layout:v},d)});function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function nCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t5(r.key),r)}}function rCe(t,e,n){return e&&WM(t.prototype,e),n&&WM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function HM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(n),!0).forEach(function(r){wv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wv(t,e,n){return e=t5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t5(t){var e=iCe(t,"string");return dd(e)=="symbol"?e:e+""}function iCe(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oCe=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},d=!!zn(u,us);return c.reduce(function(p,v){var x=n[v],_=x.orientation,b=x.domain,w=x.padding,T=w===void 0?{}:w,C=x.mirror,S=x.reversed,I="".concat(_).concat(C?"Mirror":""),P,A,O,N,R;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var D=b[1]-b[0],M=1/0,U=x.categoricalDomain.sort(xle);if(U.forEach(function(Ce,De){De>0&&(M=Math.min((Ce||0)-(U[De-1]||0),M))}),Number.isFinite(M)){var z=M/D,K=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(P=z*K/2),x.padding==="no-gap"){var W=En(e.barCategoryGap,z*K),V=z*K/2;P=V-W-(V-W)/K*W}}}i==="xAxis"?A=[r.left+(T.left||0)+(P||0),r.left+r.width-(T.right||0)-(P||0)]:i==="yAxis"?A=l==="horizontal"?[r.top+r.height-(T.bottom||0),r.top+(T.top||0)]:[r.top+(T.top||0)+(P||0),r.top+r.height-(T.bottom||0)-(P||0)]:A=x.range,S&&(A=[A[1],A[0]]);var q=vB(x,o,d),Y=q.scale,re=q.realScaleType;Y.domain(b).range(A),xB(Y);var J=_B(Y,Ar(Ar({},x),{},{realScaleType:re}));i==="xAxis"?(R=_==="top"&&!C||_==="bottom"&&C,O=r.left,N=f[I]-R*x.height):i==="yAxis"&&(R=_==="left"&&!C||_==="right"&&C,O=f[I]-R*x.width,N=r.top);var oe=Ar(Ar(Ar({},x),J),{},{realScaleType:re,x:O,y:N,scale:Y,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return oe.bandSize=lg(oe,J),!x.hide&&i==="xAxis"?f[I]+=(R?-1:1)*oe.height:x.hide||(f[I]+=(R?-1:1)*oe.width),Ar(Ar({},p),{},wv({},v,oe))},{})},n5=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},sCe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return n5({x:n,y:r},{x:i,y:o})},r5=function(){function t(e){nCe(this,t),this.scale=e}return rCe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();wv(r5,"EPS",1e-4);var dA=function(e){var n=Object.keys(e).reduce(function(r,i){return Ar(Ar({},r),{},wv({},i,r5.create(e[i])))},{});return Ar(Ar({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return SPe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return QB(i,function(o,s){return n[s].isInRange(o)})}})};function aCe(t){return(t%180+180)%180}var lCe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=aCe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},uCe=si,cCe=Wd,fCe=Zy;function dCe(t){return function(e,n,r){var i=Object(e);if(!cCe(e)){var o=uCe(n);e=fCe(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var hCe=dCe,pCe=HB;function mCe(t){var e=pCe(t),n=e%1;return e===e?n?e-n:e:0}var gCe=mCe,yCe=J4,vCe=si,xCe=gCe,_Ce=Math.max;function bCe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:xCe(n);return i<0&&(i=_Ce(r+i,0)),yCe(t,vCe(e),i)}var wCe=bCe,TCe=hCe,ECe=wCe,SCe=TCe(ECe),ACe=SCe;const PCe=Fe(ACe);var CCe=wae(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),hA=j.createContext(void 0),pA=j.createContext(void 0),i5=j.createContext(void 0),o5=j.createContext({}),s5=j.createContext(void 0),a5=j.createContext(0),l5=j.createContext(0),KM=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=CCe(o);return $.createElement(hA.Provider,{value:r},$.createElement(pA.Provider,{value:i},$.createElement(o5.Provider,{value:o},$.createElement(i5.Provider,{value:c},$.createElement(s5.Provider,{value:s},$.createElement(a5.Provider,{value:u},$.createElement(l5.Provider,{value:l},a)))))))},ICe=function(){return j.useContext(s5)},u5=function(e){var n=j.useContext(hA);n==null&&ia();var r=n[e];return r==null&&ia(),r},kCe=function(){var e=j.useContext(hA);return mo(e)},OCe=function(){var e=j.useContext(pA),n=PCe(e,function(r){return QB(r.domain,Number.isFinite)});return n||mo(e)},c5=function(e){var n=j.useContext(pA);n==null&&ia();var r=n[e];return r==null&&ia(),r},NCe=function(){var e=j.useContext(i5);return e},RCe=function(){return j.useContext(o5)},mA=function(){return j.useContext(l5)},gA=function(){return j.useContext(a5)};function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function MCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d5(r.key),r)}}function LCe(t,e,n){return e&&DCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jCe(t,e,n){return e=Sg(e),$Ce(t,f5()?Reflect.construct(e,n||[],Sg(t).constructor):e.apply(t,n))}function $Ce(t,e){if(e&&(Zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VCe(t)}function VCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f5=function(){return!!t})()}function Sg(t){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sg(t)}function FCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xw(t,e)}function xw(t,e){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xw(t,e)}function YM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(n),!0).forEach(function(r){yA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yA(t,e,n){return e=d5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d5(t){var e=UCe(t,"string");return Zl(e)=="symbol"?e:e+""}function UCe(t,e){if(Zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function BCe(t,e){return WCe(t)||GCe(t,e)||qCe(t,e)||zCe()}function zCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qCe(t,e){if(t){if(typeof t=="string")return QM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QM(t,e)}}function QM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function WCe(t){if(Array.isArray(t))return t}function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_w.apply(this,arguments)}var HCe=function(e,n){var r;return $.isValidElement(e)?r=$.cloneElement(e,n):ge(e)?r=e(n):r=$.createElement("line",_w({},n,{className:"recharts-reference-line-line"})),r},KCe=function(e,n,r,i,o,s,a,l,u){var c=o.x,f=o.y,d=o.width,p=o.height;if(r){var v=u.y,x=e.y.apply(v,{position:s});if(ti(u,"discard")&&!e.y.isInRange(x))return null;var _=[{x:c+d,y:x},{x:c,y:x}];return l==="left"?_.reverse():_}if(n){var b=u.x,w=e.x.apply(b,{position:s});if(ti(u,"discard")&&!e.x.isInRange(w))return null;var T=[{x:w,y:f+p},{x:w,y:f}];return a==="top"?T.reverse():T}if(i){var C=u.segment,S=C.map(function(I){return e.apply(I,{position:s})});return ti(u,"discard")&&yPe(S,function(I){return!e.isInRange(I)})?null:S}return null};function YCe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=ICe(),c=u5(i),f=c5(o),d=NCe();if(!u||!d)return null;Nr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=dA({x:c.scale,y:f.scale}),v=Rt(e),x=Rt(n),_=r&&r.length===2,b=KCe(p,v,x,_,d,t.position,c.orientation,f.orientation,t);if(!b)return null;var w=BCe(b,2),T=w[0],C=T.x,S=T.y,I=w[1],P=I.x,A=I.y,O=ti(t,"hidden")?"url(#".concat(u,")"):void 0,N=XM(XM({clipPath:O},pe(t,!0)),{},{x1:C,y1:S,x2:P,y2:A});return $.createElement(je,{className:Te("recharts-reference-line",a)},HCe(s,N),Vt.renderCallByParent(t,sCe({x1:C,y1:S,x2:P,y2:A})))}var vA=function(t){function e(){return MCe(this,e),jCe(this,e,arguments)}return FCe(e,t),LCe(e,[{key:"render",value:function(){return $.createElement(YCe,this.props)}}])}($.Component);yA(vA,"displayName","ReferenceLine");yA(vA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bw.apply(this,arguments)}function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function JM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(n),!0).forEach(function(r){Tv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p5(r.key),r)}}function JCe(t,e,n){return e&&QCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZCe(t,e,n){return e=Ag(e),eIe(t,h5()?Reflect.construct(e,n||[],Ag(t).constructor):e.apply(t,n))}function eIe(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tIe(t)}function tIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h5=function(){return!!t})()}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ag(t)}function nIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ww(t,e)}function ww(t,e){return ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ww(t,e)}function Tv(t,e,n){return e=p5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p5(t){var e=rIe(t,"string");return eu(e)=="symbol"?e:e+""}function rIe(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iIe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=dA({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return ti(e,"discard")&&!s.isInRange(a)?null:a},Ev=function(t){function e(){return XCe(this,e),ZCe(this,e,arguments)}return nIe(e,t),JCe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=Rt(i),c=Rt(o);if(Nr(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=iIe(this.props);if(!f)return null;var d=f.x,p=f.y,v=this.props,x=v.shape,_=v.className,b=ti(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=ZM(ZM({clipPath:b},pe(this.props,!0)),{},{cx:d,cy:p});return $.createElement(je,{className:Te("recharts-reference-dot",_)},e.renderDot(x,w),Vt.renderCallByParent(this.props,{x:d-s,y:p-s,width:2*s,height:2*s}))}}])}($.Component);Tv(Ev,"displayName","ReferenceDot");Tv(Ev,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Tv(Ev,"renderDot",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):ge(t)?n=t(e):n=$.createElement(fA,bw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tw.apply(this,arguments)}function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function e2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(n),!0).forEach(function(r){Sv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g5(r.key),r)}}function aIe(t,e,n){return e&&sIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lIe(t,e,n){return e=Pg(e),uIe(t,m5()?Reflect.construct(e,n||[],Pg(t).constructor):e.apply(t,n))}function uIe(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cIe(t)}function cIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m5=function(){return!!t})()}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pg(t)}function fIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ew(t,e)}function Ew(t,e){return Ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ew(t,e)}function Sv(t,e,n){return e=g5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g5(t){var e=dIe(t,"string");return tu(e)=="symbol"?e:e+""}function dIe(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hIe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var d=dA({x:c.scale,y:f.scale}),p={x:e?d.x.apply(s,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},v={x:n?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return ti(o,"discard")&&(!d.isInRange(p)||!d.isInRange(v))?null:n5(p,v)},Av=function(t){function e(){return oIe(this,e),lIe(this,e,arguments)}return fIe(e,t),aIe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Nr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Rt(i),d=Rt(o),p=Rt(s),v=Rt(a),x=this.props.shape;if(!f&&!d&&!p&&!v&&!x)return null;var _=hIe(f,d,p,v,this.props);if(!_&&!x)return null;var b=ti(this.props,"hidden")?"url(#".concat(c,")"):void 0;return $.createElement(je,{className:Te("recharts-reference-area",l)},e.renderRect(x,t2(t2({clipPath:b},pe(this.props,!0)),_)),Vt.renderCallByParent(this.props,_))}}])}($.Component);Sv(Av,"displayName","ReferenceArea");Sv(Av,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Sv(Av,"renderRect",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):ge(t)?n=t(e):n=$.createElement(cA,Tw({},e,{className:"recharts-reference-area-rect"})),n});function y5(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function pIe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return lCe(r,n)}function mIe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Cg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function gIe(t,e){return y5(t,e+1)}function yIe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:y5(r,u)};var x=l,_,b=function(){return _===void 0&&(_=n(v,x)),_},w=v.coordinate,T=l===0||Cg(t,w,b,c,a);T||(l=0,c=s,u+=1),T&&(c=w+t*(b()/2+i),l+=u)},d;u<=o.length;)if(d=f(),d)return d.v;return[]}function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function n2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n2(Object(n),!0).forEach(function(r){vIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vIe(t,e,n){return e=xIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xIe(t){var e=_Ie(t,"string");return hd(e)=="symbol"?e:e+""}function _Ie(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bIe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(d){var p=o[d],v,x=function(){return v===void 0&&(v=n(p,d)),v};if(d===s-1){var _=t*(p.coordinate+t*x()/2-l);o[d]=p=un(un({},p),{},{tickCoord:_>0?p.coordinate-_*t:p.coordinate})}else o[d]=p=un(un({},p),{},{tickCoord:p.coordinate});var b=Cg(t,p.tickCoord,x,a,l);b&&(l=p.tickCoord-t*(x()/2+i),o[d]=un(un({},p),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function wIe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],f=n(c,a-1),d=t*(c.coordinate+t*f/2-u);s[a-1]=c=un(un({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var p=Cg(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),s[a-1]=un(un({},c),{},{isShow:!0}))}for(var v=o?a-1:a,x=function(w){var T=s[w],C,S=function(){return C===void 0&&(C=n(T,w)),C};if(w===0){var I=t*(T.coordinate-t*S()/2-l);s[w]=T=un(un({},T),{},{tickCoord:I<0?T.coordinate-I*t:T.coordinate})}else s[w]=T=un(un({},T),{},{tickCoord:T.coordinate});var P=Cg(t,T.tickCoord,S,l,u);P&&(l=T.tickCoord+t*(S()/2+i),s[w]=un(un({},T),{},{isShow:!0}))},_=0;_<v;_++)x(_);return s}function xA(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ee(l)||Cu.isSsr)return gIe(i,typeof l=="number"&&ee(l)?l:0);var d=[],p=a==="top"||a==="bottom"?"width":"height",v=c&&p==="width"?Wc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=function(T,C){var S=ge(u)?u(T.value,C):T.value;return p==="width"?pIe(Wc(S,{fontSize:e,letterSpacing:n}),v,f):Wc(S,{fontSize:e,letterSpacing:n})[p]},_=i.length>=2?Tn(i[1].coordinate-i[0].coordinate):1,b=mIe(o,_,p);return l==="equidistantPreserveStart"?yIe(_,b,x,i,s):(l==="preserveStart"||l==="preserveStartEnd"?d=wIe(_,b,x,i,s,l==="preserveStartEnd"):d=bIe(_,b,x,i,s),d.filter(function(w){return w.isShow}))}var TIe=["viewBox"],EIe=["viewBox"],SIe=["ticks"];function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function Ja(){return Ja=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ja.apply(this,arguments)}function r2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(n),!0).forEach(function(r){_A(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dx(t,e){if(t==null)return{};var n=AIe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x5(r.key),r)}}function CIe(t,e,n){return e&&i2(t.prototype,e),n&&i2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function IIe(t,e,n){return e=Ig(e),kIe(t,v5()?Reflect.construct(e,n||[],Ig(t).constructor):e.apply(t,n))}function kIe(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OIe(t)}function OIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v5=function(){return!!t})()}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ig(t)}function NIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sw(t,e)}function Sw(t,e){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sw(t,e)}function _A(t,e,n){return e=x5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x5(t){var e=RIe(t,"string");return nu(e)=="symbol"?e:e+""}function RIe(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nu=function(t){function e(n){var r;return PIe(this,e),r=IIe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return NIe(e,t),CIe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=dx(r,TIe),a=this.props,l=a.viewBox,u=dx(a,EIe);return!dl(o,l)||!dl(s,u)||!dl(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,d=i.tickMargin,p,v,x,_,b,w,T=f?-1:1,C=r.tickSize||c,S=ee(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=v=r.coordinate,_=s+ +!f*l,x=_-T*C,w=x-T*d,b=S;break;case"left":x=_=r.coordinate,v=o+ +!f*a,p=v-T*C,b=p-T*d,w=S;break;case"right":x=_=r.coordinate,v=o+ +f*a,p=v+T*C,b=p+T*d,w=S;break;default:p=v=r.coordinate,_=s+ +f*l,x=_+T*C,w=x+T*d,b=S;break}return{line:{x1:p,y1:x,x2:v,y2:_},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=It(It(It({},pe(this.props,!1)),pe(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=It(It({},f),{},{x1:i,y1:o+d*a,x2:i+s,y2:o+d*a})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=It(It({},f),{},{x1:i+p*s,y1:o,x2:i+p*s,y2:o+a})}return $.createElement("line",Ja({},f,{className:Te("recharts-cartesian-axis-line",Xn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,f=a.tickFormatter,d=a.unit,p=xA(It(It({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),_=pe(this.props,!1),b=pe(c,!1),w=It(It({},_),{},{fill:"none"},pe(l,!1)),T=p.map(function(C,S){var I=s.getTickLineCoord(C),P=I.line,A=I.tick,O=It(It(It(It({textAnchor:v,verticalAnchor:x},_),{},{stroke:"none",fill:u},b),A),{},{index:S,payload:C,visibleTicksCount:p.length,tickFormatter:f});return $.createElement(je,Ja({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},ta(s.props,C,S)),l&&$.createElement("line",Ja({},w,P,{className:Te("recharts-cartesian-axis-tick-line",Xn(l,"className"))})),c&&e.renderTickItem(c,O,"".concat(ge(f)?f(C.value,S):C.value).concat(d||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,d=f.ticks,p=dx(f,SIe),v=d;return ge(l)&&(v=d&&d.length>0?l(this.props):l(p)),s<=0||a<=0||!v||!v.length?null:$.createElement(je,{className:Te("recharts-cartesian-axis",u),ref:function(_){r.layerReference=_}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Vt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=Te(i.className,"recharts-cartesian-axis-tick-value");return $.isValidElement(r)?s=$.cloneElement(r,It(It({},i),{},{className:a})):ge(r)?s=r(It(It({},i),{},{className:a})):s=$.createElement(na,Ja({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(j.Component);_A(Nu,"displayName","CartesianAxis");_A(Nu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var MIe=["x1","y1","x2","y2","key"],DIe=["offset"];function oa(t){"@babel/helpers - typeof";return oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oa(t)}function o2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o2(Object(n),!0).forEach(function(r){LIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LIe(t,e,n){return e=jIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jIe(t){var e=$Ie(t,"string");return oa(e)=="symbol"?e:e+""}function $Ie(t,e){if(oa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ls(){return Ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ls.apply(this,arguments)}function s2(t,e){if(t==null)return{};var n=VIe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var FIe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return $.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function _5(t,e){var n;if($.isValidElement(t))n=$.cloneElement(t,e);else if(ge(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=s2(e,MIe),u=pe(l,!1);u.offset;var c=s2(u,DIe);n=$.createElement("line",Ls({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function UIe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=pn(pn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return _5(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function BIe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=pn(pn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return _5(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function zIe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=a.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var v=!c[p+1],x=v?i+s-d:c[p+1]-d;if(x<=0)return null;var _=p%e.length;return $.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:x,width:o,stroke:"none",fill:e[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function qIe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(d){return Math.round(d+o-o)}).sort(function(d,p){return d-p});o!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var v=!c[p+1],x=v?o+a-d:c[p+1]-d;if(x<=0)return null;var _=p%r.length;return $.createElement("rect",{key:"react-".concat(p),x:d,y:s,width:x,height:l,stroke:"none",fill:r[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var GIe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return yB(xA(pn(pn(pn({},Nu.defaultProps),r),{},{ticks:wi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},WIe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return yB(xA(pn(pn(pn({},Nu.defaultProps),r),{},{ticks:wi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},Sa={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function bA(t){var e,n,r,i,o,s,a=mA(),l=gA(),u=RCe(),c=pn(pn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Sa.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Sa.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Sa.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Sa.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Sa.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Sa.verticalFill,x:ee(t.x)?t.x:u.left,y:ee(t.y)?t.y:u.top,width:ee(t.width)?t.width:u.width,height:ee(t.height)?t.height:u.height}),f=c.x,d=c.y,p=c.width,v=c.height,x=c.syncWithTicks,_=c.horizontalValues,b=c.verticalValues,w=kCe(),T=OCe();if(!ee(p)||p<=0||!ee(v)||v<=0||!ee(f)||f!==+f||!ee(d)||d!==+d)return null;var C=c.verticalCoordinatesGenerator||GIe,S=c.horizontalCoordinatesGenerator||WIe,I=c.horizontalPoints,P=c.verticalPoints;if((!I||!I.length)&&ge(S)){var A=_&&_.length,O=S({yAxis:T?pn(pn({},T),{},{ticks:A?_:T.ticks}):void 0,width:a,height:l,offset:u},A?!0:x);Nr(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(oa(O),"]")),Array.isArray(O)&&(I=O)}if((!P||!P.length)&&ge(C)){var N=b&&b.length,R=C({xAxis:w?pn(pn({},w),{},{ticks:N?b:w.ticks}):void 0,width:a,height:l,offset:u},N?!0:x);Nr(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(oa(R),"]")),Array.isArray(R)&&(P=R)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(FIe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),$.createElement(UIe,Ls({},c,{offset:u,horizontalPoints:I,xAxis:w,yAxis:T})),$.createElement(BIe,Ls({},c,{offset:u,verticalPoints:P,xAxis:w,yAxis:T})),$.createElement(zIe,Ls({},c,{horizontalPoints:I})),$.createElement(qIe,Ls({},c,{verticalPoints:P})))}bA.displayName="CartesianGrid";function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function HIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T5(r.key),r)}}function YIe(t,e,n){return e&&KIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XIe(t,e,n){return e=kg(e),QIe(t,b5()?Reflect.construct(e,n||[],kg(t).constructor):e.apply(t,n))}function QIe(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JIe(t)}function JIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b5=function(){return!!t})()}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kg(t)}function ZIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Aw(t,e)}function Aw(t,e){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Aw(t,e)}function w5(t,e,n){return e=T5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T5(t){var e=eke(t,"string");return ru(e)=="symbol"?e:e+""}function eke(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pw.apply(this,arguments)}function tke(t){var e=t.xAxisId,n=mA(),r=gA(),i=u5(e);return i==null?null:j.createElement(Nu,Pw({},i,{className:Te("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return wi(s,!0)}}))}var Qd=function(t){function e(){return HIe(this,e),XIe(this,e,arguments)}return ZIe(e,t),YIe(e,[{key:"render",value:function(){return j.createElement(tke,this.props)}}])}(j.Component);w5(Qd,"displayName","XAxis");w5(Qd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function nke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A5(r.key),r)}}function ike(t,e,n){return e&&rke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oke(t,e,n){return e=Og(e),ske(t,E5()?Reflect.construct(e,n||[],Og(t).constructor):e.apply(t,n))}function ske(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ake(t)}function ake(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E5=function(){return!!t})()}function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Og(t)}function lke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cw(t,e)}function Cw(t,e){return Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cw(t,e)}function S5(t,e,n){return e=A5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A5(t){var e=uke(t,"string");return iu(e)=="symbol"?e:e+""}function uke(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iw.apply(this,arguments)}var cke=function(e){var n=e.yAxisId,r=mA(),i=gA(),o=c5(n);return o==null?null:j.createElement(Nu,Iw({},o,{className:Te("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return wi(a,!0)}}))},Jd=function(t){function e(){return nke(this,e),oke(this,e,arguments)}return lke(e,t),ike(e,[{key:"render",value:function(){return j.createElement(cke,this.props)}}])}(j.Component);S5(Jd,"displayName","YAxis");S5(Jd,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function a2(t){return pke(t)||hke(t)||dke(t)||fke()}function fke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dke(t,e){if(t){if(typeof t=="string")return kw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kw(t,e)}}function hke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pke(t){if(Array.isArray(t))return kw(t)}function kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ow=function(e,n,r,i,o){var s=pr(e,vA),a=pr(e,Ev),l=[].concat(a2(s),a2(a)),u=pr(e,Av),c="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(x,_){if(_.props[c]===r&&ti(_.props,"extendDomain")&&ee(_.props[f])){var b=_.props[f];return[Math.min(x[0],b),Math.max(x[1],b)]}return x},d)),u.length){var p="".concat(f,"1"),v="".concat(f,"2");d=u.reduce(function(x,_){if(_.props[c]===r&&ti(_.props,"extendDomain")&&ee(_.props[p])&&ee(_.props[v])){var b=_.props[p],w=_.props[v];return[Math.min(x[0],b,w),Math.max(x[1],b,w)]}return x},d)}return o&&o.length&&(d=o.reduce(function(x,_){return ee(_)?[Math.min(x[0],_),Math.max(x[1],_)]:x},d)),d},P5={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,d),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,v=new Array(p);d<p;d++)v[d]=f[d].fn;return v},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,d,p,v){var x=n?n+u:u;if(!this._events[x])return!1;var _=this._events[x],b=arguments.length,w,T;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),b){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,c),!0;case 3:return _.fn.call(_.context,c,f),!0;case 4:return _.fn.call(_.context,c,f,d),!0;case 5:return _.fn.call(_.context,c,f,d,p),!0;case 6:return _.fn.call(_.context,c,f,d,p,v),!0}for(T=1,w=new Array(b-1);T<b;T++)w[T-1]=arguments[T];_.fn.apply(_.context,w)}else{var C=_.length,S;for(T=0;T<C;T++)switch(_[T].once&&this.removeListener(u,_[T].fn,void 0,!0),b){case 1:_[T].fn.call(_[T].context);break;case 2:_[T].fn.call(_[T].context,c);break;case 3:_[T].fn.call(_[T].context,c,f);break;case 4:_[T].fn.call(_[T].context,c,f,d);break;default:if(!w)for(S=1,w=new Array(b-1);S<b;S++)w[S-1]=arguments[S];_[T].fn.apply(_[T].context,w)}}return!0},a.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return s(this,p),this;var v=this._events[p];if(v.fn)v.fn===c&&(!d||v.once)&&(!f||v.context===f)&&s(this,p);else{for(var x=0,_=[],b=v.length;x<b;x++)(v[x].fn!==c||d&&!v[x].once||f&&v[x].context!==f)&&_.push(v[x]);_.length?this._events[p]=_.length===1?_[0]:_:s(this,p)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(P5);var mke=P5.exports;const gke=Fe(mke);var hx=new gke,px="recharts.syncMouseEvents";function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function yke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C5(r.key),r)}}function xke(t,e,n){return e&&vke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mx(t,e,n){return e=C5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C5(t){var e=_ke(t,"string");return pd(e)=="symbol"?e:e+""}function _ke(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bke=function(){function t(){yke(this,t),mx(this,"activeIndex",0),mx(this,"coordinateList",[]),mx(this,"layout","horizontal")}return xke(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,d=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function wke(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ee(r)&&ee(i))return!0}return!1}function Tke(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function I5(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Xe(e,n,r,i),a=Xe(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Eke(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,d=Xe(a,l,u,f),p=Xe(a,l,c,f);r=d.x,i=d.y,o=p.x,s=p.y}else return I5(e);return[{x:r,y:i},{x:o,y:s}]}function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function l2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ip(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(n),!0).forEach(function(r){Ske(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ske(t,e,n){return e=Ake(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ake(t){var e=Pke(t,"string");return md(e)=="symbol"?e:e+""}function Pke(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cke(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!s||d!=="ScatterChart"&&i!=="axis")return null;var v,x=ew;if(d==="ScatterChart")v=s,x=oAe;else if(d==="BarChart")v=Tke(f,s,l,c),x=cA;else if(f==="radial"){var _=I5(s),b=_.cx,w=_.cy,T=_.radius,C=_.startAngle,S=_.endAngle;v={cx:b,cy:w,startAngle:C,endAngle:S,innerRadius:T,outerRadius:T},x=CB}else v={points:Eke(f,s,l)},x=ew;var I=ip(ip(ip(ip({stroke:"#ccc",pointerEvents:"none"},l),v),pe(p,!1)),{},{payload:a,payloadIndex:u,className:Te("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,I):j.createElement(x,I)}var Ike=["item"],kke=["children","className","width","height","style","compact","title","desc"];function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function Za(){return Za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Za.apply(this,arguments)}function u2(t,e){return Rke(t)||Nke(t,e)||O5(t,e)||Oke()}function Oke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Rke(t){if(Array.isArray(t))return t}function c2(t,e){if(t==null)return{};var n=Mke(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N5(r.key),r)}}function jke(t,e,n){return e&&Lke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ke(t,e,n){return e=Ng(e),Vke(t,k5()?Reflect.construct(e,n||[],Ng(t).constructor):e.apply(t,n))}function Vke(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fke(t)}function Fke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k5=function(){return!!t})()}function Ng(t){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ng(t)}function Uke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nw(t,e)}function Nw(t,e){return Nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Nw(t,e)}function su(t){return qke(t)||zke(t)||O5(t)||Bke()}function Bke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O5(t,e){if(t){if(typeof t=="string")return Rw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rw(t,e)}}function zke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qke(t){if(Array.isArray(t))return Rw(t)}function Rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(n),!0).forEach(function(r){fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fe(t,e,n){return e=N5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N5(t){var e=Gke(t,"string");return ou(e)=="symbol"?e:e+""}function Gke(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wke={xAxis:["bottom","top"],yAxis:["left","right"]},Hke={width:"100%",height:"100%"},R5={x:0,y:0};function op(t){return t}var Kke=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Yke=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return G(G(G({},i),Xe(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return G(G(G({},i),Xe(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return R5},Pv=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(su(a),su(u)):a},[]);return s.length>0?s:e&&e.length&&ee(i)&&ee(o)?e.slice(i,o+1):[]};function M5(t){return t==="number"?[0,"auto"]:void 0}var Mw=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=Pv(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?a:f;d=ab(p,s.dataKey,i)}else d=f&&f[r]||a[r];return d?[].concat(su(l),[wB(u,d)]):l},[])},d2=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=Kke(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Cwe(s,a,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,d=Mw(e,n,c,f),p=Yke(r,a,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:p}}return null},Xke=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=e.stackOffset,p=gB(c,o);return r.reduce(function(v,x){var _,b=x.type.defaultProps!==void 0?G(G({},x.type.defaultProps),x.props):x.props,w=b.type,T=b.dataKey,C=b.allowDataOverflow,S=b.allowDuplicatedCategory,I=b.scale,P=b.ticks,A=b.includeHidden,O=b[s];if(v[O])return v;var N=Pv(e.data,{graphicalItems:i.filter(function(J){var oe,Ce=s in J.props?J.props[s]:(oe=J.type.defaultProps)===null||oe===void 0?void 0:oe[s];return Ce===O}),dataStartIndex:l,dataEndIndex:u}),R=N.length,D,M,U;wke(b.domain,C,w)&&(D=Yb(b.domain,null,C),p&&(w==="number"||I!=="auto")&&(U=Kc(N,T,"category")));var z=M5(w);if(!D||D.length===0){var K,W=(K=b.domain)!==null&&K!==void 0?K:z;if(T){if(D=Kc(N,T,w),w==="category"&&p){var V=vle(D);S&&V?(M=D,D=_g(0,R)):S||(D=jR(W,D,x).reduce(function(J,oe){return J.indexOf(oe)>=0?J:[].concat(su(J),[oe])},[]))}else if(w==="category")S?D=D.filter(function(J){return J!==""&&!Ee(J)}):D=jR(W,D,x).reduce(function(J,oe){return J.indexOf(oe)>=0||oe===""||Ee(oe)?J:[].concat(su(J),[oe])},[]);else if(w==="number"){var q=Rwe(N,i.filter(function(J){var oe,Ce,De=s in J.props?J.props[s]:(oe=J.type.defaultProps)===null||oe===void 0?void 0:oe[s],ot="hide"in J.props?J.props.hide:(Ce=J.type.defaultProps)===null||Ce===void 0?void 0:Ce.hide;return De===O&&(A||!ot)}),T,o,c);q&&(D=q)}p&&(w==="number"||I!=="auto")&&(U=Kc(N,T,"category"))}else p?D=_g(0,R):a&&a[O]&&a[O].hasStack&&w==="number"?D=d==="expand"?[0,1]:bB(a[O].stackGroups,l,u):D=mB(N,i.filter(function(J){var oe=s in J.props?J.props[s]:J.type.defaultProps[s],Ce="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return oe===O&&(A||!Ce)}),w,c,!0);if(w==="number")D=Ow(f,D,O,o,P),W&&(D=Yb(W,D,C));else if(w==="category"&&W){var Y=W,re=D.every(function(J){return Y.indexOf(J)>=0});re&&(D=Y)}}return G(G({},v),{},fe({},O,G(G({},b),{},{axisType:o,domain:D,categoricalDomain:U,duplicateDomain:M,originalDomain:(_=b.domain)!==null&&_!==void 0?_:z,isCategorical:p,layout:c})))},{})},Qke=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=Pv(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=d.length,v=gB(c,o),x=-1;return r.reduce(function(_,b){var w=b.type.defaultProps!==void 0?G(G({},b.type.defaultProps),b.props):b.props,T=w[s],C=M5("number");if(!_[T]){x++;var S;return v?S=_g(0,p):a&&a[T]&&a[T].hasStack?(S=bB(a[T].stackGroups,l,u),S=Ow(f,S,T,o)):(S=Yb(C,mB(d,r.filter(function(I){var P,A,O=s in I.props?I.props[s]:(P=I.type.defaultProps)===null||P===void 0?void 0:P[s],N="hide"in I.props?I.props.hide:(A=I.type.defaultProps)===null||A===void 0?void 0:A.hide;return O===T&&!N}),"number",c),i.defaultProps.allowDataOverflow),S=Ow(f,S,T,o)),G(G({},_),{},fe({},T,G(G({axisType:o},i.defaultProps),{},{hide:!0,orientation:Xn(Wke,"".concat(o,".").concat(x%2),null),domain:S,originalDomain:C,isCategorical:v,layout:c})))}return _},{})},Jke=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),d=pr(c,o),p={};return d&&d.length?p=Xke(e,{axes:d,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(p=Qke(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),p},Zke=function(e){var n=mo(e),r=wi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:jS(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:lg(n,r)}},h2=function(e){var n=e.children,r=e.defaultShowTooltip,i=zn(n,Ql),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},eOe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ci(n&&n.type);return r&&r.indexOf("Bar")>=0})},p2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},tOe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,f=r.children,d=r.margin||{},p=zn(f,Ql),v=zn(f,hl),x=Object.keys(l).reduce(function(S,I){var P=l[I],A=P.orientation;return!P.mirror&&!P.hide?G(G({},S),{},fe({},A,S[A]+P.width)):S},{left:d.left||0,right:d.right||0}),_=Object.keys(s).reduce(function(S,I){var P=s[I],A=P.orientation;return!P.mirror&&!P.hide?G(G({},S),{},fe({},A,Xn(S,"".concat(A))+P.height)):S},{top:d.top||0,bottom:d.bottom||0}),b=G(G({},_),x),w=b.bottom;p&&(b.bottom+=p.props.height||Ql.defaultProps.height),v&&n&&(b=Owe(b,i,r,n));var T=u-b.left-b.right,C=c-b.top-b.bottom;return G(G({brushBottom:w},b),{},{width:Math.max(T,0),height:Math.max(C,0)})},nOe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},D5=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,d=function(b,w){var T=w.graphicalItems,C=w.stackGroups,S=w.offset,I=w.updateId,P=w.dataStartIndex,A=w.dataEndIndex,O=b.barSize,N=b.layout,R=b.barGap,D=b.barCategoryGap,M=b.maxBarSize,U=p2(N),z=U.numericAxisName,K=U.cateAxisName,W=eOe(T),V=[];return T.forEach(function(q,Y){var re=Pv(b.data,{graphicalItems:[q],dataStartIndex:P,dataEndIndex:A}),J=q.type.defaultProps!==void 0?G(G({},q.type.defaultProps),q.props):q.props,oe=J.dataKey,Ce=J.maxBarSize,De=J["".concat(z,"Id")],ot=J["".concat(K,"Id")],Bt={},Zt=l.reduce(function(Fr,li){var cs=w["".concat(li.axisType,"Map")],ya=J["".concat(li.axisType,"Id")];cs&&cs[ya]||li.axisType==="zAxis"||ia();var Ru=cs[ya];return G(G({},Fr),{},fe(fe({},li.axisType,Ru),"".concat(li.axisType,"Ticks"),wi(Ru)))},Bt),ie=Zt[K],me=Zt["".concat(K,"Ticks")],ve=C&&C[De]&&C[De].hasStack&&Bwe(q,C[De].stackGroups),X=Ci(q.type).indexOf("Bar")>=0,Ge=lg(ie,me),Se=[],st=W&&Iwe({barSize:O,stackGroups:C,totalSize:nOe(Zt,K)});if(X){var ht,en,Vr=Ee(Ce)?M:Ce,ai=(ht=(en=lg(ie,me,!0))!==null&&en!==void 0?en:Vr)!==null&&ht!==void 0?ht:0;Se=kwe({barGap:R,barCategoryGap:D,bandSize:ai!==Ge?ai:Ge,sizeList:st[ot],maxBarSize:Vr}),ai!==Ge&&(Se=Se.map(function(Fr){return G(G({},Fr),{},{position:G(G({},Fr.position),{},{offset:Fr.position.offset-ai/2})})}))}var Qi=q&&q.type&&q.type.getComposedData;Qi&&V.push({props:G(G({},Qi(G(G({},Zt),{},{displayedData:re,props:b,dataKey:oe,item:q,bandSize:Ge,barPosition:Se,offset:S,stackedData:ve,layout:N,dataStartIndex:P,dataEndIndex:A}))),{},fe(fe(fe({key:q.key||"item-".concat(Y)},z,Zt[z]),K,Zt[K]),"animationId",I)),childIndex:kle(q,b.children),item:q})}),V},p=function(b,w){var T=b.props,C=b.dataStartIndex,S=b.dataEndIndex,I=b.updateId;if(!OO({props:T}))return null;var P=T.children,A=T.layout,O=T.stackOffset,N=T.data,R=T.reverseStackOrder,D=p2(A),M=D.numericAxisName,U=D.cateAxisName,z=pr(P,r),K=Fwe(N,z,"".concat(M,"Id"),"".concat(U,"Id"),O,R),W=l.reduce(function(J,oe){var Ce="".concat(oe.axisType,"Map");return G(G({},J),{},fe({},Ce,Jke(T,G(G({},oe),{},{graphicalItems:z,stackGroups:oe.axisType===M&&K,dataStartIndex:C,dataEndIndex:S}))))},{}),V=tOe(G(G({},W),{},{props:T,graphicalItems:z}),w==null?void 0:w.legendBBox);Object.keys(W).forEach(function(J){W[J]=c(T,W[J],V,J.replace("Map",""),n)});var q=W["".concat(U,"Map")],Y=Zke(q),re=d(T,G(G({},W),{},{dataStartIndex:C,dataEndIndex:S,updateId:I,graphicalItems:z,stackGroups:K,offset:V}));return G(G({formattedGraphicalItems:re,graphicalItems:z,offset:V,stackGroups:K},Y),W)},v=function(_){function b(w){var T,C,S;return Dke(this,b),S=$ke(this,b,[w]),fe(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),fe(S,"accessibilityManager",new bke),fe(S,"handleLegendBBoxUpdate",function(I){if(I){var P=S.state,A=P.dataStartIndex,O=P.dataEndIndex,N=P.updateId;S.setState(G({legendBBox:I},p({props:S.props,dataStartIndex:A,dataEndIndex:O,updateId:N},G(G({},S.state),{},{legendBBox:I}))))}}),fe(S,"handleReceiveSyncEvent",function(I,P,A){if(S.props.syncId===I){if(A===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(P)}}),fe(S,"handleBrushChange",function(I){var P=I.startIndex,A=I.endIndex;if(P!==S.state.dataStartIndex||A!==S.state.dataEndIndex){var O=S.state.updateId;S.setState(function(){return G({dataStartIndex:P,dataEndIndex:A},p({props:S.props,dataStartIndex:P,dataEndIndex:A,updateId:O},S.state))}),S.triggerSyncEvent({dataStartIndex:P,dataEndIndex:A})}}),fe(S,"handleMouseEnter",function(I){var P=S.getMouseInfo(I);if(P){var A=G(G({},P),{},{isTooltipActive:!0});S.setState(A),S.triggerSyncEvent(A);var O=S.props.onMouseEnter;ge(O)&&O(A,I)}}),fe(S,"triggeredAfterMouseMove",function(I){var P=S.getMouseInfo(I),A=P?G(G({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var O=S.props.onMouseMove;ge(O)&&O(A,I)}),fe(S,"handleItemMouseEnter",function(I){S.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),fe(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),fe(S,"handleMouseMove",function(I){I.persist(),S.throttleTriggeredAfterMouseMove(I)}),fe(S,"handleMouseLeave",function(I){S.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};S.setState(P),S.triggerSyncEvent(P);var A=S.props.onMouseLeave;ge(A)&&A(P,I)}),fe(S,"handleOuterEvent",function(I){var P=Ile(I),A=Xn(S.props,"".concat(P));if(P&&ge(A)){var O,N;/.*touch.*/i.test(P)?N=S.getMouseInfo(I.changedTouches[0]):N=S.getMouseInfo(I),A((O=N)!==null&&O!==void 0?O:{},I)}}),fe(S,"handleClick",function(I){var P=S.getMouseInfo(I);if(P){var A=G(G({},P),{},{isTooltipActive:!0});S.setState(A),S.triggerSyncEvent(A);var O=S.props.onClick;ge(O)&&O(A,I)}}),fe(S,"handleMouseDown",function(I){var P=S.props.onMouseDown;if(ge(P)){var A=S.getMouseInfo(I);P(A,I)}}),fe(S,"handleMouseUp",function(I){var P=S.props.onMouseUp;if(ge(P)){var A=S.getMouseInfo(I);P(A,I)}}),fe(S,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),fe(S,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&S.handleMouseDown(I.changedTouches[0])}),fe(S,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&S.handleMouseUp(I.changedTouches[0])}),fe(S,"handleDoubleClick",function(I){var P=S.props.onDoubleClick;if(ge(P)){var A=S.getMouseInfo(I);P(A,I)}}),fe(S,"handleContextMenu",function(I){var P=S.props.onContextMenu;if(ge(P)){var A=S.getMouseInfo(I);P(A,I)}}),fe(S,"triggerSyncEvent",function(I){S.props.syncId!==void 0&&hx.emit(px,S.props.syncId,I,S.eventEmitterSymbol)}),fe(S,"applySyncEvent",function(I){var P=S.props,A=P.layout,O=P.syncMethod,N=S.state.updateId,R=I.dataStartIndex,D=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)S.setState(G({dataStartIndex:R,dataEndIndex:D},p({props:S.props,dataStartIndex:R,dataEndIndex:D,updateId:N},S.state)));else if(I.activeTooltipIndex!==void 0){var M=I.chartX,U=I.chartY,z=I.activeTooltipIndex,K=S.state,W=K.offset,V=K.tooltipTicks;if(!W)return;if(typeof O=="function")z=O(V,I);else if(O==="value"){z=-1;for(var q=0;q<V.length;q++)if(V[q].value===I.activeLabel){z=q;break}}var Y=G(G({},W),{},{x:W.left,y:W.top}),re=Math.min(M,Y.x+Y.width),J=Math.min(U,Y.y+Y.height),oe=V[z]&&V[z].value,Ce=Mw(S.state,S.props.data,z),De=V[z]?{x:A==="horizontal"?V[z].coordinate:re,y:A==="horizontal"?J:V[z].coordinate}:R5;S.setState(G(G({},I),{},{activeLabel:oe,activeCoordinate:De,activePayload:Ce,activeTooltipIndex:z}))}else S.setState(I)}),fe(S,"renderCursor",function(I){var P,A=S.state,O=A.isTooltipActive,N=A.activeCoordinate,R=A.activePayload,D=A.offset,M=A.activeTooltipIndex,U=A.tooltipAxisBandSize,z=S.getTooltipEventType(),K=(P=I.props.active)!==null&&P!==void 0?P:O,W=S.props.layout,V=I.key||"_recharts-cursor";return $.createElement(Cke,{key:V,activeCoordinate:N,activePayload:R,activeTooltipIndex:M,chartName:n,element:I,isActive:K,layout:W,offset:D,tooltipAxisBandSize:U,tooltipEventType:z})}),fe(S,"renderPolarAxis",function(I,P,A){var O=Xn(I,"type.axisType"),N=Xn(S.state,"".concat(O,"Map")),R=I.type.defaultProps,D=R!==void 0?G(G({},R),I.props):I.props,M=N&&N[D["".concat(O,"Id")]];return j.cloneElement(I,G(G({},M),{},{className:Te(O,M.className),key:I.key||"".concat(P,"-").concat(A),ticks:wi(M,!0)}))}),fe(S,"renderPolarGrid",function(I){var P=I.props,A=P.radialLines,O=P.polarAngles,N=P.polarRadius,R=S.state,D=R.radiusAxisMap,M=R.angleAxisMap,U=mo(D),z=mo(M),K=z.cx,W=z.cy,V=z.innerRadius,q=z.outerRadius;return j.cloneElement(I,{polarAngles:Array.isArray(O)?O:wi(z,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(N)?N:wi(U,!0).map(function(Y){return Y.coordinate}),cx:K,cy:W,innerRadius:V,outerRadius:q,key:I.key||"polar-grid",radialLines:A})}),fe(S,"renderLegend",function(){var I=S.state.formattedGraphicalItems,P=S.props,A=P.children,O=P.width,N=P.height,R=S.props.margin||{},D=O-(R.left||0)-(R.right||0),M=hB({children:A,formattedGraphicalItems:I,legendWidth:D,legendContent:u});if(!M)return null;var U=M.item,z=c2(M,Ike);return j.cloneElement(U,G(G({},z),{},{chartWidth:O,chartHeight:N,margin:R,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),fe(S,"renderTooltip",function(){var I,P=S.props,A=P.children,O=P.accessibilityLayer,N=zn(A,sr);if(!N)return null;var R=S.state,D=R.isTooltipActive,M=R.activeCoordinate,U=R.activePayload,z=R.activeLabel,K=R.offset,W=(I=N.props.active)!==null&&I!==void 0?I:D;return j.cloneElement(N,{viewBox:G(G({},K),{},{x:K.left,y:K.top}),active:W,label:z,payload:W?U:[],coordinate:M,accessibilityLayer:O})}),fe(S,"renderBrush",function(I){var P=S.props,A=P.margin,O=P.data,N=S.state,R=N.offset,D=N.dataStartIndex,M=N.dataEndIndex,U=N.updateId;return j.cloneElement(I,{key:I.key||"_recharts-brush",onChange:ep(S.handleBrushChange,I.props.onChange),data:O,x:ee(I.props.x)?I.props.x:R.left,y:ee(I.props.y)?I.props.y:R.top+R.height+R.brushBottom-(A.bottom||0),width:ee(I.props.width)?I.props.width:R.width,startIndex:D,endIndex:M,updateId:"brush-".concat(U)})}),fe(S,"renderReferenceElement",function(I,P,A){if(!I)return null;var O=S,N=O.clipPathId,R=S.state,D=R.xAxisMap,M=R.yAxisMap,U=R.offset,z=I.type.defaultProps||{},K=I.props,W=K.xAxisId,V=W===void 0?z.xAxisId:W,q=K.yAxisId,Y=q===void 0?z.yAxisId:q;return j.cloneElement(I,{key:I.key||"".concat(P,"-").concat(A),xAxis:D[V],yAxis:M[Y],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:N})}),fe(S,"renderActivePoints",function(I){var P=I.item,A=I.activePoint,O=I.basePoint,N=I.childIndex,R=I.isRange,D=[],M=P.props.key,U=P.item.type.defaultProps!==void 0?G(G({},P.item.type.defaultProps),P.item.props):P.item.props,z=U.activeDot,K=U.dataKey,W=G(G({index:N,dataKey:K,cx:A.x,cy:A.y,r:4,fill:uA(P.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},pe(z,!1)),Dm(z));return D.push(b.renderActiveDot(z,W,"".concat(M,"-activePoint-").concat(N))),O?D.push(b.renderActiveDot(z,G(G({},W),{},{cx:O.x,cy:O.y}),"".concat(M,"-basePoint-").concat(N))):R&&D.push(null),D}),fe(S,"renderGraphicChild",function(I,P,A){var O=S.filterFormatItem(I,P,A);if(!O)return null;var N=S.getTooltipEventType(),R=S.state,D=R.isTooltipActive,M=R.tooltipAxis,U=R.activeTooltipIndex,z=R.activeLabel,K=S.props.children,W=zn(K,sr),V=O.props,q=V.points,Y=V.isRange,re=V.baseLine,J=O.item.type.defaultProps!==void 0?G(G({},O.item.type.defaultProps),O.item.props):O.item.props,oe=J.activeDot,Ce=J.hide,De=J.activeBar,ot=J.activeShape,Bt=!!(!Ce&&D&&W&&(oe||De||ot)),Zt={};N!=="axis"&&W&&W.props.trigger==="click"?Zt={onClick:ep(S.handleItemMouseEnter,I.props.onClick)}:N!=="axis"&&(Zt={onMouseLeave:ep(S.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:ep(S.handleItemMouseEnter,I.props.onMouseEnter)});var ie=j.cloneElement(I,G(G({},O.props),Zt));function me(li){return typeof M.dataKey=="function"?M.dataKey(li.payload):null}if(Bt)if(U>=0){var ve,X;if(M.dataKey&&!M.allowDuplicatedCategory){var Ge=typeof M.dataKey=="function"?me:"payload.".concat(M.dataKey.toString());ve=ab(q,Ge,z),X=Y&&re&&ab(re,Ge,z)}else ve=q==null?void 0:q[U],X=Y&&re&&re[U];if(ot||De){var Se=I.props.activeIndex!==void 0?I.props.activeIndex:U;return[j.cloneElement(I,G(G(G({},O.props),Zt),{},{activeIndex:Se})),null,null]}if(!Ee(ve))return[ie].concat(su(S.renderActivePoints({item:O,activePoint:ve,basePoint:X,childIndex:U,isRange:Y})))}else{var st,ht=(st=S.getItemByXY(S.state.activeCoordinate))!==null&&st!==void 0?st:{graphicalItem:ie},en=ht.graphicalItem,Vr=en.item,ai=Vr===void 0?I:Vr,Qi=en.childIndex,Fr=G(G(G({},O.props),Zt),{},{activeIndex:Qi});return[j.cloneElement(ai,Fr),null,null]}return Y?[ie,null,null]:[ie,null]}),fe(S,"renderCustomized",function(I,P,A){return j.cloneElement(I,G(G({key:"recharts-customized-".concat(A)},S.props),S.state))}),fe(S,"renderMap",{CartesianGrid:{handler:op,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:op},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:op},YAxis:{handler:op},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((T=w.id)!==null&&T!==void 0?T:Gd("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=dU(S.triggeredAfterMouseMove,(C=w.throttleDelay)!==null&&C!==void 0?C:1e3/60),S.state={},S}return Uke(b,_),jke(b,[{key:"componentDidMount",value:function(){var T,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,C=T.children,S=T.data,I=T.height,P=T.layout,A=zn(C,sr);if(A){var O=A.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,R=Mw(this.state,S,O,N),D=this.state.tooltipTicks[O].coordinate,M=(this.state.offset.top+I)/2,U=P==="horizontal",z=U?{x:D,y:M}:{y:D,x:M},K=this.state.formattedGraphicalItems.find(function(V){var q=V.item;return q.type.name==="Scatter"});K&&(z=G(G({},z),K.props.points[O].tooltipPosition),R=K.props.points[O].tooltipPayload);var W={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:N,activePayload:R,activeCoordinate:z};this.setState(W),this.renderCursor(A),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var S,I;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(T){ub([zn(T.children,sr)],[zn(this.props.children,sr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=zn(this.props.children,sr);if(T&&typeof T.props.shared=="boolean"){var C=T.props.shared?"axis":"item";return a.indexOf(C)>=0?C:o}return o}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var C=this.container,S=C.getBoundingClientRect(),I=n0e(S),P={chartX:Math.round(T.pageX-I.left),chartY:Math.round(T.pageY-I.top)},A=S.width/C.offsetWidth||1,O=this.inRange(P.chartX,P.chartY,A);if(!O)return null;var N=this.state,R=N.xAxisMap,D=N.yAxisMap,M=this.getTooltipEventType(),U=d2(this.state,this.props.data,this.props.layout,O);if(M!=="axis"&&R&&D){var z=mo(R).scale,K=mo(D).scale,W=z&&z.invert?z.invert(P.chartX):null,V=K&&K.invert?K.invert(P.chartY):null;return G(G({},P),{},{xValue:W,yValue:V},U)}return U?G(G({},P),U):null}},{key:"inRange",value:function(T,C){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,P=T/S,A=C/S;if(I==="horizontal"||I==="vertical"){var O=this.state.offset,N=P>=O.left&&P<=O.left+O.width&&A>=O.top&&A<=O.top+O.height;return N?{x:P,y:A}:null}var R=this.state,D=R.angleAxisMap,M=R.radiusAxisMap;if(D&&M){var U=mo(D);return FR({x:P,y:A},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,C=this.getTooltipEventType(),S=zn(T,sr),I={};S&&C==="axis"&&(S.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=Dm(this.props,this.handleOuterEvent);return G(G({},P),I)}},{key:"addListener",value:function(){hx.on(px,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){hx.removeListener(px,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,C,S){for(var I=this.state.formattedGraphicalItems,P=0,A=I.length;P<A;P++){var O=I[P];if(O.item===T||O.props.key===T.key||C===Ci(O.item.type)&&S===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,C=this.state.offset,S=C.left,I=C.top,P=C.height,A=C.width;return $.createElement("defs",null,$.createElement("clipPath",{id:T},$.createElement("rect",{x:S,y:I,height:P,width:A})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(C,S){var I=u2(S,2),P=I[0],A=I[1];return G(G({},C),{},fe({},P,A.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(C,S){var I=u2(S,2),P=I[0],A=I[1];return G(G({},C),{},fe({},P,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[T])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(T){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[T])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(T){var C=this.state,S=C.formattedGraphicalItems,I=C.activeItem;if(S&&S.length)for(var P=0,A=S.length;P<A;P++){var O=S[P],N=O.props,R=O.item,D=R.type.defaultProps!==void 0?G(G({},R.type.defaultProps),R.props):R.props,M=Ci(R.type);if(M==="Bar"){var U=(N.data||[]).find(function(V){return VSe(T,V)});if(U)return{graphicalItem:O,payload:U}}else if(M==="RadialBar"){var z=(N.data||[]).find(function(V){return FR(T,V)});if(z)return{graphicalItem:O,payload:z}}else if(_v(O,I)||bv(O,I)||ud(O,I)){var K=P1e({graphicalItem:O,activeTooltipItem:I,itemData:D.data}),W=D.activeIndex===void 0?K:D.activeIndex;return{graphicalItem:G(G({},O),{},{childIndex:W}),payload:ud(O,I)?D.data[K]:O.props.data[K]}}}return null}},{key:"render",value:function(){var T=this;if(!OO(this))return null;var C=this.props,S=C.children,I=C.className,P=C.width,A=C.height,O=C.style,N=C.compact,R=C.title,D=C.desc,M=c2(C,kke),U=pe(M,!1);if(N)return $.createElement(KM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(fb,Za({},U,{width:P,height:A,title:R,desc:D}),this.renderClipPath(),RO(S,this.renderMap)));if(this.props.accessibilityLayer){var z,K;U.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,U.role=(K=this.props.role)!==null&&K!==void 0?K:"application",U.onKeyDown=function(V){T.accessibilityManager.keyboardEvent(V)},U.onFocus=function(){T.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return $.createElement(KM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",Za({className:Te("recharts-wrapper",I),style:G({position:"relative",cursor:"default",width:P,height:A},O)},W,{ref:function(q){T.container=q}}),$.createElement(fb,Za({},U,{width:P,height:A,title:R,desc:D,style:Hke}),this.renderClipPath(),RO(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);fe(v,"displayName",n),fe(v,"defaultProps",G({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),fe(v,"getDerivedStateFromProps",function(_,b){var w=_.dataKey,T=_.data,C=_.children,S=_.width,I=_.height,P=_.layout,A=_.stackOffset,O=_.margin,N=b.dataStartIndex,R=b.dataEndIndex;if(b.updateId===void 0){var D=h2(_);return G(G(G({},D),{},{updateId:0},p(G(G({props:_},D),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:T,prevWidth:S,prevHeight:I,prevLayout:P,prevStackOffset:A,prevMargin:O,prevChildren:C})}if(w!==b.prevDataKey||T!==b.prevData||S!==b.prevWidth||I!==b.prevHeight||P!==b.prevLayout||A!==b.prevStackOffset||!dl(O,b.prevMargin)){var M=h2(_),U={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},z=G(G({},d2(b,T,P)),{},{updateId:b.updateId+1}),K=G(G(G({},M),U),z);return G(G(G({},K),p(G({props:_},K),b)),{},{prevDataKey:w,prevData:T,prevWidth:S,prevHeight:I,prevLayout:P,prevStackOffset:A,prevMargin:O,prevChildren:C})}if(!ub(C,b.prevChildren)){var W,V,q,Y,re=zn(C,Ql),J=re&&(W=(V=re.props)===null||V===void 0?void 0:V.startIndex)!==null&&W!==void 0?W:N,oe=re&&(q=(Y=re.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&q!==void 0?q:R,Ce=J!==N||oe!==R,De=!Ee(T),ot=De&&!Ce?b.updateId:b.updateId+1;return G(G({updateId:ot},p(G(G({props:_},b),{},{updateId:ot,dataStartIndex:J,dataEndIndex:oe}),b)),{},{prevChildren:C,dataStartIndex:J,dataEndIndex:oe})}return null}),fe(v,"renderActiveDot",function(_,b,w){var T;return j.isValidElement(_)?T=j.cloneElement(_,b):ge(_)?T=_(b):T=$.createElement(fA,b),$.createElement(je,{className:"recharts-active-dot",key:w},T)});var x=j.forwardRef(function(b,w){return $.createElement(v,Za({},b,{ref:w}))});return x.displayName=v.displayName,x},L5=D5({chartName:"BarChart",GraphicalChild:us,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Qd},{axisType:"yAxis",AxisComp:Jd}],formatAxisMap:oCe}),rOe=D5({chartName:"PieChart",GraphicalChild:Xi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:xv},{axisType:"radiusAxis",AxisComp:yv}],formatAxisMap:Jwe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const m2=["from-blue-600 to-cyan-500","from-emerald-500 to-teal-400","from-violet-600 to-purple-500","from-orange-500 to-amber-400","from-pink-600 to-rose-400","from-indigo-600 to-blue-500"],iOe=()=>m2[Math.floor(Math.random()*m2.length)],oOe=({state:t,onClose:e})=>(j.useEffect(()=>{if(t.show){const n=setTimeout(e,3e3);return()=>clearTimeout(n)}},[t.show,e]),g.jsx(hr,{children:t.show&&g.jsxs(ue.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},transition:{type:"spring",damping:20,stiffness:300},className:"fixed bottom-6 right-6 z-[60] flex items-center gap-3 px-5 py-4 rounded-xl shadow-2xl bg-white dark:bg-slate-800/95 backdrop-blur-md border border-slate-200/50 dark:border-slate-700/50",children:[t.type==="success"?g.jsx("div",{className:"p-1.5 bg-gradient-to-br from-green-100 to-emerald-100 dark:from-green-900/40 dark:to-emerald-900/40 rounded-full shadow-lg",children:g.jsx(UL,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}):g.jsx("div",{className:"p-1.5 bg-gradient-to-br from-red-100 to-rose-100 dark:from-red-900/40 dark:to-rose-900/40 rounded-full shadow-lg",children:g.jsx(Zg,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h4",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:t.type==="success"?"Success":"Error"}),g.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-0.5",children:t.message})]}),g.jsx("button",{onClick:e,className:"ml-2 p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx(Fo,{className:"h-4 w-4"})})]})})),sOe=()=>g.jsxs("div",{className:"relative bg-white/60 dark:bg-slate-800/50 backdrop-blur-sm rounded-xl border border-slate-200/50 dark:border-slate-700/50 p-6 space-y-4 overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 dark:via-slate-700/20 to-transparent animate-shimmer"}),g.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[g.jsx("div",{className:"h-12 w-12 bg-slate-200/60 dark:bg-slate-700/60 rounded-xl animate-pulse"}),g.jsx("div",{className:"h-7 w-20 bg-slate-200/60 dark:bg-slate-700/60 rounded-md animate-pulse"})]}),g.jsxs("div",{className:"space-y-2 pt-2 relative z-10",children:[g.jsx("div",{className:"h-6 w-3/4 bg-slate-200/60 dark:bg-slate-700/60 rounded animate-pulse"}),g.jsx("div",{className:"h-4 w-1/2 bg-slate-200/60 dark:bg-slate-700/60 rounded animate-pulse"})]}),g.jsx("div",{className:"h-16 w-full bg-slate-100/60 dark:bg-slate-700/40 rounded-lg mt-4 relative z-10 animate-pulse"}),g.jsxs("div",{className:"flex justify-between items-center pt-2 relative z-10",children:[g.jsx("div",{className:"h-4 w-24 bg-slate-200/60 dark:bg-slate-700/60 rounded animate-pulse"}),g.jsx("div",{className:"h-8 w-8 bg-slate-200/60 dark:bg-slate-700/60 rounded-full animate-pulse"})]})]}),Dw=({course:t,type:e="default",onClick:n})=>{if(e==="add")return g.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02,y:-8},whileTap:{scale:.98},onClick:n,className:"h-full min-h-[220px] bg-white/60 dark:bg-slate-800/50 backdrop-blur-md border-2 border-dashed border-slate-300/50 dark:border-slate-700/50 rounded-xl flex flex-col items-center justify-center cursor-pointer group hover:border-blue-500 dark:hover:border-blue-400 transition-all duration-300 shadow-lg hover:shadow-xl",children:[g.jsx("div",{className:"w-14 h-14 rounded-full bg-slate-100/80 dark:bg-slate-700/60 backdrop-blur-sm flex items-center justify-center mb-4 group-hover:bg-blue-50 dark:group-hover:bg-blue-900/30 transition-colors",children:g.jsx(sl,{className:"h-6 w-6 text-slate-400 group-hover:text-blue-600 dark:group-hover:text-blue-400"})}),g.jsx("h3",{className:"font-semibold text-slate-600 dark:text-slate-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:"Create New Course"})]});if(!t)return null;const r=t.themeColor||"from-blue-600 to-cyan-500",i=g.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-8,scale:1.02},whileTap:{scale:.98},className:"relative h-full bg-white/60 dark:bg-slate-800/50 backdrop-blur-md rounded-xl border border-slate-200/50 dark:border-slate-700/50 overflow-hidden shadow-lg hover:shadow-2xl dark:hover:shadow-blue-900/20 transition-all duration-300 flex flex-col group",children:[g.jsx("div",{className:`absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r ${r} opacity-80 group-hover:opacity-100 transition-opacity`}),g.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${r} opacity-0 group-hover:opacity-5 transition-opacity duration-300 rounded-xl pointer-events-none`}),g.jsxs("div",{className:"p-6 flex-1 flex flex-col relative z-10",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${r} shadow-lg shadow-blue-500/20 group-hover:shadow-xl group-hover:shadow-blue-500/30 transition-shadow`,children:g.jsx(bd,{className:"h-6 w-6 text-white"})}),g.jsx("span",{className:"px-3 py-1 text-xs font-bold tracking-wide rounded-lg bg-slate-100/80 dark:bg-slate-700/60 backdrop-blur-sm text-slate-700 dark:text-slate-300 border border-slate-200/50 dark:border-slate-600/50 font-mono",children:t.code})]}),g.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2 line-clamp-1 group-hover:text-transparent group-hover:bg-clip-text group-hover:bg-gradient-to-r group-hover:from-blue-600 group-hover:to-cyan-500 transition-all duration-300",children:t.title}),g.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 line-clamp-2 mb-6 min-h-[2.5rem] flex-1",children:t.description||"No description provided for this course curriculum."}),g.jsxs("div",{className:"mt-auto flex items-center justify-between pt-4 border-t border-slate-200/50 dark:border-slate-700/50",children:[g.jsxs("div",{className:"flex items-center gap-4 text-xs font-medium text-slate-500 dark:text-slate-400",children:[g.jsxs("span",{className:"flex items-center gap-1.5",children:[g.jsx(VL,{className:"h-3.5 w-3.5"}),t.semester]}),g.jsxs("span",{className:"flex items-center gap-1.5",children:[g.jsx(wd,{className:"h-3.5 w-3.5"}),t.studentCount]})]}),g.jsx("div",{className:"p-1.5 rounded-full hover:bg-slate-100/80 dark:hover:bg-slate-700/60 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:g.jsx(zL,{className:"h-4 w-4"})})]})]})]});return n?g.jsx("div",{onClick:n,className:"cursor-pointer h-full",children:i}):g.jsx(om,{to:`/faculty/courses/${t.id}`,className:"block h-full",children:i})},j5=({isOpen:t,onClose:e,showToast:n})=>{const[r,i]=j.useState(!1),[o,s]=j.useState({title:"",code:"",semester:"Fall 2024",description:""}),a=c=>{s(f=>({...f,[c.target.name]:c.target.value}))},l=async c=>{if(c.preventDefault(),!!$n.currentUser){i(!0);try{await KF(xu(Lr,"courses"),{...o,instructorId:$n.currentUser.uid,instructorName:$n.currentUser.displayName||"Faculty Member",studentCount:0,createdAt:hS(),themeColor:iOe()}),n("Course created successfully!","success"),s({title:"",code:"",semester:"Fall 2024",description:""}),e()}catch(f){console.error("Error creating course:",f),n("Failed to create course. Please try again.","error")}finally{i(!1)}}},u=o.title.trim().length>0&&o.code.trim().length>0;return g.jsx(hr,{children:t&&g.jsxs(g.Fragment,{children:[g.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50",onClick:e}),g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[60] p-4 pointer-events-none",children:g.jsxs(ue.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:c=>c.stopPropagation(),className:"bg-white/95 dark:bg-slate-900/95 backdrop-blur-md w-full max-w-lg rounded-2xl shadow-2xl border border-slate-200/50 dark:border-slate-800/50 pointer-events-auto flex flex-col max-h-[90vh]",children:[g.jsxs("div",{className:"p-6 border-b border-slate-200/50 dark:border-slate-800/50 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/30 rounded-t-2xl",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Create New Course"}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Set up a new curriculum for this semester."})]}),g.jsx("button",{onClick:e,disabled:r,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors disabled:opacity-50",children:g.jsx(Fo,{className:"h-5 w-5"})})]}),g.jsxs("form",{onSubmit:l,className:"p-6 space-y-5 overflow-y-auto flex-1",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:["Course Title ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{name:"title",value:o.title,onChange:a,placeholder:"e.g. Introduction to AI",required:!0,disabled:r,className:"w-full px-4 py-2.5 rounded-lg bg-slate-50/80 dark:bg-slate-950/80 backdrop-blur-sm border border-slate-200 dark:border-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all disabled:opacity-50"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:["Course Code ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{name:"code",value:o.code,onChange:a,placeholder:"e.g. CS-101",required:!0,disabled:r,className:"w-full px-4 py-2.5 rounded-lg bg-slate-50/80 dark:bg-slate-950/80 backdrop-blur-sm border border-slate-200 dark:border-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all disabled:opacity-50"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Semester"}),g.jsxs("select",{name:"semester",value:o.semester,onChange:a,disabled:r,className:"w-full px-4 py-2.5 rounded-lg bg-slate-50/80 dark:bg-slate-950/80 backdrop-blur-sm border border-slate-200 dark:border-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all disabled:opacity-50",children:[g.jsx("option",{children:"Fall 2024"}),g.jsx("option",{children:"Spring 2025"}),g.jsx("option",{children:"Fall 2025"}),g.jsx("option",{children:"Spring 2026"})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Description"}),g.jsx("textarea",{name:"description",value:o.description,onChange:a,rows:3,placeholder:"Brief overview of the curriculum...",disabled:r,className:"w-full px-4 py-2.5 rounded-lg bg-slate-50/80 dark:bg-slate-950/80 backdrop-blur-sm border border-slate-200 dark:border-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all resize-none disabled:opacity-50"})]})]}),g.jsxs("div",{className:"pt-2 flex gap-3",children:[g.jsx("button",{type:"button",onClick:e,disabled:r,className:"flex-1 px-4 py-2.5 rounded-lg border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors disabled:opacity-50",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:!u||r,className:"flex-1 px-4 py-2.5 rounded-lg bg-gradient-to-r from-blue-600 to-cyan-500 text-white font-medium hover:from-blue-700 hover:to-cyan-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-all shadow-lg shadow-blue-500/25 hover:shadow-xl hover:shadow-blue-500/40",children:r?g.jsxs(g.Fragment,{children:[g.jsx(Vo,{className:"h-5 w-5 animate-spin"}),"Creating..."]}):"Create Course"})]})]})]})})]})})},aOe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(!0),[i,o]=j.useState(!1),[s,a]=j.useState(""),[l,u]=j.useState({show:!1,message:"",type:"success"});j.useEffect(()=>{if(!$n.currentUser){r(!1);return}const d=Ka(xu(Lr,"courses"),BF("instructorId","==",$n.currentUser.uid)),p=fS(d,v=>{const x=v.docs.map(_=>({id:_.id,..._.data()}));x.sort((_,b)=>{var C,S;const w=(C=_.createdAt)!=null&&C.toMillis?_.createdAt.toMillis():0;return((S=b.createdAt)!=null&&S.toMillis?b.createdAt.toMillis():0)-w}),e(x),r(!1)},v=>{console.error("Firestore Error:",v),r(!1),c("Failed to load courses. Please refresh the page.","error")});return()=>p()},[]);const c=(d,p)=>{u({show:!0,message:d,type:p})},f=t.filter(d=>d.title.toLowerCase().includes(s.toLowerCase())||d.code.toLowerCase().includes(s.toLowerCase())||d.description&&d.description.toLowerCase().includes(s.toLowerCase()));return g.jsxs("div",{className:"space-y-8 animate-fade-in max-w-7xl mx-auto",children:[g.jsxs(ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[g.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-600 to-cyan-500 rounded-xl shadow-lg",children:g.jsx(bd,{className:"h-6 w-6 text-white"})}),"My Courses"]}),g.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 max-w-xl",children:"Manage your curriculum, track student enrollment, and access grading tools."})]}),g.jsxs(ue.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(!0),className:"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-cyan-500 text-white px-5 py-2.5 rounded-lg font-medium hover:from-blue-700 hover:to-cyan-600 shadow-lg shadow-blue-500/25 hover:shadow-xl hover:shadow-blue-500/40 transition-all",children:[g.jsx(sl,{className:"h-5 w-5"}),"Create New Course"]})]}),g.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white/60 dark:bg-slate-800/50 backdrop-blur-md p-1.5 rounded-xl border border-slate-200/50 dark:border-slate-700/50 flex items-center shadow-lg hover:shadow-xl transition-shadow",children:[g.jsxs("div",{className:"relative flex-1",children:[g.jsx(ey,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),g.jsx("input",{type:"text",placeholder:"Search by title, code, or keyword...",value:s,onChange:d=>a(d.target.value),className:"w-full pl-12 pr-4 py-3 bg-transparent border-none focus:ring-0 text-slate-900 dark:text-white placeholder:text-slate-400 outline-none"})]}),g.jsx("div",{className:"h-8 w-[1px] bg-slate-200/50 dark:bg-slate-700/50 mx-2 hidden md:block"}),g.jsxs("div",{className:"hidden md:flex items-center gap-2 px-4 text-sm text-slate-500 dark:text-slate-400",children:[g.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:f.length}),g.jsx("span",{children:"results found"})]})]}),g.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n?[...Array(4)].map((d,p)=>g.jsx(sOe,{},`skeleton-${p}`)):f.length>0?f.map((d,p)=>g.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.05},children:g.jsx(Dw,{course:d})},d.id)):g.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"col-span-full py-20 flex flex-col items-center justify-center text-center bg-white/60 dark:bg-slate-800/50 backdrop-blur-md rounded-2xl border border-dashed border-slate-300/50 dark:border-slate-700/50 shadow-lg",children:[g.jsx("div",{className:"h-20 w-20 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center mb-6",children:g.jsx(ko,{className:"h-10 w-10 text-slate-300 dark:text-slate-600"})}),g.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:s?"No matches found":"No courses yet"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mb-8",children:s?"Try adjusting your search terms to find what you are looking for.":"Get started by creating your first course to begin managing your students and exams."}),!s&&g.jsxs(ue.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(!0),className:"text-primary dark:text-blue-400 font-medium hover:underline flex items-center gap-2",children:["Create your first course now ",g.jsx(sl,{className:"h-4 w-4"})]})]})}),g.jsx(j5,{isOpen:i,onClose:()=>o(!1),showToast:c}),g.jsx(oOe,{state:l,onClose:()=>u({...l,show:!1})})]})},lOe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(!1),[i,o]=j.useState(!0),s=Gi(),a=[{label:"Total Courses",value:t.length,icon:bd,color:"text-blue-600",bg:"bg-blue-100 dark:bg-blue-900/30"},{label:"Total Students",value:142,icon:wd,color:"text-teal-600",bg:"bg-teal-100 dark:bg-teal-900/30"},{label:"Papers Graded",value:856,icon:r8,color:"text-indigo-600",bg:"bg-indigo-100 dark:bg-indigo-900/30"}],l=[{name:"CS-101",avg:85},{name:"BIS-202",avg:72},{name:"IT-300",avg:90},{name:"CS-400",avg:65}],u=[{name:"Pass",value:400},{name:"Fail",value:50}],c=["#0d9488","#ef4444"];return j.useEffect(()=>{if(!$n.currentUser)return;const f=Ka(xu(Lr,"courses"),BF("instructorId","==",$n.currentUser.uid)),d=fS(f,p=>{const v=p.docs.map(x=>({id:x.id,...x.data()}));v.sort((x,_)=>{var T,C;const b=(T=x.createdAt)!=null&&T.toMillis?x.createdAt.toMillis():0;return((C=_.createdAt)!=null&&C.toMillis?_.createdAt.toMillis():0)-b}),e(v),o(!1)});return()=>d()},[]),g.jsxs("div",{className:"space-y-8 animate-fade-in",children:[g.jsxs("div",{className:"flex justify-between items-end",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Dashboard Overview"}),g.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Welcome back, Doctor."})]}),g.jsxs("div",{className:"hidden md:block text-sm text-slate-500",children:["Last updated: Today, ",new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:a.map((f,d)=>g.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 flex items-center gap-4",children:[g.jsx("div",{className:`p-3 rounded-lg ${f.bg}`,children:g.jsx(f.icon,{className:`h-6 w-6 ${f.color}`})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium",children:f.label}),g.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:f.value})]})]},d))}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[g.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-6",children:"Average Grades per Course"}),g.jsx("div",{className:"h-64",children:g.jsx(Nb,{width:"100%",height:"100%",children:g.jsxs(L5,{data:l,children:[g.jsx(bA,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),g.jsx(Qd,{dataKey:"name",stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1}),g.jsx(Jd,{stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1}),g.jsx(sr,{contentStyle:{backgroundColor:"#fff",borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{fill:"#f1f5f9"}}),g.jsx(us,{dataKey:"avg",fill:"#1e3a8a",radius:[4,4,0,0]})]})})})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[g.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-6",children:"Pass vs. Fail Ratio"}),g.jsx("div",{className:"h-64",children:g.jsx(Nb,{width:"100%",height:"100%",children:g.jsxs(rOe,{children:[g.jsx(Xi,{data:u,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",children:u.map((f,d)=>g.jsx(nv,{fill:c[d%c.length]},`cell-${d}`))}),g.jsx(sr,{})]})})})]})]}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4",children:"Your Courses"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[g.jsx(Dw,{type:"add",onClick:()=>r(!0)}),i?[1,2,3].map(f=>g.jsxs("div",{className:"h-[220px] bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 animate-pulse p-6",children:[g.jsx("div",{className:"h-6 w-1/3 bg-slate-200 dark:bg-slate-800 rounded mb-4"}),g.jsx("div",{className:"h-6 w-3/4 bg-slate-200 dark:bg-slate-800 rounded mb-8"}),g.jsx("div",{className:"h-10 w-full bg-slate-200 dark:bg-slate-800 rounded mt-auto"})]},f)):t.map(f=>g.jsx(Dw,{course:f,onClick:()=>s(`/faculty/courses/${f.id}`)},f.id))]})]}),g.jsx(j5,{isOpen:n,onClose:()=>r(!1),showToast:(f,d)=>{console.log(`${d}: ${f}`)}})]})},hc=10,uOe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(!0),[i,o]=j.useState(""),[s,a]=j.useState(null),[l,u]=j.useState(null),[c,f]=j.useState(1),[d,p]=j.useState(!0),[v,x]=j.useState([]);j.useEffect(()=>{_("initial")},[]);const _=async w=>{r(!0);try{let T;const C=xu(Lr,"students");w==="initial"?(T=Ka(C,Gh("fullName"),U0(hc)),f(1),x([])):w==="next"&&s?(T=Ka(C,Gh("fullName"),kie(s),U0(hc)),f(P=>P+1)):w==="prev"&&v.length>1?(T=Ka(C,Gh("fullName"),Oie(l),Iie(hc)),f(P=>P-1)):T=Ka(C,Gh("fullName"),U0(hc));const S=await Mie(T),I=[];S.forEach(P=>{I.push({id:P.id,...P.data()})}),e(I),S.docs.length>0?(u(S.docs[0]),a(S.docs[S.docs.length-1]),w==="next"||w==="initial"?x(P=>[...P,S.docs[0]]):w==="prev"&&x(P=>P.slice(0,-1)),p(S.docs.length===hc)):p(!1)}catch(T){console.error("Error fetching students:",T)}finally{r(!1)}},b=t.filter(w=>w.fullName.toLowerCase().includes(i.toLowerCase())||w.email.toLowerCase().includes(i.toLowerCase()));return g.jsxs("div",{className:"space-y-6 animate-fade-in max-w-7xl mx-auto",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[g.jsx(wd,{className:"h-6 w-6 text-primary dark:text-blue-400"}),"Student Directory"]}),g.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Manage and view enrolled students."})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"relative",children:[g.jsx(ey,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),g.jsx("input",{type:"text",placeholder:"Filter current page...",value:i,onChange:w=>o(w.target.value),className:"pl-10 pr-4 py-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg text-sm focus:ring-2 focus:ring-primary/20 outline-none w-64"})]}),g.jsx(Et,{variant:"outline",size:"sm",children:"Export CSV"})]})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden",children:[g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left border-collapse",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-800",children:[g.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Student Name"}),g.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Academic Level"}),g.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Status"}),g.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider text-right",children:"Actions"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-800",children:n?g.jsx("tr",{children:g.jsx("td",{colSpan:4,className:"px-6 py-12 text-center",children:g.jsx(Vo,{className:"h-8 w-8 animate-spin mx-auto text-primary dark:text-blue-400"})})}):b.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-slate-500",children:"No students found."})}):b.map(w=>g.jsxs(ue.tr,{initial:{opacity:0},animate:{opacity:1},className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[g.jsx("td",{className:"px-6 py-4",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-tr from-blue-100 to-teal-100 dark:from-blue-900 dark:to-teal-900 flex items-center justify-center text-primary dark:text-blue-300 font-bold mr-3",children:w.fullName.charAt(0)}),g.jsxs("div",{children:[g.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:w.fullName}),g.jsxs("div",{className:"text-sm text-slate-500 flex items-center gap-1",children:[g.jsx(qL,{className:"h-3 w-3"}),w.email]})]})]})}),g.jsx("td",{className:"px-6 py-4",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(ko,{className:"h-4 w-4 text-slate-400"}),g.jsxs("span",{className:"text-slate-700 dark:text-slate-300",children:["Level ",w.level]})]})}),g.jsx("td",{className:"px-6 py-4",children:g.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:"Active"})}),g.jsx("td",{className:"px-6 py-4 text-right",children:g.jsx("button",{className:"text-slate-400 hover:text-primary dark:hover:text-blue-400 transition-colors",children:g.jsx(t8,{className:"h-5 w-5"})})})]},w.id))})]})}),g.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[g.jsxs("div",{className:"text-sm text-slate-500",children:["Page ",g.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:c})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs(Et,{variant:"outline",size:"sm",onClick:()=>_("prev"),disabled:c===1||n,children:[g.jsx(Zz,{className:"h-4 w-4 mr-1"}),"Previous"]}),g.jsxs(Et,{variant:"outline",size:"sm",onClick:()=>_("next"),disabled:!d||n,children:["Next",g.jsx(FL,{className:"h-4 w-4 ml-1"})]})]})]})]})]})},cOe=()=>g.jsxs("div",{className:"space-y-6 animate-fade-in max-w-4xl mx-auto",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[g.jsx(sm,{className:"h-6 w-6 text-primary dark:text-blue-400"}),"Settings"]}),g.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Manage your account preferences and security."})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden",children:[g.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800",children:g.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[g.jsx(am,{className:"h-5 w-5 text-slate-400"}),"Profile Information"]})}),g.jsxs("div",{className:"p-6 space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Full Name"}),g.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white",defaultValue:"Dr. Ahmed Hassan",disabled:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email Address"}),g.jsx("input",{type:"email",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white",defaultValue:"ahmed@bis.edu.eg",disabled:!0})]})]}),g.jsx("div",{className:"pt-2",children:g.jsx(Et,{variant:"outline",size:"sm",disabled:!0,children:"Edit Profile (Coming Soon)"})})]})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden",children:[g.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800",children:g.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[g.jsx($L,{className:"h-5 w-5 text-slate-400"}),"Notifications"]})}),g.jsx("div",{className:"p-6 space-y-4",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:"Email Notifications"}),g.jsx("p",{className:"text-sm text-slate-500",children:"Receive summaries of graded exams."})]}),g.jsxs("div",{className:"relative inline-block w-12 mr-2 align-middle select-none transition duration-200 ease-in",children:[g.jsx("input",{type:"checkbox",name:"toggle",id:"toggle",className:"toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"}),g.jsx("label",{htmlFor:"toggle",className:"toggle-label block overflow-hidden h-6 rounded-full bg-slate-300 cursor-pointer"})]})]})})]})]}),fOe="YOUR_API_KEY_HERE",$5=t=>new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>{typeof r.result=="string"?e(r.result.split(",")[1]):n(new Error("Failed to convert file to Base64"))},r.onerror=i=>n(i)}),dOe=({state:t,onClose:e})=>(j.useEffect(()=>{if(t.show){const n=setTimeout(e,3e3);return()=>clearTimeout(n)}},[t.show,e]),g.jsx(hr,{children:t.show&&g.jsxs(ue.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},transition:{type:"spring",damping:20,stiffness:300},className:"fixed bottom-6 right-6 z-[60] flex items-center gap-3 px-5 py-4 rounded-xl shadow-2xl bg-white dark:bg-slate-800/95 backdrop-blur-md border border-slate-200/50 dark:border-slate-700/50",children:[t.type==="success"?g.jsx("div",{className:"p-1.5 bg-gradient-to-br from-green-100 to-emerald-100 dark:from-green-900/40 dark:to-emerald-900/40 rounded-full shadow-lg",children:g.jsx(UL,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}):g.jsx("div",{className:"p-1.5 bg-gradient-to-br from-red-100 to-rose-100 dark:from-red-900/40 dark:to-rose-900/40 rounded-full shadow-lg",children:g.jsx(Zg,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h4",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:t.type==="success"?"Success":"Error"}),g.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-0.5",children:t.message})]}),g.jsx("button",{onClick:e,className:"ml-2 p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:g.jsx(Fo,{className:"h-4 w-4"})})]})})),hOe=({isOpen:t,onClose:e,courseId:n,showToast:r})=>{const[i,o]=j.useState(!1),[s,a]=j.useState({title:"",date:"",totalMarks:"",modelAnswerPdf:"",status:"Draft"}),[l,u]=j.useState(null),c=v=>{a(x=>({...x,[v.target.name]:v.target.value}))},f=async v=>{var _;const x=(_=v.target.files)==null?void 0:_[0];if(x){u(x.name);try{const b=await $5(x);a(w=>({...w,modelAnswerPdf:b})),r("PDF converted to Base64 successfully!","success")}catch(b){console.error("Error converting PDF to Base64:",b),a(w=>({...w,modelAnswerPdf:""})),u(null),r("Failed to convert PDF. Please try again.","error")}}else a(b=>({...b,modelAnswerPdf:""})),u(null)},d=async v=>{if(v.preventDefault(),!!n){o(!0);try{const x={...s,totalMarks:Number(s.totalMarks),createdAt:hS()};await KF(xu(Lr,"courses",n,"exams"),x),r("Exam created successfully!","success"),a({title:"",date:"",totalMarks:"",modelAnswerPdf:"",status:"Draft"}),u(null),e()}catch(x){console.error("Error creating exam:",x),r("Failed to create exam. Please try again.","error")}finally{o(!1)}}},p=s.title.trim().length>0&&s.date.trim().length>0&&s.totalMarks.trim().length>0&&Number(s.totalMarks)>0&&s.modelAnswerPdf.length>0;return g.jsx(hr,{children:t&&g.jsxs(g.Fragment,{children:[g.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50",onClick:e}),g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[60] p-4 pointer-events-none",children:g.jsxs(ue.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:v=>v.stopPropagation(),className:"bg-white/95 dark:bg-slate-900/95 backdrop-blur-md w-full max-w-2xl rounded-2xl shadow-2xl border border-slate-200/50 dark:border-slate-800/50 pointer-events-auto flex flex-col max-h-[90vh]",children:[g.jsxs("div",{className:"p-6 border-b border-slate-200/50 dark:border-slate-800/50 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/30 rounded-t-2xl",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Create New Exam"}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Define the exam details and model answer for AI grading."})]}),g.jsx("button",{onClick:e,disabled:i,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors disabled:opacity-50",children:g.jsx(Fo,{className:"h-5 w-5"})})]}),g.jsxs("form",{onSubmit:d,className:"p-6 space-y-5 overflow-y-auto flex-1",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:["Exam Title ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{name:"title",value:s.title,onChange:c,placeholder:"e.g. Midterm Examination",required:!0,disabled:i,className:"w-full px-4 py-2.5 rounded-lg bg-slate-50/80 dark:bg-slate-950/80 backdrop-blur-sm border border-slate-200 dark:border-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all disabled:opacity-50"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:["Exam Date ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{name:"date",type:"date",value:s.date,onChange:c,required:!0,disabled:i,className:"w-full px-4 py-2.5 rounded-lg bg-slate-50/80 dark:bg-slate-950/80 backdrop-blur-sm border border-slate-200 dark:border-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all disabled:opacity-50"})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:["Total Marks ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{name:"totalMarks",type:"number",value:s.totalMarks,onChange:c,placeholder:"100",min:"1",required:!0,disabled:i,className:"w-full px-4 py-2.5 rounded-lg bg-slate-50/80 dark:bg-slate-950/80 backdrop-blur-sm border border-slate-200 dark:border-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all disabled:opacity-50"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Status"}),g.jsxs("select",{name:"status",value:s.status,onChange:c,disabled:i,className:"w-full px-4 py-2.5 rounded-lg bg-slate-50/80 dark:bg-slate-950/80 backdrop-blur-sm border border-slate-200 dark:border-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all disabled:opacity-50",children:[g.jsx("option",{value:"Draft",children:"Draft"}),g.jsx("option",{value:"Published",children:"Published"}),g.jsx("option",{value:"Graded",children:"Graded"})]})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:["Model Answer (PDF) ",g.jsx("span",{className:"text-red-500",children:"*"}),g.jsx("span",{className:"text-xs text-slate-500 ml-2",children:"(Upload PDF for AI grading)"})]}),g.jsxs("label",{htmlFor:"modelAnswerPdf",className:"flex items-center justify-center w-full h-32 px-4 py-2.5 rounded-lg border-2 border-dashed border-slate-200 dark:border-slate-700 bg-slate-50/80 dark:bg-slate-950/80 text-slate-500 cursor-pointer hover:border-primary hover:text-primary transition-all",children:[g.jsx("input",{id:"modelAnswerPdf",name:"modelAnswerPdf",type:"file",accept:".pdf",onChange:f,required:!0,disabled:i,className:"hidden"}),l?g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Ua,{className:"h-5 w-5"}),g.jsx("span",{children:l}),g.jsx("button",{type:"button",onClick:v=>{v.stopPropagation(),a(x=>({...x,modelAnswerPdf:""})),u(null)},className:"text-red-500 hover:text-red-700",children:g.jsx(Fo,{className:"h-4 w-4"})})]}):g.jsxs("div",{className:"flex flex-col items-center gap-2",children:[g.jsx(BL,{className:"h-8 w-8"}),g.jsx("p",{className:"text-sm",children:"Drag & drop PDF here, or click to browse"}),g.jsx("p",{className:"text-xs text-slate-400",children:"(Max 5MB)"})]})]})]})]}),g.jsxs("div",{className:"pt-2 flex gap-3",children:[g.jsx("button",{type:"button",onClick:e,disabled:i,className:"flex-1 px-4 py-2.5 rounded-lg border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors disabled:opacity-50",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:!p||i,className:"flex-1 px-4 py-2.5 rounded-lg bg-gradient-to-r from-blue-600 to-cyan-500 text-white font-medium hover:from-blue-700 hover:to-cyan-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-all shadow-lg shadow-blue-500/25 hover:shadow-xl hover:shadow-blue-500/40",children:i?g.jsxs(g.Fragment,{children:[g.jsx(Vo,{className:"h-5 w-5 animate-spin"}),"Creating..."]}):"Create Exam"})]})]})]})})]})})},pOe=({isOpen:t,onClose:e,exam:n,courseId:r,showToast:i})=>{const[o,s]=j.useState(null),[a,l]=j.useState(null),[u,c]=j.useState(!1),[f,d]=j.useState(null),p=j.useCallback(b=>{b.preventDefault(),b.stopPropagation();const w=b.dataTransfer.files;w&&w[0]&&(s(w[0]),l(URL.createObjectURL(w[0])))},[]),v=b=>{var T;const w=(T=b.target.files)==null?void 0:T[0];w&&(s(w),l(URL.createObjectURL(w)))},x=async()=>{var b,w,T,C,S;if(!o||!n.modelAnswerPdf){i("Please upload both student paper and ensure a model answer PDF is set.","error");return}c(!0),d(null);try{const I=await $5(o),P={contents:[{parts:[{text:"You are a strict academic professor. You are provided with a Model Answer (PDF) and a Student's Handwritten Answer (Image). Grade the student's answer strictly against the model answer. Provide the response in a JSON format with the following keys: 'score' (number), 'max_score' (number), 'feedback' (string), and 'mistakes' (string[]). Do not include any other text or formatting outside the JSON."},{inlineData:{mimeType:"application/pdf",data:n.modelAnswerPdf}},{inlineData:{mimeType:o.type,data:I}}]}]},A=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro-vision:generateContent?key=${fOe}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});if(!A.ok)throw new Error(`Gemini API error: ${A.status} ${A.statusText}`);const N=(S=(C=(T=(w=(b=(await A.json()).candidates)==null?void 0:b[0])==null?void 0:w.content)==null?void 0:T.parts)==null?void 0:C[0])==null?void 0:S.text;if(N){const R=N.match(/```json\n([\s\S]*?)\n```/),D=R?R[1]:N,M=JSON.parse(D);d(M),i("Paper graded successfully!","success"),await Lie(Dl(Lr,"courses",r,"exams",n.id),{status:"Graded",lastGraded:hS(),lastGradeResult:M})}else throw new Error("No text response from Gemini API")}catch(I){console.error("Error grading paper:",I),i(`Failed to grade paper: ${I instanceof Error?I.message:String(I)}`,"error")}finally{c(!1)}};j.useEffect(()=>{t||(s(null),l(null),d(null),c(!1))},[t]);const _=g.jsxs("div",{className:"flex flex-col gap-6",children:[g.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-slate-800 dark:to-slate-900 p-6 rounded-xl border border-blue-100 dark:border-slate-700",children:[g.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2 flex items-center gap-2",children:[g.jsx(ko,{className:"h-6 w-6 text-primary dark:text-blue-400"}),'AI Grading Lab for "',n.title,'"']}),g.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Upload student handwritten papers to be graded automatically against the model answer PDF using Gemini AI."})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm",children:[g.jsxs("h4",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[g.jsx(i8,{className:"h-5 w-5 text-indigo-500"}),"Student Paper (Handwritten Image)"]}),g.jsxs("div",{className:"flex flex-col items-center justify-center w-full min-h-[200px] px-4 py-6 rounded-lg border-2 border-dashed border-slate-200 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-950/50 text-slate-500 cursor-pointer hover:border-primary hover:text-primary transition-all",onDrop:p,onDragOver:b=>b.preventDefault(),onDragLeave:b=>b.preventDefault(),onClick:()=>{var b;return(b=document.getElementById("studentImageInput"))==null?void 0:b.click()},children:[g.jsx("input",{id:"studentImageInput",type:"file",accept:"image/*",className:"hidden",onChange:v,disabled:u}),a?g.jsx("img",{src:a,alt:"Student Paper Preview",className:"max-h-48 rounded-md shadow-md"}):g.jsxs("div",{className:"flex flex-col items-center gap-3",children:[g.jsx(BL,{className:"h-10 w-10"}),g.jsx("p",{className:"text-sm font-medium",children:"Drag & drop image here, or click to upload"}),g.jsx("p",{className:"text-xs text-slate-400",children:"JPEG, PNG, GIF up to 5MB"})]})]}),o&&g.jsxs("p",{className:"mt-3 text-sm text-slate-600 dark:text-slate-400 text-center",children:["Selected: ",o.name]}),g.jsx(Et,{variant:"primary",className:"w-full mt-6",onClick:x,disabled:!o||!n.modelAnswerPdf||u,children:u?g.jsxs(g.Fragment,{children:[g.jsx(Vo,{className:"h-5 w-5 animate-spin mr-2"})," Analyzing..."]}):"Grade Paper with AI"}),!n.modelAnswerPdf&&g.jsx("p",{className:"text-red-500 text-sm mt-2 text-center",children:"No model answer PDF set for this exam. Please edit the exam to upload one."})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm",children:[g.jsxs("h4",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[g.jsx(ko,{className:"h-5 w-5 text-emerald-500"}),"Grading Results"]}),u&&g.jsxs("div",{className:"space-y-4 animate-pulse",children:[g.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-3/4"}),g.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),g.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-5/6"}),g.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-2/3"})]}),f?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Score"}),g.jsxs("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:[f.score," / ",f.max_score]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Feedback"}),g.jsx("p",{className:"text-slate-700 dark:text-slate-300 whitespace-pre-wrap",children:f.feedback})]}),f.mistakes&&f.mistakes.length>0&&g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Mistakes Identified"}),g.jsx("ul",{className:"list-disc list-inside text-red-600 dark:text-red-400 text-sm space-y-1",children:f.mistakes.map((b,w)=>g.jsx("li",{children:b},w))})]})]}):!u&&g.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[g.jsx(ko,{className:"h-12 w-12 mx-auto mb-4 text-slate-300 dark:text-slate-700"}),g.jsx("p",{children:'Upload a student paper and click "Grade Paper" to see results.'})]})]})]})]});return g.jsx(hr,{children:t&&g.jsxs(g.Fragment,{children:[g.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50",onClick:e}),g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[60] p-4 pointer-events-none",children:g.jsxs(ue.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:b=>b.stopPropagation(),className:"bg-white/95 dark:bg-slate-900/95 backdrop-blur-md w-full max-w-5xl rounded-2xl shadow-2xl border border-slate-200/50 dark:border-slate-800/50 pointer-events-auto flex flex-col max-h-[90vh]",children:[g.jsxs("div",{className:"p-6 border-b border-slate-200/50 dark:border-slate-800/50 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/30 rounded-t-2xl",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"AI Grading Lab"}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Grade student papers using advanced AI."})]}),g.jsx("button",{onClick:e,disabled:u,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors disabled:opacity-50",children:g.jsx(Fo,{className:"h-5 w-5"})})]}),g.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:_}),g.jsx("div",{className:"p-4 border-t border-slate-200/50 dark:border-slate-800/50 flex justify-end bg-slate-50/50 dark:bg-slate-800/30 rounded-b-2xl",children:g.jsx(Et,{variant:"outline",onClick:e,disabled:u,children:"Close Lab"})})]})})]})})},mOe=()=>{const{courseId:t}=gz(),e=Gi(),[n,r]=j.useState(null),[i,o]=j.useState([]),[s,a]=j.useState(!0),[l,u]=j.useState(!0),[c,f]=j.useState("overview"),[d,p]=j.useState(!1),[v,x]=j.useState(!1),[_,b]=j.useState(null),[w,T]=j.useState({show:!1,message:"",type:"success"});j.useEffect(()=>{(async()=>{if(t)try{const R=Dl(Lr,"courses",t),D=await uS(R);D.exists()?r({id:D.id,...D.data()}):(console.log("No such course!"),e("/faculty/courses"))}catch(R){console.error("Error getting course:",R)}finally{a(!1)}})()},[t,e]),j.useEffect(()=>{if(!t){u(!1);return}const N=xu(Lr,"courses",t,"exams"),R=fS(N,D=>{const M=D.docs.map(U=>({id:U.id,...U.data()}));M.sort((U,z)=>{var V,q;const K=(V=U.createdAt)!=null&&V.toMillis?U.createdAt.toMillis():0;return((q=z.createdAt)!=null&&q.toMillis?z.createdAt.toMillis():0)-K}),o(M),u(!1)},D=>{console.error("Error fetching exams:",D),u(!1),C("Failed to load exams. Please refresh the page.","error")});return()=>R()},[t]);const C=j.useCallback((N,R)=>{T({show:!0,message:N,type:R})},[]),S=N=>{b(N),x(!0)},I=N=>{switch(N){case"Draft":return"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300";case"Published":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Graded":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";default:return"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300"}},P=N=>{if(!N)return"No date set";try{return new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return N}},A=[{name:"Quiz 1",avg:82},{name:"Midterm",avg:75},{name:"Essay",avg:88},{name:"Final",avg:70}],O=[{id:1,name:"Ali Ahmed",id_num:"2021001",status:"Active",grade:"A"},{id:2,name:"Sarah Mahmoud",id_num:"2021045",status:"Active",grade:"B+"},{id:3,name:"Omar Youssef",id_num:"2021089",status:"At Risk",grade:"C-"}];return s?g.jsx("div",{className:"flex items-center justify-center h-96",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):n?g.jsxs("div",{className:"space-y-6 animate-fade-in pb-12",children:[g.jsxs("div",{className:"flex flex-col space-y-4",children:[g.jsxs("button",{onClick:()=>e("/faculty/courses"),className:"flex items-center text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white transition-colors w-fit",children:[g.jsx(Yz,{className:"h-4 w-4 mr-1"}),"Back to Courses"]}),g.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[g.jsx("span",{className:"px-2.5 py-0.5 rounded text-xs font-mono font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",children:n.code}),g.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:n.title})]}),g.jsx("p",{className:"text-slate-600 dark:text-slate-400 max-w-2xl",children:n.description||"Manage course materials, view student roster, and grade exams for this semester."})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs(Et,{variant:"outline",size:"sm",children:[g.jsx(sm,{className:"h-4 w-4 mr-2"}),"Settings"]}),c==="exams"&&g.jsxs(Et,{variant:"primary",size:"sm",onClick:()=>p(!0),children:[g.jsx(sl,{className:"h-4 w-4 mr-2"}),"Create Exam"]})]})]})]}),g.jsx("div",{className:"border-b border-slate-200 dark:border-slate-800",children:g.jsx("nav",{className:"flex space-x-8","aria-label":"Tabs",children:["overview","students","exams","settings"].map(N=>g.jsxs("button",{onClick:()=>f(N),className:`
                relative py-4 px-1 text-sm font-medium capitalize transition-colors
                ${c===N?"text-primary dark:text-blue-400":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}
              `,children:[N,c===N&&g.jsx(ue.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary dark:bg-blue-400"})]},N))})}),g.jsx(hr,{mode:"wait",children:g.jsxs(ue.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[c==="overview"&&g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"lg:col-span-3 grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{className:"bg-white dark:bg-slate-900 p-5 rounded-xl border border-slate-200 dark:border-slate-800 flex items-center gap-4",children:[g.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-primary dark:text-blue-400",children:g.jsx(wd,{className:"h-6 w-6"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-slate-500",children:"Total Students"}),g.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:n.studentCount})]})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-900 p-5 rounded-xl border border-slate-200 dark:border-slate-800 flex items-center gap-4",children:[g.jsx("div",{className:"p-3 bg-teal-50 dark:bg-teal-900/20 rounded-lg text-teal-600 dark:text-teal-400",children:g.jsx(Ua,{className:"h-6 w-6"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-slate-500",children:"Exams Created"}),g.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:i.length})]})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-900 p-5 rounded-xl border border-slate-200 dark:border-slate-800 flex items-center gap-4",children:[g.jsx("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg text-indigo-600 dark:text-indigo-400",children:g.jsx(bd,{className:"h-6 w-6"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-slate-500",children:"Avg. Attendance"}),g.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"88%"})]})]})]}),g.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-800",children:[g.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-6",children:"Class Performance History"}),g.jsx("div",{className:"h-72",children:g.jsx(Nb,{width:"100%",height:"100%",children:g.jsxs(L5,{data:A,children:[g.jsx(bA,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),g.jsx(Qd,{dataKey:"name",stroke:"#64748b",axisLine:!1,tickLine:!1}),g.jsx(Jd,{stroke:"#64748b",axisLine:!1,tickLine:!1}),g.jsx(sr,{contentStyle:{backgroundColor:"#fff",borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{fill:"#f1f5f9"}}),g.jsx(us,{dataKey:"avg",fill:"#0d9488",radius:[4,4,0,0],barSize:40})]})})})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-800",children:[g.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Timeline"}),g.jsx("div",{className:"space-y-6",children:[1,2,3].map(N=>g.jsxs("div",{className:"flex gap-3",children:[g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-300 dark:bg-slate-700"}),g.jsx("div",{className:"w-0.5 h-full bg-slate-100 dark:bg-slate-800 mt-1"})]}),g.jsxs("div",{className:"pb-4",children:[g.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:"New grades published"}),g.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Midterm Examination"}),g.jsx("span",{className:"text-xs text-slate-400",children:"2 days ago"})]})]},N))})]})]}),c==="students"&&g.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 overflow-hidden",children:[g.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800 flex justify-between items-center",children:[g.jsxs("div",{className:"relative",children:[g.jsx(ey,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),g.jsx("input",{type:"text",placeholder:"Search student...",className:"pl-9 pr-4 py-2 text-sm border border-slate-200 dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),g.jsx(Et,{variant:"outline",size:"sm",children:"Download Roster"})]}),g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800/50 text-xs uppercase text-slate-500",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-4",children:"Student Name"}),g.jsx("th",{className:"px-6 py-4",children:"ID Number"}),g.jsx("th",{className:"px-6 py-4",children:"Status"}),g.jsx("th",{className:"px-6 py-4",children:"Current Grade"}),g.jsx("th",{className:"px-6 py-4"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-800",children:O.map(N=>g.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[g.jsx("td",{className:"px-6 py-4 font-medium text-slate-900 dark:text-white",children:N.name}),g.jsx("td",{className:"px-6 py-4 text-slate-500 font-mono text-xs",children:N.id_num}),g.jsx("td",{className:"px-6 py-4",children:g.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${N.status==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:N.status})}),g.jsx("td",{className:"px-6 py-4 font-bold text-slate-700 dark:text-slate-300",children:N.grade}),g.jsx("td",{className:"px-6 py-4 text-right",children:g.jsx("button",{className:"text-slate-400 hover:text-primary",children:g.jsx(zL,{className:"h-4 w-4"})})})]},N.id))})]})]}),c==="exams"&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center bg-blue-50 dark:bg-blue-900/10 p-6 rounded-xl border border-blue-100 dark:border-blue-800",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Exam Management"}),g.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Create and manage exams with model answers for AI-powered grading."})]}),g.jsxs(Et,{variant:"primary",onClick:()=>p(!0),children:[g.jsx(sl,{className:"h-4 w-4 mr-2"}),"Create Exam"]})]}),l?g.jsx("div",{className:"flex items-center justify-center py-12",children:g.jsx(Vo,{className:"h-8 w-8 animate-spin text-primary"})}):i.length===0?g.jsxs("div",{className:"bg-white dark:bg-slate-900 p-12 rounded-xl border border-slate-200 dark:border-slate-800 text-center",children:[g.jsx(Ua,{className:"h-12 w-12 text-slate-300 dark:text-slate-700 mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:"No exams yet"}),g.jsx("p",{className:"text-slate-500 mb-6",children:"Create your first exam to start managing assessments and grading."}),g.jsxs(Et,{variant:"primary",onClick:()=>p(!0),children:[g.jsx(sl,{className:"h-4 w-4 mr-2"}),"Create Your First Exam"]})]}):g.jsx("div",{className:"grid gap-4",children:i.map(N=>g.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-800 hover:shadow-md transition-shadow flex items-center justify-between group",children:[g.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[g.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-800 rounded-lg group-hover:bg-blue-50 dark:group-hover:bg-blue-900/20 transition-colors",children:g.jsx(Ua,{className:"h-6 w-6 text-slate-500 group-hover:text-primary dark:group-hover:text-blue-400"})}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[g.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:N.title}),g.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${I(N.status)}`,children:N.status})]}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 mt-1",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(VL,{className:"h-3 w-3"}),P(N.date)]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(Ua,{className:"h-3 w-3"}),N.totalMarks," Marks"]})]})]})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"text-right hidden md:block",children:[g.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:N.modelAnswerPdf?"Model Answer Set":"No Answer Key"}),g.jsx("p",{className:"text-xs text-slate-500",children:"Ready for grading"})]}),g.jsx(Et,{variant:"outline",size:"sm",onClick:()=>S(N),children:"Grade with AI"})]})]},N.id))})]}),c==="settings"&&g.jsxs("div",{className:"bg-white dark:bg-slate-900 p-12 rounded-xl border border-slate-200 dark:border-slate-800 text-center",children:[g.jsx(sm,{className:"h-12 w-12 text-slate-300 mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"Course Settings"}),g.jsx("p",{className:"text-slate-500",children:"Archiving and deletion options will appear here."})]})]},c)}),t&&g.jsx(hOe,{isOpen:d,onClose:()=>p(!1),courseId:t,showToast:C}),v&&_&&g.jsx(pOe,{isOpen:v,onClose:()=>x(!1),exam:_,courseId:t,showToast:C}),g.jsx(dOe,{state:w,onClose:()=>T({...w,show:!1})})]}):null},gOe=({children:t})=>{const[e,n]=j.useState(null),[r,i]=j.useState(!0),o=Xo();return j.useEffect(()=>{const s=bee($n,a=>{n(a),i(!1)});return()=>s()},[]),r?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-950",children:g.jsx(Vo,{className:"h-8 w-8 animate-spin text-primary dark:text-blue-400"})}):e?g.jsx(g.Fragment,{children:t}):g.jsx(vc,{to:"/login",state:{from:o},replace:!0})},yOe=()=>g.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 flex flex-col items-center justify-center p-4",children:g.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-slate-900 rounded-xl shadow-lg p-8 text-center border border-slate-100 dark:border-slate-800",children:[g.jsx("div",{className:"w-16 h-16 bg-teal-100 dark:bg-teal-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:g.jsx(ko,{className:"h-8 w-8 text-secondary dark:text-teal-400"})}),g.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Student Portal"}),g.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-8",children:"Welcome, Student. Your exam results and feedback will be displayed here."}),g.jsxs("div",{className:"space-y-3",children:[g.jsx(om,{to:"/",className:"block",children:g.jsx(Et,{variant:"outline",className:"w-full justify-center",children:"Return to Home"})}),g.jsx(om,{to:"/login",className:"block",children:g.jsx("span",{className:"text-sm text-slate-500 hover:text-primary cursor-pointer",children:"Log Out"})})]})]})}),vOe=()=>g.jsx(Uz,{children:g.jsxs(Rz,{children:[g.jsx(In,{path:"/",element:g.jsx(FQ,{})}),g.jsx(In,{path:"/login",element:g.jsx($ie,{})}),g.jsxs(In,{path:"/faculty",element:g.jsx(gOe,{children:g.jsx(Vie,{})}),children:[g.jsx(In,{index:!0,element:g.jsx(vc,{to:"overview",replace:!0})}),g.jsx(In,{path:"overview",element:g.jsx(lOe,{})}),g.jsx(In,{path:"courses",element:g.jsx(aOe,{})}),g.jsx(In,{path:"courses/:courseId",element:g.jsx(mOe,{})}),g.jsx(In,{path:"students",element:g.jsx(uOe,{})}),g.jsx(In,{path:"settings",element:g.jsx(cOe,{})})]}),g.jsx(In,{path:"/student-portal",element:g.jsx(yOe,{})}),g.jsx(In,{path:"/faculty-dashboard",element:g.jsx(vc,{to:"/faculty",replace:!0})}),g.jsx(In,{path:"/faculty-dashboard/*",element:g.jsx(vc,{to:"/faculty",replace:!0})}),g.jsx(In,{path:"*",element:g.jsx(vc,{to:"/",replace:!0})})]})}),V5=document.getElementById("root");if(!V5)throw new Error("Failed to find the root element");const xOe=gx.createRoot(V5);xOe.render(g.jsx($.StrictMode,{children:g.jsx(vOe,{})}));
